"""
–¢–µ—Å—Ç retry-–ª–æ–≥–∏–∫–∏ –Ω–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö/–ª–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö
(–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫)
"""
from processor import DocumentProcessor

# –ó–∞–≤–µ–¥–æ–º–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ, –ª–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏)
test_cases = [
    "–û–û–û –ú–ö–ö ¬´–ö—Ä–µ–¥–∏—Ç—Å–∫–∞¬ª",         # –≠—Ç–∞ –∫–æ–º–ø–∞–Ω–∏—è –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å –≤ –ø—Ä–æ—à–ª—ã—Ö –ª–æ–≥–∞—Ö
    "–û–û–û –ú–ö–ö ¬´–î–≠–ü-–ï–¥–∏–Ω—ã–π¬ª",        # –≠—Ç–∞ —Ç–æ–∂–µ –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å
    "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",      # –ù–µ –Ω–∞—Ö–æ–¥–∏–ª–∞—Å—å
    "–û–û–û –ú–ö–ö ¬´–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è123¬ª", # –Ø–≤–Ω–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è
]

print("=" * 80)
print("üîÑ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø RETRY-–ú–ï–•–ê–ù–ò–ó–ú–ê")
print("=" * 80)
print()
print("–¢–µ—Å—Ç –Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ—á–Ω–æ –¥–∞–¥—É—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã")
print("–°–º–æ—Ç—Ä–∏–º –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –¥–µ–ª–∞–µ—Ç 3 –ø–æ–ø—ã—Ç–∫–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏")
print()

for idx, company in enumerate(test_cases, 1):
    print("=" * 80)
    print(f"[{idx}/{len(test_cases)}] {company}")
    print("=" * 80)
    
    inn, address = DocumentProcessor.parse_inn_and_address_from_rusprofile(company)
    
    print()
    if inn:
        print(f"‚úÖ –ù–∞–π–¥–µ–Ω–æ: –ò–ù–ù {inn}")
    else:
        print(f"‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ –¥–∞–∂–µ –ø–æ—Å–ª–µ 3 –ø–æ–ø—ã—Ç–æ–∫ (–∫–æ–º–ø–∞–Ω–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ª–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–∞)")
    print()

print("=" * 80)
print("–ò–¢–û–ì:")
print("=" * 80)
print("–í—ã —É–≤–∏–¥–µ–ª–∏ –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞:")
print("  1. –ü–æ–ª—É—á–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç (score < 0.5)")
print("  2. –û—Ç–∫–ª–æ–Ω—è–µ—Ç –µ–≥–æ")
print("  3. –î–µ–ª–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É 1.5-3 —Å–µ–∫")
print("  4. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–ø—ã—Ç–∫—É —Å –ù–û–í–´–ú–ò User-Agent –∏ IP")
print("  5. –î–µ–ª–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏")
print()
print("–≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ RusProfile!")
