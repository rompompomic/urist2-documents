#!/usr/bin/env python3
"""
–¢–µ—Å—Ç fallback –Ω–∞ –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
"""

from processor import DocumentProcessor

# –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –±–∞–Ω–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –ø—Ä–∏ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º –ø–æ–∏—Å–∫–µ
test_companies = [
    "–ü–ê–û –í–¢–ë",
    "–ü–ê–û ¬´–ë–∞–Ω–∫ –§–ö –û—Ç–∫—Ä—ã—Ç–∏–µ¬ª",
    "–ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª",  # –≠—Ç–æ—Ç —Ä–∞–±–æ—Ç–∞–ª –∏ —Ä–∞–Ω—å—à–µ, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∏–º
]

print("=" * 80)
print("üîç –¢–ï–°–¢ FALLBACK –ù–ê –ü–û–õ–ù–û–ï –ù–ê–ó–í–ê–ù–ò–ï")
print("=" * 80)
print()
print("–†–∞–Ω—å—à–µ '–ü–ê–û –í–¢–ë' —É–ø—Ä–æ—â–∞–ª–æ—Å—å –¥–æ '–í–¢–ë' –∏ –Ω–∞—Ö–æ–¥–∏–ª–æ '–í–¢–ë –†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä'")
print("–¢–µ–ø–µ—Ä—å –µ—Å–ª–∏ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç ‚Üí –∏—â–µ–º –ø–æ–ª–Ω–æ–µ")
print()

for i, company in enumerate(test_companies, 1):
    print("=" * 80)
    print(f"[{i}/{len(test_companies)}] {company}")
    print("=" * 80)
    
    inn, address = DocumentProcessor.parse_inn_and_address_from_rusprofile(company)
    
    if inn:
        print(f"\n‚úÖ –£–°–ü–ï–•:")
        print(f"   –ò–ù–ù: {inn}")
        print(f"   –ê–¥—Ä–µ—Å: {address[:70]}...")
    else:
        print(f"\n‚ùå –ù–ï –ù–ê–ô–î–ï–ù–û")
    
    print()

print("=" * 80)
print("–¢–ï–°–¢ –ó–ê–í–ï–†–®–ï–ù")
print("=" * 80)
