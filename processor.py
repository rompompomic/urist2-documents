"""Core document processing logic reused by CLI and web service."""

from __future__ import annotations

import base64
import json
import os
import random
import re
import tempfile
import time
import zipfile
import difflib
from dataclasses import dataclass
from datetime import date, datetime
from decimal import Decimal, InvalidOperation
from pathlib import Path
from typing import Any, Dict, Iterable, List, Optional
from zoneinfo import ZoneInfo

from openai import OpenAI
import pypdfium2 as pdfium
from PIL import Image
from dotenv import load_dotenv
from docxtpl import DocxTemplate, RichText  # –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü
import requests
from bs4 import BeautifulSoup
from urllib.parse import quote_plus
import psutil  # –î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞–º—è—Ç–∏

# Load environment variables from .env file
load_dotenv()

# === Processing settings ===
GPT_MODEL = "gpt-5-mini"  # Using GPT-5-mini with vision capabilities
TEMPLATE_DOCX = Path("templ") / "–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ.docx"
FILLED_TEMPLATE_SUFFIX = " (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ)"
OUTPUT_DIR = Path("resultdoc")  # –ü–∞–ø–∫–∞ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

# Initialize OpenAI client
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

print(f"OK - Using {GPT_MODEL} for document processing")


@dataclass
class DocumentOutput:
    file: str
    document_type: str
    pages: int
    processing_time_seconds: float
    data: Dict[str, Any]
    error: Optional[str] = None
    extracted_text: Optional[str] = None


class DocumentProcessor:
    """Processes PDF documents and aggregates structured data."""

    def __init__(self) -> None:
        pass

    # === Prompt configuration ===
    DOCUMENT_TYPES: Dict[str, Dict[str, Any]] = {
        "–ø–∞—Å–ø–æ—Ä—Ç": {
            "keywords": ["–ø–∞—Å–ø–æ—Ä—Ç", "passport", "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ —Ä—Ñ", "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏", "—É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–∏–π –ª–∏—á–Ω–æ—Å—Ç—å"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–∞—Å–ø–æ—Ä—Ç –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ –†–§ (–∫–Ω–∏–∂–µ—á–Ω—ã–π –æ–±—Ä–∞–∑—Ü–∞ 1997/2011). –î–∞–∂–µ –µ—Å–ª–∏ OCR –¥–∞—ë—Ç —à—É–º –≤—Ä–æ–¥–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å—Ç—Ä–æ–∫ "–ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∑–∞–¥–∞—á—É" –∏–ª–∏ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å—á–∏—Ç–∞–π —ç—Ç–æ –≤–æ–¥—è–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏ –∏ –∏–∑–≤–ª–µ–∫–∞–π –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –ø–æ –º–∞–∫–µ—Ç—É. –ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ—á–∏—Ç–∞–µ–º –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å—Ç–∞–≤—å null, –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–π –∏ –Ω–µ –ø—Ä–æ—Å–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–í–ê–ñ–ù–û: –í—ã–±–∏—Ä–∞–π —Ç–æ–ª—å–∫–æ –ê–ö–¢–£–ê–õ–¨–ù–£–Æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–ø–∏—Å–∫–µ) ‚Äî –≤—ã–±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–Æ–Æ (—Å–∞–º—É—é —Å–≤–µ–∂—É—é –ø–æ –¥–∞—Ç–µ).
- –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —à—Ç–∞–º–ø–æ–≤ –æ –±—Ä–∞–∫–µ/—Ä–∞–∑–≤–æ–¥–µ ‚Äî —É–∫–∞–∂–∏ –ü–û–°–õ–ï–î–ù–ò–ô —Å—Ç–∞—Ç—É—Å (–∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ).
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–º–µ—Ç–∫–∞ –æ —Å–Ω—è—Ç–∏–∏ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –Ω–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äî –±–µ—Ä–∏ —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤—É—é—â—É—é –ø—Ä–æ–ø–∏—Å–∫—É.

–†–ê–ë–û–¢–ê –° –†–ê–ó–ú–´–¢–´–ú–ò –®–¢–ê–ú–ü–ê–ú–ò –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò:
- –®—Ç–∞–º–ø –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–∞—Å—Ç–æ —Ä–∞–∑–º—ã—Ç –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –Ω–µ—á–∏—Ç–∞–µ–º ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
- –°–¢–ê–†–ê–ô–°–Ø —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã: –≥–æ—Ä–æ–¥, —É–ª–∏—Ü—É, –Ω–æ–º–µ—Ä –¥–æ–º–∞, –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã
- –ò—â–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ —à—Ç–∞–º–ø–µ: "–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù", "–ß–ï–õ–Ø–ë–ò–ù–°–ö", "–£–õ.", "–î.", "–ö–í."
- –ß–∏—Å–ª–∞ (–Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤, –∫–≤–∞—Ä—Ç–∏—Ä) –æ–±—ã—á–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –ª—É—á—à–µ –±—É–∫–≤
- –î–∞—Ç–∞ –≤ —à—Ç–∞–º–ø–µ –æ–±—ã—á–Ω–æ –≤–Ω–∏–∑—É, —Ñ–æ—Ä–º–∞—Ç –î–î.–ú–ú.–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä: 29.02.2000)
- –î–∞–∂–µ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —á–∞—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞ (–≥–æ—Ä–æ–¥ + –¥–æ–º) ‚Äî –∑–∞–ø–∏—à–∏ —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—à—å
- –ù–ï –æ—Å—Ç–∞–≤–ª—è–π –ø–æ–ª–µ "–ü—Ä–æ–ø–∏—Å–∫–∞" –ø—É—Å—Ç—ã–º (null) –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–∞ —á–∏—Ç–∞–µ—Ç—Å—è!

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –¢–ï–ö–°–¢–ê:
- –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–∞–ø–∏—Å–∞–Ω –ó–ê–ì–õ–ê–í–ù–´–ú–ò –ë–£–ö–í–ê–ú–ò (CAPS LOCK) ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á", –∞ –Ω–µ "–ò–í–ê–ù–û–í –ò–í–ê–ù –ò–í–ê–ù–û–í–ò–ß".
- –§–ò–û, –∞–¥—Ä–µ—Å–∞, –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π ‚Äî —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏.
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è: –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã (–ú–í–î, –ó–ê–ì–°, –£–§–ú–°) –æ—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏.
- –£–±–∏—Ä–∞–π –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –∏ –ø—Ä–∏–≤–æ–¥–∏ —Ç–µ–∫—Å—Ç –∫ —á–∏—Ç–∞–µ–º–æ–º—É –≤–∏–¥—É.

–°–ª–µ–¥—É–π —à–∞–≥–∞–º:
1. –†–∞–∑–≤–æ—Ä–æ—Ç —Å —Ñ–æ—Ç–æ (—Å—Ç—Ä. 2-3):
        - –ö—Ä–∞—Å–Ω—ã–π –Ω–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É: 4 —Ü–∏—Ñ—Ä—ã —Å–µ—Ä–∏–∏ + 6 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä–∞.
        - –ü–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ" ‚Äî –§–ò–û.
        - –°—Ç—Ä–æ–∫–∞ "–ü–æ–ª" —Å–æ–¥–µ—Ä–∂–∏—Ç "–ú—É–∂" –∏–ª–∏ "–ñ–µ–Ω".
        - –°—Ç—Ä–æ–∫–∞ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è" ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ —Ñ–æ—Ä–º–∞—Ç—É –î–î.–ú–ú.–ì–ì–ì–ì –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–æ–ø–∏—Å—å—é.
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°—Ç—Ä–æ–∫–∞ "–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è" –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–†–ê–ó–£ –ü–û–î –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è –ù–ê –°–¢–†–ê–ù–ò–¶–ï 2-3:
          * –≠–¢–û –ù–ï –ê–î–†–ï–° –ü–†–û–ü–ò–°–ö–ò! –≠—Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ —á–µ–ª–æ–≤–µ–∫ —Ä–æ–¥–∏–ª—Å—è (—á–∞—Å—Ç–æ –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥/–æ–±–ª–∞—Å—Ç—å)
          * –ö–û–ü–ò–†–£–ô –¢–û–ß–ù–û –ö–ê–ö –ù–ê–ü–ò–°–ê–ù–û –í –ü–ê–°–ü–û–†–¢–ï! –ù–µ –¥–æ–±–∞–≤–ª—è–π –∑–∞–ø—è—Ç—ã–µ, –Ω–µ –º–µ–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π!
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–ì–û–†. –ú–ò–ê–°–° –ß–ï–õ–Ø–ë–ò–ù–°–ö–û–ô –û–ë–õ." - –ø–∏—à–∏ "–ì–æ—Ä. –ú–∏–∞—Å—Å –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª."
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–ì–û–†–û–î –ú–ò–ê–°–° –ß–ï–õ–Ø–ë–ò–ù–°–ö–û–ô –û–ë–õ–ê–°–¢–¨" - –ø–∏—à–∏ "–ì–æ—Ä–æ–¥ –ú–∏–∞—Å—Å –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç—å"
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–†.–ü. –õ–ï–ë–Ø–ñ–¨–ï –õ–ï–ë–Ø–ñ–¨–ï–í–°–ö–ò–ô –†-–ù –ö–£–†–ì–ê–ù–°–ö–ê–Ø –û–ë–õ–ê–°–¢–¨" - –ø–∏—à–∏ "–†.–ü. –õ–µ–±—è–∂—å–µ –õ–µ–±—è–∂—å–µ–≤—Å–∫–∏–π —Ä-–Ω –ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–°–ï–õ–û –ü–ï–¢–†–û–í–û –†–Ø–ó–ê–ù–°–ö–ê–Ø –û–ë–õ." - –ø–∏—à–∏ "–°–µ–ª–æ –ü–µ—Ç—Ä–æ–≤–æ –†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª."
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–ì–æ—Ä. –ú–∏–∞—Å—Å" - –ø–∏—à–∏ "–ì–æ—Ä. –ú–∏–∞—Å—Å"
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–ì. –ú–∏–∞—Å—Å" - –ø–∏—à–∏ "–ì. –ú–∏–∞—Å—Å"
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–†–û–°–°–ò–Ø" –∏–ª–∏ "–†–§" –∏–ª–∏ "–†–û–°–°–ò–ô–°–ö–ê–Ø –§–ï–î–ï–†–ê–¶–ò–Ø" - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ —ç—Ç–æ
          * –ü—Ä–∏–≤–æ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É —Ç–æ–ª—å–∫–æ CAPS LOCK: "–≥–æ—Ä." –≤–º–µ—Å—Ç–æ "–ì–û–†.", "–†–æ—Å—Å–∏—è" –≤–º–µ—Å—Ç–æ "–†–û–°–°–ò–Ø"
          * –ö–û–ü–ò–†–£–ô –¢–û–ß–ù–û –ö–ê–ö –ù–ê–ü–ò–°–ê–ù–û –í –ü–ê–°–ü–û–†–¢–ï! –ù–µ –¥–æ–±–∞–≤–ª—è–π –∑–∞–ø—è—Ç—ã–µ, –Ω–µ –º–µ–Ω—è–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π!
          * –ù–ï –ü–£–¢–ê–ô —Å –∞–¥—Ä–µ—Å–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–ø–∏—Å–∫–∏) —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 5-6!
2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –≤—ã–¥–∞—á–µ (—Å—Ç—Ä. 2):
        - –ë–ª–æ–∫ "–í—ã–¥–∞–Ω"/"–ö–µ–º –≤—ã–¥–∞–Ω" ‚Äî –¢–û–ß–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ (–û—Ç–¥–µ–ª–æ–º –£–§–ú–°, –£–í–ú –ì–£ –ú–í–î –∏ —Ç.–¥.)
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°–æ—Ö—Ä–∞–Ω—è–π –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô —Ç–µ–∫—Å—Ç "–ö–µ–º –≤—ã–¥–∞–Ω" –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô!
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–û—Ç–¥–µ–ª–æ–º –£–§–ú–° –†–æ—Å—Å–∏–∏ –ø–æ —Ä–µ—Å–ø—É–±–ª–∏–∫–µ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω" ‚Äî —Ç–∞–∫ –∏ –ø–∏—à–∏
          * –ï—Å–ª–∏ "–£–í–ú –ì–£ –ú–í–î –†–æ—Å—Å–∏–∏ –ø–æ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏" ‚Äî —Ç–∞–∫ –∏ –ø–∏—à–∏
          * –ù–ï —Å–æ–∫—Ä–∞—â–∞–π, –ù–ï –∏–∑–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç, –∫–æ–ø–∏—Ä—É–π —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ
          * –ü—Ä–∏–≤–æ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É —Ç–æ–ª—å–∫–æ CAPS LOCK: "–û—Ç–¥–µ–ª–æ–º" –≤–º–µ—Å—Ç–æ "–û–¢–î–ï–õ–û–ú"
        - –ü–æ–¥ –Ω–∏–º –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Ü–∏—Ñ—Ä–∞–º–∏.
        - –°–ª–µ–≤–∞ –≤–Ω–∏–∑—É –∫–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ XXX-XXX.
3. –†–∞–∑–≤–æ—Ä–æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä. 5-6):
        - –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ê–î–†–ï–° –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò (–ü–†–û–ü–ò–°–ö–ê) - –ù–ï –ü–£–¢–ê–ô —Å –º–µ—Å—Ç–æ–º —Ä–æ–∂–¥–µ–Ω–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 2-3!
        - –ú–ï–°–¢–û –†–û–ñ–î–ï–ù–ò–Ø (—Å—Ç—Ä. 2-3) ‚â† –ê–î–†–ï–° –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò (—Å—Ç—Ä. 5-6) - —ç—Ç–æ –†–ê–ó–ù–´–ï –≤–µ—â–∏!
        - –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –≤—ã–±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–Æ–Æ (—Å —Å–∞–º–æ–π –ø–æ–∑–¥–Ω–µ–π –¥–∞—Ç–æ–π).
        - –ò–≥–Ω–æ—Ä–∏—Ä—É–π –æ—Ç–º–µ—Ç–∫–∏ "–°–Ω—è—Ç —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏" ‚Äî –æ–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å—Ç–∞—Ä—ã–µ –∞–¥—Ä–µ—Å–∞.
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –®–¢–ê–ú–ü–ï –∏–ª–∏ —Ä—É–∫–æ–ø–∏—Å–Ω–æ–π –∑–∞–ø–∏—Å–∏:
          * –®—Ç–∞–º–ø —Å–æ–¥–µ—Ä–∂–∏—Ç: "–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù", –¥–∞—Ç—É –≤–Ω–∏–∑—É, –∞–¥—Ä–µ—Å –≤ —Ü–µ–Ω—Ç—Ä–µ (—á–∞—Å—Ç–æ —Ä–∞–∑–º—ã—Ç, –Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è)
          * –®—Ç–∞–º–ø –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è —Ä–∞–º–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –≤–Ω—É—Ç—Ä–∏
          * –ê–¥—Ä–µ—Å –≤ —à—Ç–∞–º–ø–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É
          * –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–í–õ–ï–ö–ò –ü–û–õ–ù–´–ô –ê–î–†–ï–° —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è/—Ä–µ—Å–ø—É–±–ª–∏–∫–∏!
          * –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –†–ï–ì–ò–û–ù –í –ù–ê–ß–ê–õ–ï: –ê–¥—Ä–µ—Å –í–°–ï–ì–î–ê –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å—É–±—ä–µ–∫—Ç–∞ –†–§ (–∫—Ä–æ–º–µ –ú–æ—Å–∫–≤—ã/–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞)!
          * –§–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞: –û–ë–õ–ê–°–¢–¨/–ö–†–ê–ô/–†–ï–°–ü–£–ë–õ–ò–ö–ê, –≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–æ—Ä–ø—É—Å (–µ—Å–ª–∏ –µ—Å—Ç—å), –∫–≤–∞—Ä—Ç–∏—Ä–∞
          * –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:
            - "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5"
            - "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, —É–ª. –ú–∏—Ä–∞, –¥. 25–ê, –∫–æ—Ä–ø. 2, –∫–≤. 100"
            - "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –≥. –£—Ñ–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1, –∫–≤. 1"
            - "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 1, –∫–≤. 10" (–ú–æ—Å–∫–≤–∞ - —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥)
          * –ï—Å–ª–∏ –≤ —à—Ç–∞–º–ø–µ –æ–±–ª–∞—Å—Ç—å —Ä–∞–∑–º—ã—Ç–∞, –Ω–æ –µ—Å—Ç—å –≥–æ—Ä–æ–¥ - –û–ü–†–ï–î–ï–õ–ò —Ä–µ–≥–∏–æ–Ω –ø–æ –≥–æ—Ä–æ–¥—É:
            - –ß–µ–ª—è–±–∏–Ω—Å–∫ ‚Üí "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
            - –£—Ñ–∞ ‚Üí "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω"
            - –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Üí "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
            - –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä ‚Üí "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π"
          * –í —Å—Ç–∞—Ä—ã—Ö —à—Ç–∞–º–ø–∞—Ö —á–∞—Å—Ç–æ –µ—Å—Ç—å "–ß–ï–õ–Ø–ë–ò–ù–°–ö–ê–Ø –û–ë–õ–ê–°–¢–¨", "–ì. –ß–ï–õ–Ø–ë–ò–ù–°–ö", "–£–õ. –ö–†–ê–°–ù–û–ú–û–õ–û–¢–û–í–ê" –∏ —Ç.–¥.
          * –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è - —ç—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–∞!
          * –ü–†–û–í–ï–†–¨: –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –í–°–ï–ì–î–ê —Å–æ–¥–µ—Ä–∂–∏—Ç —É–ª–∏—Ü—É, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä—É (—á–µ–≥–æ –Ω–µ—Ç –≤ –º–µ—Å—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è)
        - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—ã—á–Ω–æ –í–ù–ò–ó–£ —à—Ç–∞–º–ø–∞ —Ü–∏—Ñ—Ä–∞–º–∏ (–î–î.–ú–ú.–ì–ì–ì–ì)
        - –†—è–¥–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥–ø–∏—Å—å –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞ –∏ –ø–µ—á–∞—Ç—å.
        - –ë—ã–≤–∞–µ—Ç —Ç–∞–∫ —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "–∫–≤.", –∞ –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ, –ø—Ä–∏–º–µ—Ä:
            "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤.
            2"
        - –í—Å–µ–≥–¥–∞ –∏–∑–≤–ª–µ–∫–∞–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ –∏–∑ –∞–¥—Ä–µ—Å–∞. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–¥–∞–≤–∞–π —Ñ–µ–π–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.
4. –®—Ç–∞–º–ø—ã –æ —Å–µ–º–µ–π–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ (—Å—Ç—Ä. 7-8):
        - –í–ù–ò–ú–ê–ù–ò–ï: –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à—Ç–∞–º–ø–æ–≤ ‚Äî –≤—ã–±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–ò–ô (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å).
        - –ï—Å–ª–∏ –±—ã–ª –±—Ä–∞–∫, –∑–∞—Ç–µ–º —Ä–∞–∑–≤–æ–¥ ‚Äî —Å—Ç–∞—Ç—É—Å "–†–∞–∑–≤–µ–¥–µ–Ω/–†–∞–∑–≤–µ–¥–µ–Ω–∞".
        - –ï—Å–ª–∏ —à—Ç–∞–º–ø –ø–µ—Ä–µ—á—ë—Ä–∫–Ω—É—Ç –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏ ‚Äî —ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ –∞–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ –ø–∞—Å–ø–æ—Ä—Ç–∞—Ö –†–§.
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ï—Å–ª–∏ –µ—Å—Ç—å —à—Ç–∞–º–ø –æ –±—Ä–∞–∫–µ - –∏–∑–≤–ª–µ–∫–∏ –§–ò–û —Å—É–ø—Ä—É–≥–∞ –∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∞ –∏–∑ —à—Ç–∞–º–ø–∞!
          * –í —à—Ç–∞–º–ø–µ –æ–±—ã—á–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –±—Ä–∞–∫ —Å [–§–ò–û —Å—É–ø—Ä—É–≥–∞]"
          * –ü—Ä–∏–º–µ—Ä: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –±—Ä–∞–∫ —Å –ò–≤–∞–Ω–æ–≤—ã–º –ò–≤–∞–Ω–æ–º –ò–≤–∞–Ω–æ–≤–∏—á–µ–º, 15.03.1990 –≥.—Ä."
          * –ò–∑–≤–ª–µ–∫–∏ –ü–û–õ–ù–û–ï –§–ò–û —Å—É–ø—Ä—É–≥–∞ –∏ –∑–∞–ø–∏—à–∏ –≤ –ø–æ–ª–µ "–§–ò–û_—Å—É–ø—Ä—É–≥–∞"
          * –ò–∑–≤–ª–µ–∫–∏ –î–ê–¢–£ –†–û–ñ–î–ï–ù–ò–Ø —Å—É–ø—Ä—É–≥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –∑–∞–ø–∏—à–∏ –≤ –ø–æ–ª–µ "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è_—Å—É–ø—Ä—É–≥–∞" –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì
          * –ï—Å–ª–∏ –§–ò–û —Å—É–ø—Ä—É–≥–∞ –Ω–µ –≤–∏–¥–Ω–æ –∏–ª–∏ —à—Ç–∞–º–ø –Ω–µ—á–∏—Ç–∞–µ–º - –ø–æ—Å—Ç–∞–≤—å null
          * –ï—Å–ª–∏ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∞ –Ω–µ—Ç –≤ —à—Ç–∞–º–ø–µ - –ø–æ—Å—Ç–∞–≤—å null
        - –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –æ –±—Ä–∞–∫–µ/—Ä–∞–∑–≤–æ–¥–µ ‚Äî —Å—Ç–∞—Ç—É—Å, –¥–∞—Ç–∞, –æ—Ä–≥–∞–Ω, –§–ò–û —Å—É–ø—Ä—É–≥–∞.
        - –ï—Å–ª–∏ —à—Ç–∞–º–ø–æ–≤ –Ω–µ—Ç ‚Äî —Å—Ç–∞—Ç—É—Å "–ù–µ –∂–µ–Ω–∞—Ç"/"–ù–µ –∑–∞–º—É–∂–µ–º".
5. –ü–µ—á–∞—Ç–∏ –æ –¥–µ—Ç—è—Ö (—Å—Ç—Ä. 9-20):
        - –ö–∞–∂–¥–∞—è –ø–µ—á–∞—Ç—å "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–µ—Ç—è—Ö" ‚Äî –§–ò–û –∏ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞.
        - –°–æ–±–µ—Ä–∏ –í–°–ï –∑–∞–ø–∏—Å–∏ –æ –¥–µ—Ç—è—Ö (–∑–¥–µ—Å—å –∞–∫—Ç—É–∞–ª—å–Ω—ã –≤—Å–µ).
        - –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–æ—á–µ—Å—Ç—å –§–ò–û ‚Äî —Å—Ç–∞–≤—å null.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ –º–∞–∫–µ—Ç: –§–ò–û –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º –±–ª–æ–∫–µ, –∫—Ä–∞—Å–Ω—ã–π –Ω–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∞, —à—Ç–∞–º–ø —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥ –Ω–∞–¥–ø–∏—Å—å—é "–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω".

–í–µ—Ä–Ω–∏ JSON —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
{
  "–§–ò–û": "...",
  "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã": "–ò–≤–∞–Ω–æ–≤ –ò.–ò.", #–¢—É—Ç —Ç—ã —Å–∞–º –ø–∏—à–µ—à—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–ò–û –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
  "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_—Ä–ø": "–ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.", #–¢—É—Ç —Ç—ã —Å–∞–º –ø–∏—à–µ—à—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–ò–û –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞, –Ω–æ —É–∂–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ
  "–ü–æ–ª": "–º—É–∂—Å–∫–æ–π/–∂–µ–Ω—Å–∫–∏–π",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–ì–û–†. –ú–ò–ê–°–° –ß–ï–õ–Ø–ë–ò–ù–°–ö–û–ô –û–ë–õ.",  # –°–¢–†. 2-3! –ö–û–ü–ò–†–£–ô –¢–û–ß–ù–û –ö–ê–ö –í –ü–ê–°–ü–û–†–¢–ï! –ì–¥–µ –†–û–î–ò–õ–°–Ø —á–µ–ª–æ–≤–µ–∫. –ë–ï–ó —É–ª–∏—Ü—ã –∏ –¥–æ–º–∞!
  "–°–µ—Ä–∏—è": "–•–•–•–•",
  "–ù–æ–º–µ—Ä": "XXXXXX",
  "–ö–µ–º_–≤—ã–¥–∞–Ω": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": "–•–•–•-–•–•–•",
  "–ü—Ä–æ–ø–∏—Å–∫–∞": "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5",  # –°–¢–†. 5-6! –ì–¥–µ –ü–†–û–ü–ò–°–ê–ù —á–µ–ª–æ–≤–µ–∫. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π, –≥–æ—Ä–æ–¥, –£–õ–ò–¶–ê, –î–û–ú, –∫–≤–∞—Ä—Ç–∏—Ä–∞
  "–î–∞—Ç–∞_–ø—Ä–æ–ø–∏—Å–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–°–µ–º–µ–π–Ω–æ–µ_–ø–æ–ª–æ–∂–µ–Ω–∏–µ": "–ñ–µ–Ω–∞—Ç/–ó–∞–º—É–∂–µ–º/–ù–µ –∂–µ–Ω–∞—Ç/–ù–µ –∑–∞–º—É–∂–µ–º/–†–∞–∑–≤–µ–¥–µ–Ω/–†–∞–∑–≤–µ–¥–µ–Ω–∞",
  "–§–ò–û_—Å—É–ø—Ä—É–≥–∞": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",  # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —à—Ç–∞–º–ø –æ –±—Ä–∞–∫–µ! –ü–æ–ª–Ω–æ–µ –§–ò–û —Å—É–ø—Ä—É–≥–∞ –∏–∑ —à—Ç–∞–º–ø–∞ –Ω–∞ —Å—Ç—Ä. 7-8. –ï—Å–ª–∏ –Ω–µ—Ç –±—Ä–∞–∫–∞ –∏–ª–∏ –Ω–µ—á–∏—Ç–∞–µ–º–æ - null
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è_—Å—É–ø—Ä—É–≥–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",  # –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∞ –∏–∑ —à—Ç–∞–º–ø–∞ –æ –±—Ä–∞–∫–µ. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –≤ —à—Ç–∞–º–ø–µ - null
  "–î–µ—Ç–∏": [{"–§–ò–û": "...", "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì"}]
}
–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ù–ï –ü–£–¢–ê–ô –≠–¢–ò –ü–û–õ–Ø:
- "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è" (—Å—Ç—Ä. 2-3): –ì–¥–µ —á–µ–ª–æ–≤–µ–∫ –†–û–î–ò–õ–°–Ø. –ë–µ–∑ —É–ª–∏—Ü—ã/–¥–æ–º–∞. –ü—Ä–∏–º–µ—Ä: "–≥. –ú–æ—Å–∫–≤–∞" –∏–ª–∏ "—Å. –ê–≥–∏–Ω—Å–∫–æ–µ, –°–∞—è–Ω—Å–∫–∏–π —Ä-–Ω, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π"
- "–ü—Ä–æ–ø–∏—Å–∫–∞" (—Å—Ç—Ä. 5-6): –ì–¥–µ —á–µ–ª–æ–≤–µ–∫ –ü–†–û–ü–ò–°–ê–ù. –í–°–ï–ì–î–ê —Å —É–ª–∏—Ü–µ–π –∏ –¥–æ–º–æ–º. –ü—Ä–∏–º–µ—Ä: "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5"
- –ï—Å–ª–∏ –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ –≤–∏–¥–∏—à—å —É–ª–∏—Ü—É –∏ –¥–æ–º - —ç—Ç–æ –ü–†–û–ü–ò–°–ö–ê, –∞ –Ω–µ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è!

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: 
- –ü–æ–ª–µ "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è" –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: "—Ç–∏–ø –Ω–∞—Å–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ (—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º), –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä–∞–π–æ–Ω, –æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π". –ü—Ä–∏–º–µ—Ä—ã: "—Å. –ê–≥–∏–Ω—Å–∫–æ–µ, –°–∞—è–Ω—Å–∫–∏–π —Ä-–Ω, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π", "–≥. –ú–æ—Å–∫–≤–∞", "–¥. –ü–µ—Ç—Ä–æ–≤–æ, –†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª.". –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ—á–∏—Ç–∞–±–µ–ª–µ–Ω ‚Äî –Ω–∞–ø–∏—à–∏ —á—Ç–æ –≤–∏–¥–∏—à—å, –Ω–æ –ù–ï –æ—Å—Ç–∞–≤–ª—è–π null!
- –ü–æ–ª–µ "–ü—Ä–æ–ø–∏—Å–∫–∞" –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ü–û–õ–ù–´–ô –∞–¥—Ä–µ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è/—Ä–µ—Å–ø—É–±–ª–∏–∫–∏! –ü—Ä–∏–º–µ—Ä—ã: "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, —É–ª. –ú–∏—Ä–∞, –¥. 25", "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 1". –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è –≤ –Ω–∞—á–∞–ª–µ –∞–¥—Ä–µ—Å–∞!
–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —Å—Ç–∞–≤—å null. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON –±–µ–∑ Markdown –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–π. –ï—Å–ª–∏ –∫—Ä–∞—Å–Ω—ã–π –Ω–æ–º–µ—Ä –∏–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —á–∏—Ç–∞–±–µ–ª–µ–Ω ‚Äî –∫–ª—é—á–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –∑–Ω–∞—á–µ–Ω–∏–µ = null. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–≤–µ—á–∞–π —Ç–µ–∫—Å—Ç–æ–º –≤–Ω–µ JSON –∏ –Ω–µ –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.""",
        },
        "–∏–Ω–Ω": {
            "keywords": ["–∏–Ω–Ω", "–Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞", "–∫–Ω–¥ 1122003", "–∫–æ–ø–∏—è –∏–Ω–Ω", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞", "—Ñ–Ω—Å", "–Ω–∞–ª–æ–≥–æ–≤–∞—è —Å–ª—É–∂–±–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –∏–Ω–Ω"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –∏–ª–∏ –≤—ã–ø–∏—Å–∫—É –§–ù–° –æ–± –ò–ù–ù —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (—Ñ–æ—Ä–º–∞ –ö–ù–î 1122003 –∏–ª–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ –±—É–º–∞–≥–µ).

–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ù–ï –ï–ì–†–ù! –ï—Å–ª–∏ –≤–∏–¥–∏—à—å "–ï–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏" –∏–ª–∏ "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä" ‚Äî —ç—Ç–æ –Ω–µ –ò–ù–ù –¥–æ–∫—É–º–µ–Ω—Ç.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏).

–ì–î–ï –ò–°–ö–ê–¢–¨ –ò–ù–ù:
1. –°—Ç–∞—Ä–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ (–±—É–º–∞–∂–Ω–æ–µ):
   - –°–∞–º–æ–µ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ (—á–∞—Å—Ç–æ —Å–≤–µ—Ä—Ö—É –∏–ª–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ) ‚Äî —ç—Ç–æ –ò–ù–ù
   - –†–ï–ì–ò–û–ù–ê–õ–¨–ù–´–ï –§–û–†–ú–ê–¢–´: –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω –∏ –¥—Ä—É–≥–∏–µ —Ä–µ—Å–ø—É–±–ª–∏–∫–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ—Å–æ–±—ã–π –¥–∏–∑–∞–π–Ω
   - –í —Ü–µ–Ω—Ç—Ä–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫—Ä—É–ø–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏: 12 —Ü–∏—Ñ—Ä –ò–ù–ù (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å –ø—Ä–æ–±–µ–ª–∞–º–∏: "02 56 051 408 09")
   - –í—ã—à–µ –∏–ª–∏ –Ω–∏–∂–µ —É–∫–∞–∑–∞–Ω–æ –§–ò–û
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—á–∞—Ç—å –Ω–∞–ª–æ–≥–æ–≤–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏, –≥–µ—Ä–± —Ä–µ–≥–∏–æ–Ω–∞
   - –ë–∞—à–∫–∏—Ä—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç: —Å–≤–µ—Ä—Ö—É –Ω–æ–º–µ—Ä —Å –ø—Ä–æ–±–µ–ª–∞–º–∏, –Ω–∏–∂–µ –§–ò–û

2. –ù–æ–≤–∞—è –≤—ã–ø–∏—Å–∫–∞ (—Ñ–æ—Ä–º–∞ –ö–ù–î 1122003):
   - –®–∞–ø–∫–∞: –ª–æ–≥–æ—Ç–∏–ø –§–ù–°, –Ω–∞–∑–≤–∞–Ω–∏–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –ò–ù–ù"
   - –¢–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—è–º–∏: –§–ò–û, –ò–ù–ù (12 —Ü–∏—Ñ—Ä), –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
   - –ü—Ä–∞–≤—ã–π —É–≥–æ–ª: –¥–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è

3. –ü—Ä–æ—Å—Ç–∞—è —Å–ø—Ä–∞–≤–∫–∞/–∫–æ–ø–∏—è:
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç —Å –ò–ù–ù –∏ –§–ò–û
   - –ò–ù–ù ‚Äî —ç—Ç–æ –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä (–¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢–´ –ò–ù–ù:
–ò–ù–ù —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –°–ª–∏—Ç–Ω–æ: 745210776146
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 745 210 776 146
- –° –¥–µ—Ñ–∏—Å–∞–º–∏: 745-210-776-146
- –ì—Ä—É–ø–ø–∞–º–∏: 7452 1077 6146
- –ü—Ä–æ–ø–∏—Å–∞–Ω–æ —á–µ—Ä–µ–∑ –ø–∞–ª–æ—á–∫–∏ 7 | 4 | 1 | 5 | 0 | 5 | 3 | 6 | 8 | 1 | 1 | 3
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: 02 56 051 408 09 (–ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω)
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç: –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ü–∏—Ñ—Ä—ã –Ω–µ—á–∏—Ç–∞–µ–º—ã

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –ò–ù–ù —Ñ–∏–∑–ª–∏—Ü–∞ –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä (–¥–ª—è —é—Ä–ª–∏—Ü 10 —Ü–∏—Ñ—Ä - —ç—Ç–æ –Ω–µ –Ω–∞—à —Å–ª—É—á–∞–π!)
- –ü–ï–†–í–û–ï —á–∏—Å–ª–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ —á–∞—Å—Ç–æ –∏ –µ—Å—Ç—å –ò–ù–ù ‚Äî –ø—Ä–æ–≤–µ—Ä—å –µ–≥–æ –Ω–∞ 12 —Ü–∏—Ñ—Ä
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –≥—Ä—É–ø–ø—É –∏–∑ ~12 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–æ–º "–ò–ù–ù" –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–≤–µ—Ä—Ö—É –¥–æ–∫—É–º–µ–Ω—Ç–∞ - —ç—Ç–æ –æ–Ω!
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Ç–æ—á–∫–∏ - –æ—Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ 12 —Ü–∏—Ñ—Ä
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ –Ω–æ –≤–∏–¥–Ω–æ 10-11 —Ü–∏—Ñ—Ä - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ
- –ò—â–∏ –ò–ù–ù: –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –≤ —Ü–µ–Ω—Ç—Ä–µ –∫—Ä—É–ø–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏, –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞–ø—Ä–æ—Ç–∏–≤ "–ò–ù–ù", –≤ —à–∞–ø–∫–µ
- –ù–ï –ø—É—Ç–∞–π —Å –û–ì–†–ù (13-15 —Ü–∏—Ñ—Ä), –°–ù–ò–õ–° (11 —Ü–∏—Ñ—Ä), –¥–∞—Ç–∞–º–∏, –Ω–æ–º–µ—Ä–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–ò–ù–ù": "XXXXXXXXXXXX",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–î–∞—Ç–∞_—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–í–∏–¥_–¥–æ–∫—É–º–µ–Ω—Ç–∞": "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –ò–ù–ù / –í—ã–ø–∏—Å–∫–∞ –§–ù–°"
}

–í–ê–ñ–ù–û: –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–µ–ª 12-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä –ò–ù–ù, –Ω–æ –≤–∏–¥–∏—à—å –§–ò–û ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–µ—Ä–Ω–∏ JSON —Å –ò–ù–ù=null.
–ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–π!"""
        },
        "—Å–Ω–∏–ª—Å": {
            "keywords": ["—Å–Ω–∏–ª—Å", "—Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ", "—Å—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä", "–∑–µ–ª—ë–Ω–∞—è", "—Å—Ñ—Ä", "—Å—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á–µ—Ç–∞", "–ø—Ñ—Ä", "–ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–π —Ñ–æ–Ω–¥"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–°–ù–ò–õ–°) ‚Äî —Å—Ç–∞—Ä—ã–π –∑–µ–ª—ë–Ω—ã–π –ø–ª–∞—Å—Ç–∏–∫ –∏–ª–∏ –Ω–æ–≤–∞—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢–´ –°–ù–ò–õ–°:
–°–ù–ò–õ–° –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: 123-456-789 12
- –°–ª–∏—Ç–Ω–æ: 12345678912
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 123 456 789 12
- –ë–µ–∑ –¥–µ—Ñ–∏—Å–æ–≤: 123 456 789 12
- –° —Ç–æ—á–∫–∞–º–∏: 123.456.789.12
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –°–ù–ò–õ–° –í–°–ï–ì–î–ê 11 —Ü–∏—Ñ—Ä –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ XXX-XXX-XXX XX
- –ò—â–∏ ~11 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏: "–°–ù–ò–õ–°", "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä", "–°–§–†"
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Ç–æ—á–∫–∏
- –ü—Ä–∏–≤–µ–¥–∏ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É: XXX-XXX-XXX XX (—Å –¥–µ—Ñ–∏—Å–∞–º–∏ –º–µ–∂–¥—É —Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–º –ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–≤–æ–π–∫–æ–π)
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã 9-10 —Ü–∏—Ñ—Ä
- –ù–ï –ø—É—Ç–∞–π —Å –ò–ù–ù (12 —Ü–∏—Ñ—Ä), —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, –¥—Ä—É–≥–∏–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏

1. –°—Ç–∞—Ä—ã–π –±–ª–∞–Ω–∫:
        - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–°—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ" –∏ —Å—Ç—Ä–æ–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä" ‚Äî —Ñ–æ—Ä–º–∞—Ç XXX-XXX-XXX XX.
        - –ù–∏–∂–µ –±–ª–æ–∫ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ".
        - –í–Ω–∏–∑—É —Å–ª–µ–≤–∞ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è" –∏ "–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è".
        - –ü–æ–¥ –ø–æ–¥–ø–∏—Å—å—é —Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç–µ–ª—è ‚Äî –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏.
2. –ù–æ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –°–§–†:
        - –®–∞–ø–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞" ‚Äî —Ä—è–¥–æ–º –°–ù–ò–õ–°.
        - –¢–∞–±–ª–∏—Ü–∞ —Å –§–ò–û, –¥–∞—Ç–æ–π –∏ –º–µ—Å—Ç–æ–º —Ä–æ–∂–¥–µ–Ω–∏—è.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –º–∞–∫–µ—Ç: –Ω–æ–º–µ—Ä –∫—Ä—É–ø–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–µ, –§–ò–û –±–ª–æ–∫–æ–º –Ω–∏–∂–µ, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥ –§–ò–û.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–°–ù–ò–õ–°": "XXX-XXX-XXX XX",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–¢–∏–ø_–±–ª–∞–Ω–∫–∞": "–∫–∞—Ä—Ç–∞ 1997/—Å–ø—Ä–∞–≤–∫–∞ –°–§–†"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å–∑–∏–∏–ª—Å": {
            "keywords": ["—Å–∑–∏-–∏–ª—Å", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ", "–∏–ø–∫", "—Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ", "—Å–∑–∏–∏–ª—Å", "—Å–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–Ω–æ–º –ª–∏—Ü–µ", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ª–∏—Ü–µ–≤–æ–π —Å—á–µ—Ç", "–ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–µ –±–∞–ª–ª—ã", "—Å—Ç–∞–∂", "—Å—Ñ—Ä", "–ø—Ñ—Ä"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞" (—Ñ–æ—Ä–º–∞ –°–ó–ò-–ò–õ–°).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–ù–∞–π–¥–∏ –≤ —à–∞–ø–∫–µ: –§–ò–û, –°–ù–ò–õ–°, –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, –¥–∞—Ç—É —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è ("–¥–∞—Ç–∞ –ø—Ä–∏—ë–º–∞" –∏–ª–∏ "—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ").
–°—Ç—Ä–æ–∫–∞ "–í–µ–ª–∏—á–∏–Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞" ‚Äî —á–∏—Å–ª–æ —Å —Ç–æ—á–∫–æ–π.
–í–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ —É–∫–∞–∑–∞–Ω —Ä–∞—Å—á—ë—Ç–Ω—ã–π –ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª (—Ä—É–±–ª–∏ –∏ –∫–æ–ø–µ–π–∫–∏).
–¢–∞–±–ª–∏—Ü–∞ 1 –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç –ø–µ—Ä–∏–æ–¥—ã —Å 2015 –≥–æ–¥–∞: –ø–µ—Ä–∏–æ–¥, —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å, —Å—É–º–º—ã –≤—ã–ø–ª–∞—Ç, –≤–∑–Ω–æ—Å–æ–≤, –≤–µ–ª–∏—á–∏–Ω—É –ò–ü–ö, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
–ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª—ã –æ –ø–µ—Ä–∏–æ–¥–∞—Ö –¥–æ 2015 –≥–æ–¥–∞ ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏ –∏—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ø–∏—Å–∫–æ–º.
–ü—Ä–∏ —Å–ª–∞–±–æ–º OCR –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ "–ü–µ—Ä–∏–æ–¥", "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "–°—É–º–º–∞ –≤—ã–ø–ª–∞—Ç".

JSON:
{
        "–§–ò–û": "...",
        "–°–ù–ò–õ–°": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–î–∞—Ç–∞_—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ò–ü–ö": "...",
        "–ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π_–∫–∞–ø–∏—Ç–∞–ª": "...",
        "–ü–µ—Ä–∏–æ–¥—ã": [
                {
                        "–ü–µ—Ä–∏–æ–¥": "01.01.2019-31.12.2019",
                        "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å": "...",
                        "–°—É–º–º–∞_–≤—ã–ø–ª–∞—Ç": "...",
                        "–°—É–º–º–∞_–≤–∑–Ω–æ—Å–æ–≤": "...",
                        "–ò–ü–ö": "...",
                        "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": "..."
                }
        ],
        "–ü–µ—Ä–∏–æ–¥—ã_–¥–æ_2015": ["..."]
}
–ü—É—Å—Ç—ã–µ –ø–æ–ª—è = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç [] –∏ null, –Ω–æ –∫–ª—é—á–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ": {
            "keywords": ["–Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", "–Ω–∞–ª–æ–≥–æ–≤–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å", "–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è", "–Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏", "–∫–æ–ø–∏—è –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –Ω–∞–ª–æ–≥", "–Ω–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü", "–≤—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ", "–∑–µ–º–µ–ª—å–Ω—ã–π –Ω–∞–ª–æ–≥", "—Ñ–Ω—Å", "–Ω–∞–ª–æ–≥–æ–≤–∞—è —Å–ª—É–∂–±–∞", "–æ–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –Ω–∞–ª–æ–≥–æ–≤–æ–º—É —Å—á—ë—Ç—É", "–µ–¥–∏–Ω—ã–π –Ω–∞–ª–æ–≥–æ–≤—ã–π —Å—á—ë—Ç", "–µ–Ω—Å", "—Å—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è", "–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞", "–≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–Ω—Å", "–≥–æ—Å—É—Å–ª—É–≥–∏ –Ω–∞–ª–æ–≥"],
            "prompt": """–ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –§–ù–° –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–ø–ª–∞—Ç—ã –Ω–∞–ª–æ–≥–æ–≤.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

üî¥ –í –î–û–ö–£–ú–ï–ù–¢–ï –î–í–ê –í–û–ó–ú–û–ñ–ù–´–• –§–û–†–ú–ê–¢–ê:

–§–û–†–ú–ê–¢ 1 - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:
- –ï—Å—Ç—å –Ω–æ–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –¥–∞—Ç–∞, —Å—Ä–æ–∫ —É–ø–ª–∞—Ç—ã
- –°–ø–∏—Å–æ–∫ –Ω–∞–ª–æ–≥–æ–≤ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ –≤–∏–¥–∞–º

–§–û–†–ú–ê–¢ 2 - –ì–æ—Å—É—Å–ª—É–≥–∏ / –ï–ù–° (–ï–¥–∏–Ω—ã–π –Ω–∞–ª–æ–≥–æ–≤—ã–π —Å—á—ë—Ç):
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –Ω–∞–ª–æ–≥–æ–≤–æ–º—É —Å—á—ë—Ç—É"
- –ï—Å—Ç—å "–í—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –§–ù–°", "–°—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è", "–ü–ª–∞—Ç–µ–ª—å—â–∏–∫"
- –ù–ï–¢ –Ω–æ–º–µ—Ä–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ù–ï–¢ —Å—Ä–æ–∫–∞ —É–ø–ª–∞—Ç—ã, –ù–ï–¢ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞–ª–æ–≥–æ–≤

üìã –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ò–ó–í–õ–ï–ß–ï–ù–ò–Æ:

–î–õ–Ø –û–ë–û–ò–• –§–û–†–ú–ê–¢–û–í –∏—â–∏:
- –§–ò–û –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ (–≤ –ì–æ—Å—É—Å–ª—É–≥–∞—Ö: –ø–æ–ª–µ "–ü–ª–∞—Ç–µ–ª—å—â–∏–∫")
- –ò–ù–ù (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å–∫—Ä—ã—Ç –∑–≤—ë–∑–¥–æ—á–∫–∞–º–∏ —Ç–∏–ø–∞ "*********110" - –∏–∑–≤–ª–µ–∫–∞–π –∫–∞–∫ –µ—Å—Ç—å)
- –ò—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É –∫ —É–ø–ª–∞—Ç–µ

–î–õ–Ø –§–û–†–ú–ê–¢–ê 1 (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ) –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏—â–∏:
- –ù–æ–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –î–∞—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è  
- –°—Ä–æ–∫ —É–ø–ª–∞—Ç—ã
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–ª–æ–≥–æ–≤ (–≤–∏–¥, –ø–µ—Ä–∏–æ–¥, —Å—É–º–º–∞ –∫–∞–∂–¥–æ–≥–æ)

–î–õ–Ø –§–û–†–ú–ê–¢–ê 2 (–ì–æ—Å—É—Å–ª—É–≥–∏):
- –î–∞—Ç–∞ = –∏–∑–≤–ª–µ–∫–∏ –∏–∑ "–í—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –§–ù–°" (–ø—Ä–µ–æ–±—Ä–∞–∑—É–π "27.11.25" ‚Üí "27.11.2025")
- –§–ò–û = –∏–∑ –ø–æ–ª—è "–ü–ª–∞—Ç–µ–ª—å—â–∏–∫"
- –í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ = –∏–∑ –ø–æ–ª—è "–°—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è" (—É–±–µ—Ä–∏ –ø—Ä–æ–±–µ–ª—ã, –∑–∞–ø—è—Ç—É—é –∑–∞–º–µ–Ω–∏ –Ω–∞ —Ç–æ—á–∫—É)
- –ù–∞–ª–æ–≥–∏ = –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ []
- –ù–æ–º–µ—Ä –∏ –°—Ä–æ–∫_—É–ø–ª–∞—Ç—ã = null

JSON (–ï–î–ò–ù–´–ô –î–õ–Ø –û–ë–û–ò–• –§–û–†–ú–ê–¢–û–í):
{
        "–ù–æ–º–µ—Ä": "..." –∏–ª–∏ null,
        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–§–ò–û": "...",
        "–ò–ù–ù": "...",
        "–°—Ä–æ–∫_—É–ø–ª–∞—Ç—ã": "–î–î.–ú–ú.–ì–ì–ì–ì" –∏–ª–∏ null,
        "–ù–∞–ª–æ–≥–∏": [
                {
                        "–í–∏–¥": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –Ω–∞–ª–æ–≥/–ù–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü/...",
                        "–ü–µ—Ä–∏–æ–¥": "–ì–ì–ì–ì",
                        "–°—É–º–º–∞": —á–∏—Å–ª–æ
                }
        ],
        "–í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ": —á–∏—Å–ª–æ
}

–í–ê–ñ–ù–û:
- –°—É–º–º—ã —É–∫–∞–∑—ã–≤–∞–π –ß–ò–°–õ–ê–ú–ò (–Ω–µ —Å—Ç—Ä–æ–∫–∞–º–∏!)
- –î–ª—è –ì–æ—Å—É—Å–ª—É–≥: –ù–∞–ª–æ–≥–∏ = [], –ù–æ–º–µ—Ä = null, –°—Ä–æ–∫_—É–ø–ª–∞—Ç—ã = null
- –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null
- –ë–ï–ó –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –ë–ï–ó —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON""",
        },
        "–¥–æ—Ö–æ–¥—ã": {
            "keywords": ["2-–Ω–¥—Ñ–ª", "2–Ω–¥—Ñ–ª", "–∫–Ω–¥ 1175018", "—Å–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Ö–æ–¥–∞—Ö", "—Å–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Ö–æ–¥–µ", "—Å–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ—Ö–æ–¥–∞—Ö", "—Å–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ—Ö–æ–¥–µ", "—Å–ø—Ä–∞–≤–∫–∞ –Ω–¥—Ñ–ª", "—Ñ–æ—Ä–º–∞ –Ω–¥—Ñ–ª", "–¥–æ—Ö–æ–¥—ã —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞", "–¥–æ—Ö–æ–¥—ã —Ñ–∏–∑–ª–∏—Ü–∞"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Ö–æ–¥–∞—Ö –∏ —Å—É–º–º–∞—Ö –Ω–∞–ª–æ–≥–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (—Ñ–æ—Ä–º–∞ 2-–ù–î–§–õ / –ö–ù–î 1175018). –í –æ–¥–Ω–æ–º PDF –æ–±—ã—á–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî –∫–∞–∂–¥–∞—è –∑–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–æ–¥.

–í–ê–ñ–ù–û: –°–æ–±–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∑–∞ –í–°–ï –≥–æ–¥—ã, –Ω–æ –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–∞—Ö —É—á–∏—Ç—ã–≤–∞–π, —á—Ç–æ –ê–ö–¢–£–ê–õ–ï–ù –ø–æ—Å–ª–µ–¥–Ω–∏–π (—Å–∞–º—ã–π —Å–≤–µ–∂–∏–π) –≥–æ–¥.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø—Ä–µ–¥–µ–ª–∏:
- –ì–æ–¥ –∏ –¥–∞—Ç—É –≤—ã–¥–∞—á–∏: —Å—Ç—Ä–æ–∫–∞ "–∑–∞ ..." + –¥–∞—Ç–∞ —Å–ø—Ä–∞–≤–∞.
- –†–∞–∑–¥–µ–ª 1: –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –ò–ù–ù, –ö–ü–ü, –û–ö–¢–ú–û, —Ç–µ–ª–µ—Ñ–æ–Ω.
- –†–∞–∑–¥–µ–ª 2: –§–ò–û –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞, –µ–≥–æ –ò–ù–ù, —Å—Ç–∞—Ç—É—Å, –∫–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞, —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è.
- –†–∞–∑–¥–µ–ª 5: –æ–±—â–∞—è —Å—É–º–º–∞ –¥–æ—Ö–æ–¥–∞, –Ω–∞–ª–æ–≥–æ–≤–∞—è –±–∞–∑–∞, –Ω–∞–ª–æ–≥ –∏—Å—á–∏—Å–ª–µ–Ω–Ω—ã–π, –Ω–∞–ª–æ–≥ —É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π, –Ω–∞–ª–æ–≥ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π.
- –†–∞–∑–¥–µ–ª 6 (–µ—Å–ª–∏ –µ—Å—Ç—å): —Å—É–º–º—ã –¥–æ—Ö–æ–¥–∞ –∏ –Ω–∞–ª–æ–≥–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–µ—Ä–∂–∞–Ω—ã.
–ï—Å–ª–∏ OCR –Ω–µ –≤–∏–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É, –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–æ—Ä–º—ã ‚Äî —Ä–∞–∑–¥–µ–ª—ã –Ω—É–º–µ—Ä—É—é—Ç—Å—è –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö.

–í–µ—Ä–Ω–∏ JSON:
{
        "–§–ò–û": "...",
        "–ò–ù–ù": "...",
        "–°–ø—Ä–∞–≤–∫–∏": [
                {
                        "–ì–æ–¥": "2021",
                        "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–ù–∞–ª–æ–≥–æ–≤—ã–π_–∞–≥–µ–Ω—Ç": {
                                "–ù–∞–∑–≤–∞–Ω–∏–µ": "...",
                                "–ò–ù–ù": "...",
                                "–ö–ü–ü": "...",
                                "–û–ö–¢–ú–û": "...",
                                "–¢–µ–ª–µ—Ñ–æ–Ω": "..."
                        },
                        "–î–æ–∫—É–º–µ–Ω—Ç_–ª–∏—á–Ω–æ—Å—Ç–∏": {
                                "–ö–æ–¥": "...",
                                "–°–µ—Ä–∏—è_–Ω–æ–º–µ—Ä": "..."
                        },
                        "–û–±—â–∞—è_—Å—É–º–º–∞_–¥–æ—Ö–æ–¥–∞": "...",
                        "–ù–∞–ª–æ–≥–æ–≤–∞—è_–±–∞–∑–∞": "...",
                        "–ù–∞–ª–æ–≥_–∏—Å—á–∏—Å–ª–µ–Ω–Ω—ã–π": "...",
                        "–ù–∞–ª–æ–≥_—É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π": "...",
                        "–ù–∞–ª–æ–≥_–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π": "...",
                        "–ù–µ—É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π_–¥–æ—Ö–æ–¥": "...",
                        "–ù–µ—É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π_–Ω–∞–ª–æ–≥": "..."
                }
        ]
}
–°–ø—Ä–∞–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≥–æ–¥—É (–æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º). –ï—Å–ª–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ —Ä–∞–∑–¥–µ–ª–∞ –Ω–µ—Ç, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π.""",
        },
        "—Ç—Ä—É–¥–æ–≤–∞—è": {
            "keywords": ["—Ç—Ä—É–¥–æ–≤", "—Å–∑–≤", "—Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π", "—Ç—Ä—É–¥–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞", "—Å–∑–≤-—Å—Ç–∞–∂", "—Å–∑–≤-–º", "—Å—Ñ—Ä", "–ø—Ñ—Ä", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "–≠–¢–ö", "—ç—Ç–∫", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ —ç—Ç–∫", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –≠–¢–ö", "—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Ç—Ä—É–¥–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞", "—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Ç—Ä—É–¥–æ–≤–∞—è"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –°–§–† "–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏" (—Ñ–æ—Ä–º–∞ –°–¢–î-–†/–°–¢–î-–ü–§–†).

–í–ê–ñ–ù–û: –û–ø—Ä–µ–¥–µ–ª–∏ –ê–ö–¢–£–ê–õ–¨–ù–û–ï –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã!
- –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å ‚Äî "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ", –∑–Ω–∞—á–∏—Ç —á–µ–ª–æ–≤–µ–∫ —Å–µ–π—á–∞—Å –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç.
- –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å ‚Äî "–ü—Ä–∏—ë–º" –∏–ª–∏ "–ü–µ—Ä–µ–≤–æ–¥", –∑–Ω–∞—á–∏—Ç —á–µ–ª–æ–≤–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ç–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.
- –ò–≥–Ω–æ—Ä–∏—Ä—É–π –∑–∞–ø–∏—Å–∏ —Å –æ—Ç–º–µ—Ç–∫–æ–π "–û—Ç–º–µ–Ω–∞" ‚Äî –æ–Ω–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–°–æ–±–µ—Ä–∏:
- –§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –°–ù–ò–õ–° –∏–∑ —à–∞–ø–∫–∏.
- –¢–∞–±–ª–∏—Ü—É –∑–∞–ø–∏—Å–µ–π: –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ —É–∫–∞–∂–∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –°–§–†, –¥–∞—Ç—É —Å–æ–±—ã—Ç–∏—è, –¥–µ–π—Å—Ç–≤–∏–µ (–ø—Ä–∏—ë–º/–ø–µ—Ä–µ–≤–æ–¥/—É–≤–æ–ª—å–Ω–µ–Ω–∏–µ), –¥–æ–ª–∂–Ω–æ—Å—Ç—å/—Ç—Ä—É–¥–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞, –ø—Ä–∏–∑–Ω–∞–∫ –æ—Ç–º–µ–Ω—ã.
- –†–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥—ã –¥–æ 31 –¥–µ–∫–∞–±—Ä—è 2019 –≥–æ–¥–∞" ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏ –ø–µ—Ä–∏–æ–¥—ã —Ç–µ–∫—Å—Ç–æ–º.
- –û–ø—Ä–µ–¥–µ–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã: –µ—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ –Ω–µ "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ" ‚Äî —É–∫–∞–∂–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–ª–µ "–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞".
–ï—Å–ª–∏ OCR —Å–ª–∞–±—ã–π, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞" ‚Äî —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ–≥–æ —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ 1-11.

JSON:
{
        "–§–ò–û": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–°–ù–ò–õ–°": "...",
        "–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –î–æ–ª–∂–Ω–æ—Å—Ç—å" –∏–ª–∏ null (–µ—Å–ª–∏ —É–≤–æ–ª–µ–Ω),
        "–ó–∞–ø–∏—Å–∏": [
                {
                        "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å": "...",
                        "–†–µ–≥–ù–æ–º–µ—Ä": "...",
                        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–°–æ–±—ã—Ç–∏–µ": "–ü—Ä–∏—ë–º/–ü–µ—Ä–µ–≤–æ–¥/–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ",
                        "–î–æ–ª–∂–Ω–æ—Å—Ç—å": "...",
                        "–î–æ–∫—É–º–µ–Ω—Ç": "...",
                        "–û—Ç–º–µ–Ω–∞": false
                }
        ],
        "–ü–µ—Ä–∏–æ–¥—ã_–¥–æ_2019": ["..."]
}
–ó–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ (–æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º). –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å—á–µ—Ç–∞": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ —Å—á–µ—Ç–∞—Ö", "—Å—á–µ—Ç–∞", "–±–∞–Ω–∫–æ–≤", "–Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞", "—Ä–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Å—á–µ—Ç–∞—Ö", "–æ —Å—á–µ—Ç–∞—Ö"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–∞—Ö –∫–ª–∏–µ–Ω—Ç–∞.

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –≤ json, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫ –∏ —Ç.–¥.

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ò–ó–í–õ–ï–ö–ê–ô –í–°–ï –°–ß–ï–¢–ê:
- –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏ –í–ï–°–¨ –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞ –∏ –Ω–∞–π–¥–∏ –í–°–ï —Å—á–µ—Ç–∞!
- –ß–∏—Ç–∞–π —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å—Ç—Ä–æ—á–Ω–æ –¥–æ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π —Å—Ç—Ä–æ–∫–∏!
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∞–π: —Ç–µ–∫—É—â–∏–µ —Å—á–µ—Ç–∞, —Å—á–µ—Ç–∞ –ø–æ –≤–∫–ª–∞–¥—É, –¥–µ–ø–æ–∑–∏—Ç–Ω—ã–µ —Å—á–µ—Ç–∞, –∫–∞—Ä—Ç–æ—á–Ω—ã–µ —Å—á–µ—Ç–∞
- –ï—Å–ª–∏ –≤ —Å–ø—Ä–∞–≤–∫–µ 5 —Å—á–µ—Ç–æ–≤ - –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ 5! –ï—Å–ª–∏ 10 —Å—á–µ—Ç–æ–≤ - –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ 10! –ï—Å–ª–∏ 20 - –≤—Å–µ 20!
- –û–¥–∏–Ω –±–∞–Ω–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û —Å—á–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –°–±–µ—Ä–±–∞–Ω–∫ —Ç–µ–∫—É—â–∏–π –≤ –ú–æ—Å–∫–≤–µ + –°–±–µ—Ä–±–∞–Ω–∫ –≤–∫–ª–∞–¥ –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–µ + –°–±–µ—Ä–±–∞–Ω–∫ –¥–µ–ø–æ–∑–∏—Ç)
- –ù–ï –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤—ã—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫ - —á–∏—Ç–∞–π —Ç–∞–±–ª–∏—Ü—É –¥–æ –∫–æ–Ω—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞!

–ü–û–õ–ï "–¢–∏–ø" - –∫–æ–ø–∏—Ä—É–π –≤–∏–¥ —Å—á–µ—Ç–∞ –¢–û–ß–ù–û –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –ü—Ä–∏–º–µ—Ä—ã: "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç", "–°—á–µ—Ç –ø–æ –≤–∫–ª–∞–¥—É", "–°—á–µ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞", "–ó–∞–ª–æ–≥–æ–≤—ã–π —Å—á–µ—Ç"
- –ù–æ—Ä–º–∞–ª–∏–∑—É–π —Ä–µ–≥–∏—Å—Ç—Ä: –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–µ
- "–¢–ï–ö–£–©–ò–ô –°–ß–ï–¢" ‚Üí "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç", "–°–ß–ï–¢ –ü–û –í–ö–õ–ê–î–£" ‚Üí "–°—á–µ—Ç –ø–æ –≤–∫–ª–∞–¥—É"

–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (–≤–∫–ª—é—á–∞–π —Ç–æ–ª—å–∫–æ –ê–ö–¢–ò–í–ù–´–ï):
- ‚úÖ –í–ö–õ–Æ–ß–ê–ô: "–æ—Ç–∫—Ä—ã—Ç", "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç", "–°—á–µ—Ç –ø–æ –≤–∫–ª–∞–¥—É", "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"
- ‚ùå –ù–ï –í–ö–õ–Æ–ß–ê–ô: "–∑–∞–∫—Ä—ã—Ç", "–†–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç", "–ó–∞–∫—Ä—ã—Ç –ø–æ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–µ –∫–ª–∏–µ–Ω—Ç–∞", "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–æ –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"

–û–ø—Ä–µ–¥–µ–ª–∏:
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –≤—ã–¥–∞–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç (—à–∞–ø–∫–∞ –∏–ª–∏ –ø–æ–¥–ø–∏—Å—å).
- –§–ò–û –∫–ª–∏–µ–Ω—Ç–∞ –∏ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã.
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ –∏ –∏—Å—Ö–æ–¥—è—â–∏–π –Ω–æ–º–µ—Ä (–æ–±—ã—á–Ω–æ —Ä—è–¥–æ–º —Å –ø–æ–¥–ø–∏—Å—å—é –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º).
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ —Å—á–µ—Ç–∞–º–∏: –±–∞–Ω–∫ (–ü–û–õ–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –∞–¥—Ä–µ—Å–æ–º –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω), —Ç–∏–ø —Å—á—ë—Ç–∞ (—Ä–∞—Å—á—ë—Ç–Ω—ã–π, –¥–µ–ø–æ–∑–∏—Ç–Ω—ã–π, –∫–∞—Ä—Ç–æ—á–Ω—ã–π), –Ω–æ–º–µ—Ä/IBAN, –≤–∞–ª—é—Ç–∞, –¥–∞—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è, —Å—Ç–∞—Ç—É—Å, –æ—Å—Ç–∞—Ç–æ–∫, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–º–µ—Ç–∫–∏.

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ü–æ–ª–µ "–ë–∞–Ω–∫": –∏–∑–≤–ª–µ–∫–∞–π –ü–û–õ–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ë–ï–ó –∞–¥—Ä–µ—Å–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–π: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫
- –ü–æ–ª–µ "–ê–¥—Ä–µ—Å_–±–∞–Ω–∫–∞": –ò–ó–í–õ–ï–ö–ê–ô –ü–û–õ–ù–´–ô –ê–î–†–ï–° –±–∞–Ω–∫–∞ –∏–∑ —Å–ø—Ä–∞–≤–∫–∏ —Ü–µ–ª–∏–∫–æ–º!
  –ü—Ä–∏–º–µ—Ä—ã:
  - "420066, –≥. –ö–∞–∑–∞–Ω—å, —É–ª. –î–µ–∫–∞–±—Ä–∏—Å—Ç–æ–≤, 1"
  - "117312, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞–≤–∏–ª–æ–≤–∞, –¥.19"
  - –ù–ï —Å–æ–∫—Ä–∞—â–∞–π –∞–¥—Ä–µ—Å, –∫–æ–ø–∏—Ä—É–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ!

–ü—Ä–∏ —Å–∫–∞–Ω–µ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–∏–ø–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ "–ë–∞–Ω–∫"/"–ù–æ–º–µ—Ä —Å—á—ë—Ç–∞"/"–°—Ç–∞—Ç—É—Å".

JSON:
{
        "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è": "...",
        "–§–ò–û": "...",
        "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–°—á–µ—Ç–∞": [
                {
                        "–ë–∞–Ω–∫": "–ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ë–ï–ó –∞–¥—Ä–µ—Å–∞",
                        "–ê–¥—Ä–µ—Å_–±–∞–Ω–∫–∞": "–∞–¥—Ä–µ—Å –±–∞–Ω–∫–∞ –∏–∑ —Å–ø—Ä–∞–≤–∫–∏ (–≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º)",
                        "–¢–∏–ø": "...",
                        "–ù–æ–º–µ—Ä": "...",
                        "–í–∞–ª—é—Ç–∞": "...",
                        "–î–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–°—Ç–∞—Ç—É—Å": "...",
                        "–û—Å—Ç–∞—Ç–æ–∫": "..."
                }
        ]
}
–í –º–∞—Å—Å–∏–≤ "–°—á–µ—Ç–∞" –≤–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—á–µ—Ç–∞. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç ‚Äî null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []. –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–≥—Ä–Ω–µ": {
            "keywords": ["—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏", "–∫–≤–∏-001", "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è", "–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π", "–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"],
            "prompt": """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –†–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞ –æ–± –û–¢–°–£–¢–°–¢–í–ò–ò –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π –∏–∑ –ï–ì–†–ù.

–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ù–ï –≤—ã–ø–∏—Å–∫–∞ –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏!
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ = –¥–æ–∫—É–º–µ–Ω—Ç –æ —Ç–æ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –ù–ï–¢
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å "–≤ –ï–ì–†–ù –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è", "–¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã", "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî —ç—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–º –Ω–æ–º–µ—Ä–æ–º ‚Äî —ç—Ç–æ –≤—ã–ø–∏—Å–∫–∞, –Ω–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–ù–∞–π–¥–∏:
- –ù–æ–º–µ—Ä –∏ –¥–∞—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º –±–ª–æ–∫–µ).
- –ö–æ–º—É –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–æ (–∑–∞—è–≤–∏—Ç–µ–ª—å/–ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å).
- –í–∏–¥ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø—É–Ω–∫—Ç–µ 1.
- –ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å (–æ –∫–æ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏—Å—å —Å–≤–µ–¥–µ–Ω–∏—è): –§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ø–∞—Å–ø–æ—Ä—Ç, –°–ù–ò–õ–°, –∞–¥—Ä–µ—Å.
- –ü–µ—Ä–∏–æ–¥, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏—Å—å —Å–≤–µ–¥–µ–Ω–∏—è.
- –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è (–≥–¥–µ –∏—Å–∫–∞–ª–∏).
- –ò—Ç–æ–≥: "–≤ –ï–ì–†–ù –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è" ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–ü—Ä–∏ —Å–∫–∞–Ω–∞—Ö –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è: –æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ —Å–ª–µ–≤–∞, —Ç–∞–±–ª–∏—Ü–∞ —Å –ø—É–Ω–∫—Ç–∞–º–∏ 1-2 —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞.

JSON:
{
        "–ù–æ–º–µ—Ä": "...",
        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ê–¥—Ä–µ—Å–∞—Ç": "...",
        "–í–∏–¥_–∑–∞–ø—Ä–æ—Å–∞": "...",
        "–ü–µ—Ä–∏–æ–¥": {
                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"
        },
        "–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è": "...",
        "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å": {
                "–§–ò–û": "...",
                "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–∞—Å–ø–æ—Ä—Ç": "...",
                "–°–ù–ò–õ–°": "...",
                "–ê–¥—Ä–µ—Å": "..."
        },
        "–†–µ–∑—É–ª—å—Ç–∞—Ç": "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
}

–í–ê–ñ–ù–û: "–†–µ–∑—É–ª—å—Ç–∞—Ç" –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
–ü—É—Å—Ç—ã–µ –ø–æ–ª—è = null. –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤."""
        },
        "–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞": {
            "keywords": ["–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –µ–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –µ–≥—Ä–Ω", "–µ–≥—Ä–Ω", "—Å–≤–µ–¥–µ–Ω–∏—è –∏–∑ –µ–≥—Ä–Ω", "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä", "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å", "–æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Å–≤–µ–¥–µ–Ω–∏—è –µ–≥—Ä–Ω", "—Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Ä–æ—Å—Ä–µ–µ—Å—Ç—Ä", "–µ–¥–∏–Ω—ã–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "–ø—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏", "–≤—ã–ø–∏—Å–∫–∞ —Ä–æ—Å—Ä–µ–µ—Å—Ç—Ä", "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –æ –ø—Ä–∞–≤–∞—Ö –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ª–∏—Ü–∞", "–∏–º–µ–≤—à–∏–µ—Å—è –∏–º–µ—é—â–∏–µ—Å—è", "–æ–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Ñ–∏–ª–∏–∞–ª –ø—É–±–ª–∏—á–Ω–æ –ø—Ä–∞–≤–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏", "—Ä–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞ –ø–æ —Ä–µ—Å–ø—É–±–ª–∏–∫–µ", "–æ–Ω–ª–∞–π–Ω –≤—ã–ø–∏—Å–∫–∞ –∏–∑ –µ–≥—Ä–Ω"],
            "prompt": """–í—ã–ø–∏—Å–∫–∞ –∏–∑ –ï–ì–†–ù –∏–ª–∏ –°–≤–µ–¥–µ–Ω–∏—è –∏–∑ –ï–ì–†–ù (–≤ —Ç.—á. —Å –ì–æ—Å—É—Å–ª—É–≥) —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.

–ê–õ–ì–û–†–ò–¢–ú –†–ê–ë–û–¢–´ (–°–¢–†–û–ì–û –ü–û –ü–û–†–Ø–î–ö–£):

1Ô∏è‚É£ –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –¢–ò–ü–ê –î–û–ö–£–ú–ï–ù–¢–ê
   - –ï—Å–ª–∏ —ç—Ç–æ "–°–≤–µ–¥–µ–Ω–∏—è –∏–∑ –ï–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏" (—á–∞—Å—Ç–æ —Å –ì–æ—Å—É—Å–ª—É–≥) ‚Äî —ç—Ç–æ –í–´–ü–ò–°–ö–ê –æ–± –æ–±—ä–µ–∫—Ç–µ!
   - –≠—Ç–æ –ù–ï —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏, –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª—ã "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –æ–±—ä–µ–∫—Ç–∞" –∏ "–°–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö".

2Ô∏è‚É£ –ü–û–ò–°–ö –û–ë–™–ï–ö–¢–û–í
   - –ù–∞–π–¥–∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä (—Ñ–æ—Ä–º–∞—Ç XX:XX:XXXXXXX:XXXX).
   - –ï—Å–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –æ–±—ä–µ–∫—Ç–∞" —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ ("–ü–ª–æ—â–∞–¥—å", "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å" –∏ —Ç.–¥.) ‚Äî –∑–Ω–∞—á–∏—Ç –æ–±—ä–µ–∫—Ç –°–£–©–ï–°–¢–í–£–ï–¢.

3Ô∏è‚É£ –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –î–ê–ù–ù–´–•
   - –í–∏–¥ –æ–±—ä–µ–∫—Ç–∞: "–ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫", "–ñ–∏–ª–æ–π –¥–æ–º", "–ö–≤–∞—Ä—Ç–∏—Ä–∞" –∏ —Ç.–¥.
   - –ê–¥—Ä–µ—Å (–º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ): –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –∏–∑ –ø–æ–ª—è "–ê–¥—Ä–µ—Å (–º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ)" –∏–ª–∏ "–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ".
   - –ü–ª–æ—â–∞–¥—å: –ß–∏—Å–ª–æ + –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (–∫–≤.–º). –ï—Å–ª–∏ "–£—Ç–æ—á–Ω–µ–Ω–Ω–∞—è –ø–ª–æ—â–∞–¥—å" ‚Äî –±–µ—Ä–∏ –µ—ë.
   - –ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: –°—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö.
   - –ü—Ä–∞–≤–æ:
     * –ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö".
     * –í–∏–¥ –ø—Ä–∞–≤–∞: "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å" (–∏–¥–∏ "–î–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å").
     * –î–∞—Ç–∞ –∏ –Ω–æ–º–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
     * –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –æ "–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–∏ –ø—Ä–∞–≤–∞" –∏–ª–∏ "–ø–µ—Ä–µ—Ö–æ–¥–µ –ø—Ä–∞–≤–∞" —Å –±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–µ–π –¥–∞—Ç–æ–π ‚Äî –∑–Ω–∞—á–∏—Ç –æ–±—ä–µ–∫—Ç –ü–†–û–î–ê–ù/–ü–ï–†–ï–î–ê–ù.
   - –û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è: –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑–¥–µ–ª "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏". –ï—Å–ª–∏ "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ" –∏–ª–∏ "–î–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî –∑–Ω–∞—á–∏—Ç –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–π –Ω–µ—Ç.

–ü–†–ò–ú–ï–† –í–´–ü–ò–°–ö–ò –° –ì–û–°–£–°–õ–£–ì (–°–≤–µ–¥–µ–Ω–∏—è...):
–ó–∞–≥–æ–ª–æ–≤–æ–∫: "–°–≤–µ–¥–µ–Ω–∏—è –∏–∑ –ï–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏"
–í–∏–¥ –æ–±—ä–µ–∫—Ç–∞: –ó–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫
–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä: 45:08:030801:366
–ê–¥—Ä–µ—Å: –ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª, ...
–ü–ª–æ—â–∞–¥—å: 2000 +/- 31.0
...
–°–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–∞–≤–∞—Ö: –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, ‚Ññ ... –æ—Ç ...

–≠–¢–û –ü–û–õ–ù–û–¶–ï–ù–ù–´–ô –û–ë–™–ï–ö–¢! –ò–∑–≤–ª–µ–∫–∏ –µ–≥–æ!

–†–ï–ó–£–õ–¨–¢–ê–¢: {"–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": true, "–û–±—ä–µ–∫—Ç—ã": [{...}]}

–£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û–ë –û–¢–°–£–¢–°–¢–í–ò–ò (–∏–º—É—â–µ—Å—Ç–≤–∞ –ù–ï–¢):
- –¢–æ—á–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –í–∞–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" –∏–ª–∏ "–≤ –ï–ì–†–ù –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è".
- –¢–∞–±–ª–∏—Ü—ã —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ (–ø–ª–æ—â–∞–¥—å, —Å—Ç–æ–∏–º–æ—Å—Ç—å) –ü–£–°–¢–´–ï –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.
- –¢–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ: {"–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": false, "–ü—Ä–∏—á–∏–Ω–∞": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏"}

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –û–ë–™–ï–ö–¢–´:
- –í –û–î–ù–û–ô –≤—ã–ø–∏—Å–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–≤–∞—Ä—Ç–∏—Ä, —É—á–∞—Å—Ç–∫–æ–≤ –∏ —Ç.–¥.)
- –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π –ö–ê–î–ê–°–¢–†–û–í–´–ô –ù–û–ú–ï–† –∏ —Å–≤–æ–π –ù–û–ú–ï–† –†–ê–ó–î–ï–õ–ê
- –ü–†–û–í–ï–†–¨ –í–°–ï –°–¢–†–ê–ù–ò–¶–´ –¥–æ–∫—É–º–µ–Ω—Ç–∞ - –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º –æ–±—ä–µ–∫—Ç–µ!
- –û–±—ä–µ–∫—Ç—ã –Ω—É–º–µ—Ä—É—é—Ç—Å—è —Ä–∞–∑–¥–µ–ª–∞–º–∏: 1.X (–ø–µ—Ä–≤—ã–π –æ–±—ä–µ–∫—Ç), 2.X (–≤—Ç–æ—Ä–æ–π –æ–±—ä–µ–∫—Ç), 3.X (—Ç—Ä–µ—Ç–∏–π –æ–±—ä–µ–∫—Ç) –∏ —Ç.–¥.
- –§–æ—Ä–º–∞—Ç: "–û–±—ä–µ–∫—Ç—ã": [–æ–±—ä–µ–∫—Ç1, –æ–±—ä–µ–∫—Ç2, –æ–±—ä–µ–∫—Ç3, ...]
- –ò–∑–≤–ª–µ–∫–∏ –ö–ê–ñ–î–´–ô –æ–±—ä–µ–∫—Ç —Å–æ –í–°–ï–ú–ò –µ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

–°–¢–†–£–ö–¢–£–†–ê –†–ê–ó–î–ï–õ–û–í –î–õ–Ø –ö–ê–ñ–î–û–ì–û –û–ë–™–ï–ö–¢–ê:
- –ü–ï–†–í–´–ô –æ–±—ä–µ–∫—Ç: —Ä–∞–∑–¥–µ–ª—ã 1.1, 1.2, 1.3
- –í–¢–û–†–û–ô –æ–±—ä–µ–∫—Ç: —Ä–∞–∑–¥–µ–ª—ã 2.1, 2.2, 2.3  
- –¢–†–ï–¢–ò–ô –æ–±—ä–µ–∫—Ç: —Ä–∞–∑–¥–µ–ª—ã 3.1, 3.2, 3.3
- –ò —Ç–∞–∫ –¥–∞–ª–µ–µ...

–ü–†–ò–ú–ï–†: –µ—Å–ª–∏ –≤–∏–¥–∏—à—å —Ä–∞–∑–¥–µ–ª—ã 1.1, 1.2, 1.3, –ø–æ—Ç–æ–º 2.1, 2.2, 2.3, –ø–æ—Ç–æ–º 3.1, 3.2, 3.3 ‚Üí —ç—Ç–æ 3 –†–ê–ó–ù–´–• –æ–±—ä–µ–∫—Ç–∞!

–ê–õ–ì–û–†–ò–¢–ú –ü–†–û–í–ï–†–ö–ò –°–¢–ê–¢–£–°–ê –ü–†–ê–í–ê (–≤–∫–ª—é—á–∞—è –ì–æ—Å—É—Å–ª—É–≥–∏):
1. –ù–∞–π–¥–∏ –ø–æ–ª–µ —Å –¥–∞—Ç–æ–π –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞ (–≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–∑–≤–∞–Ω–∏–π):
   - "–î–∞—Ç–∞, –Ω–æ–º–µ—Ä –∏ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞"
   - "–î–∞—Ç–∞, –Ω–æ–º–µ—Ä –∏ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ (–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è) –ø—Ä–∞–≤–∞"
   - "–î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–∏ÃÜ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞"
   - "–°–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–∏ –ø—Ä–∞–≤–∞"

2. –ü—Ä–æ–≤–µ—Ä—å –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–æ–ª—è:
   - –ï—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ", "–Ω–µ—Ç" ‚Üí –ü–†–ê–í–û –ê–ö–¢–ò–í–ù–û (–≤–∫–ª—é—á–∏—Ç—å –≤ "–û–±—ä–µ–∫—Ç—ã")
   - –ï—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç "–ü—Ä–∞–≤–æ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" –∏–ª–∏ "–∞–∫—Ç–∏–≤–Ω–æ" ‚Üí –ü–†–ê–í–û –ê–ö–¢–ò–í–ù–û (–≤–∫–ª—é—á–∏—Ç—å –≤ "–û–±—ä–µ–∫—Ç—ã")
   - –ï—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "01.01.2023") –ò –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤ "–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ"/"–∞–∫—Ç–∏–≤–Ω–æ" ‚Üí –ü–†–ê–í–û –ü–†–ï–ö–†–ê–©–ï–ù–û (–≤–∫–ª—é—á–∏—Ç—å –≤ "–û–±—ä–µ–∫—Ç—ã" —É–¥–∞–ª–∏–≤ –ø–æ–º–µ—Ç–∫—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ –°–¥–µ–ª–∫–∏)
   
3. –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞—è –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –ü–†–ê–í–û –ê–ö–¢–ò–í–ù–û.

3. –ï—Å–ª–∏ –≤ —Å—Ç—Ä–æ–∫–µ "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞: –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî –∑–Ω–∞—á–∏—Ç –ø—Ä–∞–≤–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç, –∏–º—É—â–µ—Å—Ç–≤–æ –ï–°–¢–¨

–°–¢–†–£–ö–¢–£–†–ê –í–´–ü–ò–°–ö–ò –ï–ì–†–ù (–î–í–ê –í–ê–†–ò–ê–ù–¢–ê):

–í–ê–†–ò–ê–ù–¢ –ê: –°–¢–ê–ù–î–ê–†–¢–ù–ê–Ø –í–´–ü–ò–°–ö–ê –†–û–°–†–ï–ï–°–¢–†–ê (–†–∞–∑–¥–µ–ª—ã 1, 2, ...):
- –†–∞–∑–¥–µ–ª 1: "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏" (–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)
- –†–∞–∑–¥–µ–ª 2: "–°–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö" (–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏)
- –†–∞–∑–¥–µ–ª 4/5: "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏"

–í–ê–†–ò–ê–ù–¢ –ë: –í–´–ü–ò–°–ö–ê –ì–û–°–£–°–õ–£–ì–ò ("–°–≤–µ–¥–µ–Ω–∏—è –∏–∑ –ï–ì–†–ù"):
- –°–Ω–∞—á–∞–ª–∞ –∏–¥–µ—Ç "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –æ–±—ä–µ–∫—Ç–∞" (–¢–∞–±–ª–∏—Ü–∞ –±–µ–∑ –Ω–æ–º–µ—Ä–∞).
- –ó–∞—Ç–µ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö", –≥–¥–µ –∑–∞–ø–∏—Å–∏ –Ω—É–º–µ—Ä—É—é—Ç—Å—è: 1.1, 1.2, 1.3...
  * 1.1 ‚Äî –æ–±—ã—á–Ω–æ —Ç–µ–∫—É—â–∏–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ (–∏–ª–∏ –æ–¥–Ω–∞ –∏–∑ –∑–∞–ø–∏—Å–µ–π).
  * 1.2, 1.3 ‚Äî –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏.
- –í –≠–¢–û–ú –°–õ–£–ß–ê–ï: –ü—Ä–æ–≤–µ—Ä—è–π –ö–ê–ñ–î–£–Æ –∑–∞–ø–∏—Å—å (1.1, 1.2, 1.3)!
  - –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å 1.1 —Å–æ–¥–µ—Ä–∂–∏—Ç "–ü—Ä–∞–≤–æ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" ‚Äî —ç—Ç–æ –ê–ö–¢–ò–í–ù–´–ô —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫! –ë–µ—Ä–∏ –µ–≥–æ!
  - –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å 1.2 —Å–æ–¥–µ—Ä–∂–∏—Ç "–î–∞—Ç–∞... –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è... 03.09.2025" ‚Äî —ç—Ç–æ –ò–°–¢–û–†–ò–Ø (–ø—Ä–æ—à–ª—ã–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ê–ù–ê–õ–ò–ó –ü–†–ê–í –í –ì–û–°–£–°–õ–£–ì–ê–•:
–ï—Å–ª–∏ –≤–∏–¥–∏—à—å –Ω—É–º–µ—Ä–∞—Ü–∏—é 1.1, 1.2, 1.3 –≤–Ω—É—Ç—Ä–∏ "–°–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–∞–≤–∞—Ö":
1. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏ –í–°–ï –ø—É–Ω–∫—Ç—ã.
2. –ù–∞–π–¥–∏ —Ç–æ—Ç, –≥–¥–µ "–î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞" = "–î–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" –ò–õ–ò –Ω–∞–ø–∏—Å–∞–Ω–æ "–ü—Ä–∞–≤–æ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ".
   -> –≠–¢–û –¢–ï–ö–£–©–ò–ô –°–û–ë–°–¢–í–ï–ù–ù–ò–ö. –û–±—ä–µ–∫—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –µ–º—É.
3. –ï—Å–ª–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ (–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∞–≤–æ) –Ω–µ—Ç ‚Äî –∑–Ω–∞—á–∏—Ç –æ–±—ä–µ–∫—Ç–∞ –Ω–µ—Ç (–∏–ª–∏ –ø—Ä–æ–¥–∞–Ω).
4. –ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ = {debtor_fio} (–∏–ª–∏ –µ–≥–æ —Å—É–ø—Ä—É–≥/—Å—É–ø—Ä—É–≥–∞) ‚Äî –í–´–í–û–î–ò –≠–¢–û–¢ –û–ë–™–ï–ö–¢ –ö–ê–ö –ò–ú–£–©–ï–°–¢–í–û!

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ü–†–û–î–ê–ù–ù–û–ï –ò–ú–£–©–ï–°–¢–í–û:
‚ö†Ô∏è –í–ê–ñ–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï: –ü—Ä–æ–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –í–ö–õ–Æ–ß–ê–ô –≤ –º–∞—Å—Å–∏–≤ "–û–±—ä–µ–∫—Ç—ã"!
- –ò—â–∏ —Å—Ç—Ä–æ–∫—É "–î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞" (–∏–ª–∏ "–î–∞—Ç–∞, –Ω–æ–º–µ—Ä –∏ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ... –ø–µ—Ä–µ—Ö–æ–¥–∞ (–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è) –ø—Ä–∞–≤–∞") –≤ —Ä–∞–∑–¥–µ–ª–µ X.2
- –ü—Ä–æ–≤–µ—Ä—è–π —Å—Ç–∞—Ç—É—Å:
  * –ï—Å–ª–∏ "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–Ω–µ—Ç", "–ü—Ä–∞–≤–æ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" ‚Üí –∏–º—É—â–µ—Å—Ç–≤–æ –í –°–û–ë–°–¢–í–ï–ù–ù–û–°–¢–ò
  * –ï—Å–ª–∏ —Ç–∞–º –¢–û–õ–¨–ö–û –¥–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä "02.02.2023") –±–µ–∑ —Å–ª–æ–≤ "–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" ‚Üí –∏–º—É—â–µ—Å—Ç–≤–æ –ü–†–û–î–ê–ù–û
- **–í–ê–ñ–ù–û**: –ü—Ä–æ–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –í–ö–õ–Æ–ß–ê–ô –≤ –º–∞—Å—Å–∏–≤ "–û–±—ä–µ–∫—Ç—ã" —Å –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º–∏!
- –ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞": "02.02.2023"
- –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–¥–µ–ª–∫–∞—Ö

–ü–†–ò–ú–ï–† –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞:
{
  "–û–±—ä–µ–∫—Ç": {
    "–í–∏–¥": "–ü–æ–º–µ—â–µ–Ω–∏–µ",
    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "74:36:0212004:1852",
    "–ê–¥—Ä–µ—Å": "–≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –°–∞–ª—é—Ç–Ω–∞—è, –¥. 23, –∫–≤. 137",
    "–ü–ª–æ—â–∞–¥—å": "39.5"
  },
  "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏": [{
    "–§–ò–û": "–ú–∞–ª–∏–∫–æ–≤–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –Æ—Ä—å–µ–≤–Ω–∞",
    "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "18.02.2021",
    "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞": "02.02.2023"  ‚Üê –ö–õ–Æ–ß–ï–í–û–ï: –î–∞—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏
  }]
}

–í–ê–ñ–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–π —Ç–æ–ª—å–∫–æ –ê–ö–¢–£–ê–õ–¨–ù–´–• –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π!
- –ï—Å–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ 1.2 "–î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞" —Å—Ç–æ–∏—Ç –¥–∞—Ç–∞ –ò –Ω–µ—Ç —Å–ª–æ–≤ "–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" ‚Üí –ø—Ä–∞–≤–æ –ü–†–ï–ö–†–ê–©–ï–ù–û, —ç—Ç–æ —Å–¥–µ–ª–∫–∞
- –í–∫–ª—é—á–∞–π –∑–∞–ø–∏—Å–∏ –≥–¥–µ "–î–∞—Ç–∞..." = "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" –ò–õ–ò "–ü—Ä–∞–≤–æ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ"
- –ï—Å–ª–∏ –ø—Ä–∞–≤–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å (–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ) ‚Äî —ç—Ç–æ –°–î–ï–õ–ö–ê, –∏–∑–≤–ª–µ–∫–∞–π –µ—ë –≤ —Ä–∞–∑–¥–µ–ª "–°–¥–µ–ª–∫–∞"

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–†–ê–ë–û–¢–ê –° –ê–î–†–ï–°–ê–ú–ò –û–ë–™–ï–ö–¢–û–í:
- –ê–¥—Ä–µ—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º—ã—Ç –∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω –ó–ê–ì–õ–ê–í–ù–´–ú–ò –ë–£–ö–í–ê–ú–ò - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
- –ò—â–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: —Ä–µ–≥–∏–æ–Ω/–æ–±–ª–∞—Å—Ç—å, –≥–æ—Ä–æ–¥/–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–æ—Ä–ø—É—Å, –∫–≤–∞—Ä—Ç–∏—Ä–∞/–ø–æ–º–µ—â–µ–Ω–∏–µ
- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–£–õ.", "–î.", "–î–û–ú", "–ö–û–†–ü.", "–°–¢–†–û–ï–ù–ò–ï", "–°–¢–†.", "–ö–í.", "–ü–û–ú.", "–û–§–ò–°"
- –§–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞: "–≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –ö—Ä–∞—Å–Ω–æ–º–æ–ª–æ—Ç–æ–≤–∞, –¥. 65, –∫–æ—Ä–ø. 1, –∫–≤. 35"
- –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–∑–º—ã—Ç - —Ä–∞–∑–±–∏—Ä–∞–π –ø–æ —á–∞—Å—Ç—è–º: –≥–æ—Ä–æ–¥ + —É–ª–∏—Ü–∞ –º–∏–Ω–∏–º—É–º
- –ß–∏—Å–ª–∞ (–Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤, –∫–≤–∞—Ä—Ç–∏—Ä) –æ–±—ã—á–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –ª—É—á—à–µ –Ω–∞–∑–≤–∞–Ω–∏–π —É–ª–∏—Ü
- –ü—Ä–∏–≤–æ–¥–∏ CAPS LOCK –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É: "–≥. –ß–µ–ª—è–±–∏–Ω—Å–∫", –∞ –Ω–µ "–ì. –ß–ï–õ–Ø–ë–ò–ù–°–ö"
- –ù–ï –æ—Å—Ç–∞–≤–ª—è–π "–ê–¥—Ä–µ—Å" –ø—É—Å—Ç—ã–º (null) –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –≥–æ—Ä–æ–¥ –∏ —É–ª–∏—Ü–∞ —á–∏—Ç–∞—é—Ç—Å—è!

–û–°–û–ë–ï–ù–ù–û–°–¢–ò –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–Ø:
- –í–°–ï–ì–î–ê –∏—â–∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä - –æ–Ω –æ–±—ã—á–Ω–æ –≤ –Ω–∞—á–∞–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XX:XX:XXXXXXX:XXXX
- –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π - –ø—Ä–æ–≤–µ—Ä—å –í–°–ï —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- –í –æ–¥–Ω–æ–π –≤—ã–ø–∏—Å–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û –æ–±—ä–µ–∫—Ç–æ–≤ - –∏–∑–≤–ª–µ–∫–∞–π –≤—Å–µ
- –ü–ª–æ—â–∞–¥—å –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∞ –∫–∞–∫ "–æ–±—â–∞—è", "–∂–∏–ª–∞—è", "–∑–µ–º–ª–∏" - –±–µ—Ä–º –æ–±—â—É—é
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∏—â–∏ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å" –∏–ª–∏ "–†—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–∞–±–ª–∏—Ü—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º–∏ - –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ—Ö —Å –∏—Ö –¥–æ–ª—è–º–∏

–ò–ó–í–õ–ï–ß–ï–ù–ò–ï –°–î–ï–õ–û–ö - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û

–î–í–ê –¢–ò–ü–ê –°–î–ï–õ–û–ö:

1. –°–î–ï–õ–ö–ê –ü–†–û–î–ê–ñ–ò (–¥–æ–ª–∂–Ω–∏–∫ –ø—Ä–æ–¥–∞–ª –∏–º—É—â–µ—Å—Ç–≤–æ):
   –°–º–æ—Ç—Ä–∏ –Ω–∞ –ø–æ–ª–µ "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞":
   - –ï—Å–ª–∏ —Å—Ç–æ–∏—Ç –î–ê–¢–ê (–Ω–∞–ø—Ä–∏–º–µ—Ä "02.02.2023") ‚Üí –≤–ª–∞–¥–µ–ª–µ—Ü –ü–†–û–î–ê–õ –∏–º—É—â–µ—Å—Ç–≤–æ –≤ —ç—Ç—É –¥–∞—Ç—É
   - –ï—Å–ª–∏ "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Üí –≤–ª–∞–¥–µ–ª–µ—Ü –î–û –°–ò–• –ü–û–† –≤–ª–∞–¥–µ–µ—Ç
   
2. –°–î–ï–õ–ö–ê –ü–û–ö–£–ü–ö–ò (–¥–æ–ª–∂–Ω–∏–∫ –∫—É–ø–∏–ª –∏–º—É—â–µ—Å—Ç–≤–æ):
   –°–º–æ—Ç—Ä–∏ –Ω–∞ –ø–æ–ª–µ "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏" (–¥–∞—Ç–∞ –∫–æ–≥–¥–∞ –∫—É–ø–∏–ª):
   - –ï—Å–ª–∏ –¥–∞—Ç–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ (—Å 2023 –ø–æ 2025) ‚Üí —ç—Ç–æ —Å–¥–µ–ª–∫–∞ –ø–æ–∫—É–ø–∫–∏
   - –ù–∞–ø—Ä–∏–º–µ—Ä: "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 28.02.2023" ‚Üí –∫—É–ø–∏–ª 28.02.2023

–í–ê–ñ–ù–û: –ò–∑–≤–ª–µ–∫–∞–π –û–ë–ê —Ç–∏–ø–∞ —Å–¥–µ–ª–æ–∫ (–∏ –ø–æ–∫—É–ø–∫—É, –∏ –ø—Ä–æ–¥–∞–∂—É) –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞!

–ü—Ä–∏–º–µ—Ä 1 (–°–î–ï–õ–ö–ê –ü–†–û–î–ê–ñ–ò):
```
    - "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞: 02.02.2023" ‚Üê –ü–†–û–î–ê–ñ–ê!
```

–ü—Ä–∏–º–µ—Ä 2 (–¢–û–õ–¨–ö–û –ü–û–ö–£–ü–ö–ê):
```
    - "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 28.02.2023" ‚Üê –ü–û–ö–£–ü–ö–ê!
```
‚Üí –û–¥–Ω–∞ —Å–¥–µ–ª–∫–∞: –ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞=true, –¢–∏–ø_—Å–¥–µ–ª–∫–∏="–ø–æ–∫—É–ø–∫–∞", –î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏="28.02.2023", –ü–æ–∫—É–ø–∞—Ç–µ–ª—å="–ú–∞–ª–∏–∫–æ–≤–∞ –í.–Æ."

–ß–¢–û –ò–ó–í–õ–ï–ö–ê–¢–¨ –ò–ó –í–´–ü–ò–°–ö–ò:
- –†–∞–∑–¥–µ–ª 1.1: –ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!), –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∞–ª–∞, –≤–∏–¥ –æ–±—ä–µ–∫—Ç–∞ (–∂–∏–ª—å—ë, –∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫, –ø–æ–º–µ—â–µ–Ω–∏–µ –∏ —Ç.–ø.), –∞–¥—Ä–µ—Å, –ø–ª–æ—â–∞–¥—å, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç—Ç–∞–∂–µ–π, –º–∞—Ç–µ—Ä–∏–∞–ª —Å—Ç–µ–Ω, –≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏, –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –†–∞–∑–¥–µ–ª 1.2: –°–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è—Ö:
  * –§–ò–û/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
  * –î–æ–ª—è –≤ –ø—Ä–∞–≤–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "1/2", "1/1")
  * –¢–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–æ–±—â–µ–¥–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–æ–±—â–∞—è —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å)
  * –í–∏–¥ –ø—Ä–∞–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ")
  * "–û—Å–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏" - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é! (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–î–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –æ—Ç 15.08.2023 ‚Ññ123", "–î–æ–≥–æ–≤–æ—Ä –¥–∞—Ä–µ–Ω–∏—è –æ—Ç 20.01.2020")
  * –î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∞–≤–∞
  * –î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞
- –†–∞–∑–¥–µ–ª 1.3: –ï—Å–ª–∏ –µ—Å—Ç—å –±–ª–æ–∫ "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è/–æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è" ‚Äî –ø–µ—Ä–µ–Ω–µ—Å–∏ –¢–û–õ–¨–ö–û –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–π "–ø–æ–≥–∞—à–µ–Ω–æ", "–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ").
- –°–î–ï–õ–ö–ê: –µ—Å–ª–∏ –≤–∏–¥–∏—à—å —Å–º–µ–Ω—É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∞–≤–∞ ‚Äî –∏–∑–≤–ª–µ–∫–∏ –¥–∞—Ç—É, —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏, –æ—Å–Ω–æ–≤–∞–Ω–∏–µ (–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ –∏ —Ç.–¥.).
–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã: –ø–µ—Ä–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞, –≤—Ç–æ—Ä–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ.

–ï—Å–ª–∏ —Ç–µ–±–µ –ø–æ–ø–∞–ª–∞—Å—å –≤—ã–ø–∏—Å–∫–∞ –ï–ì–†–ù –Ω–µ –ø–æ–ø–∞–¥–∞—é—â–∞—è –ø–æ–¥ –ø—É–Ω–∫—Ç—ã, —Ç–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –∏–∑–≤–ª–µ–∫–∞–π –∏–º—É—â–µ—Å—Ç–≤–æ, –≥–ª–∞–≤–Ω–æ–µ –∏–∑–≤–ª–µ—á—å –∏–º—É—â–µ—Å—Ç–≤–æ!

JSON –î–õ–Ø –í–´–ü–ò–°–ö–ò –° –ò–ú–£–©–ï–°–¢–í–û–ú (–û–ë–†–ê–¢–ò –í–ù–ò–ú–ê–ù–ò–ï: "–û–±—ä–µ–∫—Ç—ã" - —ç—Ç–æ –ú–ê–°–°–ò–í!):
{
        "–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": true,
        "–û–±—ä–µ–∫—Ç—ã": [
                {
                        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "...",
                        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–∫–≤–∞—Ä—Ç–∞–ª": "...",
                        "–û–±—ä–µ–∫—Ç": {
                                "–í–∏–¥": "...",
                                "–ê–¥—Ä–µ—Å": "...",
                                "–ü–ª–æ—â–∞–¥—å": "...",
                                "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ": "...",
                                "–≠—Ç–∞–∂–Ω–æ—Å—Ç—å": "...",
                                "–ú–∞—Ç–µ—Ä–∏–∞–ª_—Å—Ç–µ–Ω": "...",
                                "–ì–æ–¥_–ø–æ—Å—Ç—Ä–æ–π–∫–∏": "..."
                        },
                        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "...",
                        "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏": [
                                {
                                        "–§–ò–û": "...",
                                        "–î–æ–ª—è": "...",
                                        "–¢–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–æ–±—â–µ–¥–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–æ–±—â–∞—è —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                                        "–í–∏–¥_–ø—Ä–∞–≤–∞": "...",
                                        "–î–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ": "–ü–û–õ–ù–´–ô —Ç–µ–∫—Å—Ç –∏–∑ '–û—Å–Ω–æ–≤–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏' (–Ω–∞–ø—Ä–∏–º–µ—Ä: '–î–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –æ—Ç 15.08.2023 ‚Ññ123')",
                                        "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                        "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞": "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç/–î–î.–ú–ú.–ì–ì–ì–ì",
                                        "–Ø–≤–ª—è–µ—Ç—Å—è_—Ç–µ–∫—É—â–∏–º_–≤–ª–∞–¥–µ–ª—å—Ü–µ–º": true/false
                                }
                        ],
                        "–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è": [
                                {
                                        "–í–∏–¥": "–ò–ø–æ—Ç–µ–∫–∞ –≤ —Å–∏–ª—É –∑–∞–∫–æ–Ω–∞/–ó–∞–ª–æ–≥/–ê—Ä–µ—Å—Ç/...",
                                        "–ó–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å": "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫/...",
                                        "–ù–æ–º–µ—Ä_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "74:36:0212004:1852-74/108/2023-26",
                                        "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                        "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è": "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç/–î–î.–ú–ú.–ì–ì–ì–ì",
                                        "–ü–æ–≥–∞—à–µ–Ω–æ": false/true
                                }
                        ],
                        "–°–¥–µ–ª–∫–∞": {
                                "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true/false,
                                "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/–¥—Ä—É–≥–æ–µ",
                                "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                "–ü—Ä–µ–¥—ã–¥—É—â–∏–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": "–§–ò–û —Ç–æ–≥–æ, —É –∫–æ–≥–æ –î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞ —Å—Ç–æ–∏—Ç –¥–∞—Ç–æ–π",
                                "–ù–æ–≤—ã–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": "–§–ò–û —Ç–æ–≥–æ, —É –∫–æ–≥–æ –î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞ = –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç",
                                "–î–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ": "–î–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –æ—Ç –î–î.–ú–ú.–ì–ì–ì–ì ‚Ññ
                        "–°–¥–µ–ª–∫–∞": {
                                "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true/false,
                                "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/–¥—Ä—É–≥–æ–µ",
                                "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                "–ü—Ä–µ–¥—ã–¥—É—â–∏–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": "...",
                                "–ù–æ–≤—ã–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": "...",
                              (—Ä–∞–∑–¥–µ–ª 1.3):
- –ò—â–∏ —Ä–∞–∑–¥–µ–ª 1.3 "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∞ –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏"
- –ö–∞–∂–¥–æ–µ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø–æ–¥—Ä–∞–∑–¥–µ–ª (1.3.1, 1.3.2 –∏ —Ç.–¥.) —Å –ø–æ–ª—è–º–∏:
  * "–í–∏–¥" - —Ç–∏–ø –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è (–ò–ø–æ—Ç–µ–∫–∞ –≤ —Å–∏–ª—É –∑–∞–∫–æ–Ω–∞, –ó–∞–ª–æ–≥, –ê—Ä–µ—Å—Ç, –ê—Ä–µ–Ω–¥–∞ –∏ —Ç.–¥.)
  * "–ù–æ–º–µ—Ä –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏" - –Ω–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "74:36:0212004:1852-74/108/2023-26")
  * "–õ–∏—Ü–æ, –≤ –ø–æ–ª—å–∑—É –∫–æ—Ç–æ—Ä–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ" - –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å/–±–∞–Ω–∫
  * "–î–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è" - –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞ ‚Üí –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≥–∞—à–µ–Ω–æ
- –¢–∏–ø—ã –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–π: "–ò–ø–æ—Ç–µ–∫–∞ –≤ —Å–∏–ª—É –∑–∞–∫–æ–Ω–∞", "–ò–ø–æ—Ç–µ–∫–∞", "–ó–∞–ª–æ–≥", "–ê—Ä–µ—Å—Ç", "–ó–∞–ø—Ä–µ—Ç –Ω–∞ —Å–¥–µ–ª–∫–∏", "–ê—Ä–µ–Ω–¥–∞"
- –ó–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å/–±–∞–Ω–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω: "–ê–û ¬´–ß–µ–ª—è–±–∏–Ω–≤–µ—Å—Ç–±–∞–Ω–∫¬ª", "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫", "–ë–∞–Ω–∫ –í–¢–ë", "–¢-–ë–∞–Ω–∫"
- –ï—Å–ª–∏ "–î–∞—Ç–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è" —Å—Ç–æ–∏—Ç ‚Üí –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ –ü–û–ì–ê–®–ï–ù–û, –Ω–µ –≤–∫–ª—é—á–∞–π –≤ —Å–ø–∏—Å–æ–∫
- –ï—Å–ª–û–±—ä–µ–∫—Ç—ã" –≤–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ –æ–±—ä–µ–∫—Ç—ã, –≥–¥–µ —É –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞" = "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
- –ï—Å–ª–∏ —É –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞" —Å—Ç–æ–∏—Ç –î–ê–¢–ê (–Ω–∞–ø—Ä–∏–º–µ—Ä "02.02.2023") ‚Üí –∏–º—É—â–µ—Å—Ç–≤–æ –ü–†–û–î–ê–ù–û:
  * –ù–ï –≤–∫–ª—é—á–∞–π —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤ "–û–±—ä–µ–∫—Ç—ã"
  * –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–æ–∑–¥–∞–π –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å "–°–¥–µ–ª–∫–∞" –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
  * –í "–°–¥–µ–ª–∫–∞" —É–∫–∞–∂–∏: "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true
  * –î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏ = —Ç–æ—á–Ω–∞—è –¥–∞—Ç–∞ –∏–∑ "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞" (–Ω–∞–ø—Ä–∏–º–µ—Ä "02.02.2023")
  * –ü—Ä–µ–¥—ã–¥—É—â–∏–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ = –§–ò–û —Ç–æ–≥–æ, —É –∫–æ–≥–æ –ø—Ä–∞–≤–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏–ª–æ—Å—å (–∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 1.2)
  * –ù–æ–≤—ã–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫ = –§–ò–û —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª 1.2.2 –∏–ª–∏ 1.2.3)
  * –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ä–∞–∑–¥–µ–ª "1.2" —Å –¥–∞—Ç–æ–π –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞ –ò —Ä–∞–∑–¥–µ–ª "1.2.1" –∏–ª–∏ "1.2.2" –±–µ–∑ –¥–∞—Ç—ã –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è - —ç—Ç–æ —Ç–æ—á–Ω–æ –ø—Ä–æ–¥–∞–∂–∞!
- –í "–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è" –≤–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ, –≥–¥–µ "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è" = "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ)
- –ò–∑–≤–ª–µ–∫–∞–π –í–°–ï —Å–¥–µ–ª–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ (—Å 2023 –≥–æ–¥–∞)
- –í–ù–ò–ú–ê–ù–ò–ï: –ï—Å–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ 1.2 –≤–∏–¥–∏—à—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª —Å "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞" - –≠–¢–û –°–î–ï–õ–ö–ê!
- –ó–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å/–±–∞–Ω–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º: "–ê–û ¬´–ß–µ–ª—è–±–∏–Ω–≤–µ—Å—Ç–±–∞–Ω–∫¬ª", "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫"
- –ú–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –∫—Ä–∞—Ç–∫–æ: "–ë–∞–Ω–∫ –í–¢–ë", "–¢-–ë–∞–Ω–∫", "–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫"
- –û–±—Ä–∞—â–∞–π –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ª–æ–≤–∞: "–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å", "–∫—Ä–µ–¥–∏—Ç–æ—Ä", "–±–∞–Ω–∫", "–≤ –ø–æ–ª—å–∑—É"
- –ï—Å–ª–∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ "–ø–æ–≥–∞—à–µ–Ω–æ" –∏–ª–∏ "–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ" - —É–∫–∞–∂–∏ –≤ –ø–æ–ª–µ "–ü–æ–≥–∞—à–µ–Ω–æ": true
- –í –∫–∞–∂–¥–æ–º –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∑—ã–≤–∞–π –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—è/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –µ—Å–ª–∏ –æ–Ω —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ï—Å–ª–∏ –ù–ï–¢ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" / "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" ‚Äî –≤–µ—Ä–Ω–∏:
  {
    "–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": false,
    "–ü—Ä–∏—á–∏–Ω–∞": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤–µ–¥–µ–Ω–∏–π –≤ –ï–ì–†–ù"
  }
- –í "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏" –∏ "–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è" –≤–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∑–∞–ø–∏—Å–∏
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∑–∞–ø–æ–ª–Ω–∏ "–°–¥–µ–ª–∫–∞" —Å "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true –∏ –¥–∞—Ç–æ–π!
- –ò–∑–≤–ª–µ–∫–∞–π –¥–∞—Ç—É —Å–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞-–æ—Å–Ω–æ–≤–∞–Ω–∏—è: "–î–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –æ—Ç 15.08.2023" ‚Üí "15.08.2023"
- –ü–æ–ª—è –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–π"""
        },
        "–ø–µ–Ω—Å–∏–∏": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ —Å—Ñ—Ä", "–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–µ–Ω—Å–∏—è—Ö", "–µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –¥–µ–Ω–µ–∂–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã", "–µ–¥–≤"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –°–§–† –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–µ–Ω—Å–∏—è—Ö –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç–∞—Ö.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–û–ø—Ä–µ–¥–µ–ª–∏:
- –°–ù–ò–õ–°, –§–ò–û, –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è (–≤ —à–∞–ø–∫–µ —Ä—è–¥–æ–º —Å –Ω–æ–º–µ—Ä–æ–º –¥–µ–ª–∞).
- –û—Ä–≥–∞–Ω, –≤—ã–¥–∞–≤—à–∏–π —Å–ø—Ä–∞–≤–∫—É, –Ω–æ–º–µ—Ä –∏ –¥–∞—Ç—É.
- –ü–µ—Ä–µ—á–µ–Ω—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã, –ø—Ä–∞–≤–æ–≤–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ (—Å—Ç–∞—Ç—å—è –∑–∞–∫–æ–Ω–∞), –ø–µ—Ä–∏–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä, —Å—Ç–∞—Ç—É—Å –ù–°–£ (–ª–µ–∫–∞—Ä—Å—Ç–≤–∞, —Å–∞–Ω–∞—Ç–æ—Ä–∏–π, –ø—Ä–æ–µ–∑–¥).
- –†–∞–∑–º–µ—Ä –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –¥–µ–Ω–µ–∂–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã (–ï–î–í) –∏ –≤–æ–ª–µ–∏–∑—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ –Ω–∞–±–æ—Ä—É —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥.
- –¶–µ–ª—å –≤—ã–¥–∞—á–∏/–æ—Å–Ω–æ–≤–∞–Ω–∏–µ (–≤–Ω–∏–∑—É –¥–æ–∫—É–º–µ–Ω—Ç–∞).
–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∑–Ω–∞–π: —à–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä, –°–ù–ò–õ–° –∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, —Ç–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ.

JSON:
{
        "–§–ò–û": "...",
        "–°–ù–ò–õ–°": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ù–æ–º–µ—Ä_—Å–ø—Ä–∞–≤–∫–∏": "...",
        "–î–∞—Ç–∞_—Å–ø—Ä–∞–≤–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Ä–≥–∞–Ω": "...",
        "–í—ã–ø–ª–∞—Ç—ã": [
                {
                        "–í–∏–¥": "...",
                        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "...",
                        "–ü–µ—Ä–∏–æ–¥": {
                                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"/"–±–µ—Å—Å—Ä–æ—á–Ω–æ"
                        },
                        "–†–∞–∑–º–µ—Ä": "...",
                        "–ù–°–£": {
                                "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞": "...",
                                "–°–∞–Ω–∞—Ç–æ—Ä–∏–π": "...",
                                "–ü—Ä–æ–µ–∑–¥": "..."
                        }
                }
        ],
        "–ï–î–í": "...",
        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–≤—ã–¥–∞—á–∏": "..."
}
–ï—Å–ª–∏ –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚Äî null. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–π.""",
        },
        "–≤—ã–ø–ª–∞—Ç—ã": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ –≤—ã–ø–ª–∞—Ç–∞—Ö", "—Å—Ñ—Ä", "–≤—ã–ø–ª–∞—Ç–∞—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥", "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –°–§–† –æ –≤—ã–ø–ª–∞—Ç–∞—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–§–∏–∫—Å–∏—Ä—É–π:
- –§–ò–û, –°–ù–ò–õ–°, –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è (—à–∞–ø–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞).
- –û—Ä–≥–∞–Ω –°–§–†, –Ω–æ–º–µ—Ä, –¥–∞—Ç—É —Å–ø—Ä–∞–≤–∫–∏.
- –ü–µ—Ä–∏–æ–¥, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ ("–≤ –ø–µ—Ä–∏–æ–¥ —Å ... –ø–æ ...").
- –¢–∞–±–ª–∏—Ü—É –≤—ã–ø–ª–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã, –ø—Ä–∞–≤–æ–≤–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–∏–æ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä, –ù–°–£ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ), —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã –ø–æ –º–µ—Å—è—Ü–∞–º.
- –ò—Ç–æ–≥–æ–≤—ã–µ —Å—É–º–º—ã.
–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã", "–û—Å–Ω–æ–≤–∞–Ω–∏—è", "–ü–µ—Ä–∏–æ–¥", "–†–∞–∑–º–µ—Ä".

JSON:
{
        "–§–ò–û": "...",
        "–°–ù–ò–õ–°": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ù–æ–º–µ—Ä_—Å–ø—Ä–∞–≤–∫–∏": "...",
        "–î–∞—Ç–∞_—Å–ø—Ä–∞–≤–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Ä–≥–∞–Ω": "...",
        "–ü–µ—Ä–∏–æ–¥": {
                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"
        },
        "–í—ã–ø–ª–∞—Ç—ã": [
                {
                        "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "...",
                        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "...",
                        "–ü–µ—Ä–∏–æ–¥": {
                                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"/"–±–µ—Å—Å—Ä–æ—á–Ω–æ"
                        },
                        "–†–∞–∑–º–µ—Ä": "...",
                        "–ù–°–£": "...",
                        "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏": "..."
                }
        ]
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–æ—Ç—á–µ—Ç_–æ–∫–±": {
            "keywords": ["–∫—Ä–µ–¥–∏—Ç–Ω—ã–π –æ—Ç—á–µ—Ç", "–æ–∫–±", "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–µ –±—é—Ä–æ", "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –±—é—Ä–æ", "–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è", "–æ—Ç—á–µ—Ç –æ–∫–±", "–±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π"],
            "prompt": """

–í–ê–ñ–ù–û–ï –ó–ê–ú–ï–ß–ê–ù–ò–ï! –ù–ï –ù–£–ñ–ù–û –û–¢–î–ï–õ–¨–ù–û –ë–†–ê–¢–¨ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –ö–ê–ö –û–¢–î–ï–õ–¨–ù–´–ï –ö–†–ï–î–ò–¢–´. –≠–¢–û –û–î–ò–ù –ò –¢–û–¢ –ñ–ï –ö–†–ï–î–ò–¢!!! "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –ù–£–ñ–ù–û –í–ó–Ø–¢–¨ –¢–û–õ–¨–ö–û –≠–¢–û!
    - –ö–æ—Ä–æ—á–µ, –∑–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –¥–≤–∞ –¥–æ–≥–æ–≤–æ—Ä–∞, –±–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"

–°–ù–ê–ß–ê–õ–ê –Ω–∞–π–¥–∏ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç—á–µ—Ç–∞ (—ç—Ç–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞). –í —Ä–∞–∑–¥–µ–ª–µ "–°–£–ë–™–ï–ö–¢ –ö–†–ï–î–ò–¢–ù–û–ô –ò–°–¢–û–†–ò–ò".

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∏–ª–∏ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∫–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.

–í —Ä–∞–∑–¥–µ–ª–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –µ—Å—Ç—å –∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ 1. 2. 3. –∏ —Ç.–¥. —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É, –Ω–µ –Ω—É–∂–Ω–æ –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—ã—Ç–∞—Ç—å—Å—è –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ä–∞–∑—É –∏—â–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É.

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–í –î–ï–¢–ê–õ–¨–ù–û–ú –†–ê–ó–î–ï–õ–ï –ù–ò–ñ–ï, –ü–û–î –ö–†–ê–¢–ö–û–ô –¢–ê–ë–õ–ò–¶–ï–ô, –¥–ª—è –ö–ê–ñ–î–û–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –∏–∑–≤–ª–µ–∫–∏:
   - "–î–∞—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏" –∏–ª–∏ "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞"
   - "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
   - –í —Ä–∞–∑–¥–µ–ª–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ" –∏—â–∏ —Å—Ç—Ä–æ–∫—É "–ò–ù–ù –∏ –û–ì–†–ù (–û–ì–†–ù–ò–ü)". –¢–∞–º –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: "–ò–ù–ù¬≥ 7744000912" –∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ "–û–ì–†–ù 1027739019142"
   - –ò–ù–ù - —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–ù–ù¬≥" (10 —Ü–∏—Ñ—Ä). –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –µ–≥–æ!
   - –û–ì–†–ù –ù–ï –ù–£–ñ–ï–ù (—ç—Ç–æ 13 —Ü–∏—Ñ—Ä)
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∏ —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)".
   - –°–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏" - —ç—Ç–æ –∏ –µ—Å—Ç—å "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–†–û –î–û–õ–ì –í –û–ö–ë:
- –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´"
- –ë–µ—Ä–µ–º –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—Ç—å —Å—É–º–º—É –∏–∑ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏ –¥–µ–ª–∞—Ç—å –∏–∑ –Ω–µ–µ –æ–±—â—É—é –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å!
- "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –£–ñ–ï –í–ö–õ–Æ–ß–ê–ï–¢ –ø—Ä–æ—Å—Ä–æ—á–∫—É, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
- "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" - –ï–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–π, –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ!
- –ò–õ–ò —Å–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- –ù–ï —Å—É–º–º–∏—Ä—É–π "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü–µ –î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´!
- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∫–∞–∫ –µ—Å—Ç—å.
- –ö–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –ø—Ä–µ–∫—Ä–∞—â–∞–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö.
- –í –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ "–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞" –Ω–µ –¥–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –ù–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–°–£–î–ï–ë–ù–´–ï –ê–ö–¢–´ (–¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏—Å—Ç–∞–≤–æ–≤):
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–µ–±–Ω–æ–º —Å–ø–æ—Ä–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É"
- –ï—Å–ª–∏ –µ—Å—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª, –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É "–ù–æ–º–µ—Ä —Å—É–¥–µ–±–Ω–æ–≥–æ –∞–∫—Ç–∞ –∏ –¥–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è" (–ø—Ä–∏–º–µ—Ä: "2-528/2025 / 16 –∞–ø—Ä–µ–ª—è 2025")
- –ò–∑–≤–ª–µ–∫–∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞ –∏ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–Ω–æ–º–µ—Ä –¥–∞—Ç–∞" (–ø—Ä–∏–º–µ—Ä: "2-528/2025 16.04.2025")
- –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∞–∫—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –∏–∑–≤–ª–µ–∫–∏ –í–°–ï
- –ï—Å–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ - –º–∞—Å—Å–∏–≤ "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã" –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON:
{{
  "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": "12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "—á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ '–ò–ù–ù¬≥' –≤ —Ä–∞–∑–¥–µ–ª–µ '–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ' (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: 7744000912)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì ('–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞'. –ù–ï '–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞')",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ '–Ω–∞—á–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å'"
    }}
  ],
  "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã": [
    {{
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-528/2025",
      "–î–∞—Ç–∞_–∞–∫—Ç–∞": "16.04.2025"
    }}
  ]
}}""",
        },
        "–æ—Ç—á–µ—Ç_–±–∫–∏": {
            "keywords": ["—Å–∫–æ—Ä–∏–Ω–≥", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥", "–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è", "–±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π", "–∫—Ä–µ–¥–∏—Ç–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥", "–æ—Ç—á–µ—Ç –±–∫–∏", "—Å–∫–æ—Ä–∏–Ω–≥–æ–≤—ã–π –±–∞–ª–ª"],
            "prompt": """
            
–í –æ—Ç—á–µ—Ç–µ —Ç–∞–±–ª–∏—Ü–∞ "–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã, –∑–∞–π–º—ã, –∫–∞—Ä—Ç—ã".

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏–∑–≤–ª–µ–∫–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏)
- "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –∏ –≤–∏–¥ –∫—Ä–µ–¥–∏—Ç–∞.
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞")
- –°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
- –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–°—Ä–æ—á–Ω—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥", —Ç–æ –µ—Å—Ç—å —É–∂–µ –≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ –≤ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞ (–æ—Å–Ω.–¥–æ–ª–≥, %, –ø–µ–Ω–∏...)".

–í–ê–ñ–ù–û: 
- "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - —ç—Ç–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, –ù–ï —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥!
- –ü–æ–ª–µ –≤ JSON –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–ö—Ä–µ–¥–∏—Ç—ã", –ù–ï "–î–æ–≥–æ–≤–æ—Ä—ã"!
- –í –ë–ö–ò –æ—Ç—á—ë—Ç–µ –ù–ï–¢ –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!
- –ò–∑–≤–ª–µ–∫–∞–π —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", –ø—Ä–∏–º–µ—Ä:
–°—Ç–æ–ª–±–µ—Ü "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞":
"–ë–∞–Ω–∫: –ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫
–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ª–∏–Ω–∏—è/–∫–∞—Ä—Ç–∞" - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞: –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ª–∏–Ω–∏—è/–∫–∞—Ä—Ç–∞

–°–£–î–ï–ë–ù–´–ï –ê–ö–¢–´ (–¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏—Å—Ç–∞–≤–æ–≤):
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–µ–±–Ω–æ–º —Å–ø–æ—Ä–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É"
- –ï—Å–ª–∏ –µ—Å—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª, –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É "–î–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∞–∫—Ç–∞ –∏ –Ω–æ–º–µ—Ä –∞–∫—Ç–∞" (–ø—Ä–∏–º–µ—Ä: "08.11.2023 2-5856/2023")
- –ò–∑–≤–ª–µ–∫–∏ –¥–∞—Ç—É –∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –î–∞—Ç–∞_–∞–∫—Ç–∞ = "08.11.2023", –ù–æ–º–µ—Ä_–¥–µ–ª–∞ = "2-5856/2023"
- –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∞–∫—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –∏–∑–≤–ª–µ–∫–∏ –í–°–ï
- –ï—Å–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ - –º–∞—Å—Å–∏–≤ "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã" –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–¥–∞—Ç–∞",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏",
      "–°—É–º–º–∞": "—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ø—Ä–æ—Å—Ä–æ—á–∫–∞"
    }}
  ],
  "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã": [
    {{
      "–î–∞—Ç–∞_–∞–∫—Ç–∞": "08.11.2023",
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-5856/2023"
    }}
  ]
}}""",
        },
        "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏": {
            "keywords": ["–Ω–±–∫–∏ –æ—Ç—á–µ—Ç", "–æ—Ç—á–µ—Ç –Ω–±–∫–∏", "–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π", "–∫—Ä–µ–¥–∏—Ç–Ω—ã–π –æ—Ç—á–µ—Ç –¥–ª—è —Å—É–±—ä–µ–∫—Ç–∞", "–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –Ω–±–∫–∏", "nbch", "nbki"],
            "prompt": """

–°–ù–ê–ß–ê–õ–ê –Ω–∞–π–¥–∏ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç—á–µ—Ç–∞ (—ç—Ç–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞). –£–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—É–±—ä–µ–∫—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏", –∏–Ω–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–µ "–ò–ù–ù (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä.)", –±—ã–≤–∞–µ—Ç —Ç–∞–∫ —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "450164262865 (–ø—Ä–æ–≤–µ—Ä–µ–Ω –≤ –§–ù–°)", —Ç–æ —á—Ç–æ –≤ —Å–∫–æ–±–∫–∞—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É–π, –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ.

–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ" - —Ç–∞–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞".

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–í–ê–ñ–ù–û - –ò–ì–ù–û–†–ò–†–£–ô –ü–û–ì–ê–®–ï–ù–ù–´–ï –ö–†–ï–î–ò–¢–´:
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –Ω–∞–ø–∏—Å–∞–Ω–æ "–ù–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Äî –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫! –ê –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç "–ù/–î" ‚Äî –∫—Ä–µ–¥–∏—Ç –î–ï–ô–°–¢–í–£–Æ–©–ò–ô, –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ!
- –ï—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç!
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" —Å—Ç–æ–∏—Ç "–°—Ç–∞—Ç—É—Å: –°—á–µ—Ç –∑–∞–∫—Ä—ã—Ç" - –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫!
- –í–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ–∫—É—â–∏–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∫—Ä–µ–¥–∏—Ç—ã —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –≥–¥–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Å—Ç–æ–∏—Ç "–ù/–î"!

–î–ª—è –ö–ê–ñ–î–û–ì–û –î–ï–ô–°–¢–í–£–Æ–©–ï–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
2. –í —Ç–∞–±–ª–∏—Ü–µ "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ":
   - –°—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–π–º–∞ (–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –°—Ç–æ–ª–±–µ—Ü "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –¥–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏)
   - –°—Ç–æ–ª–±–µ—Ü "–û–ì–†–ù/–ò–ù–ù" - —Ç–∞–º –¥–≤–∞ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ü–ï–†–í–û–ï (13 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –û–ì–†–ù, –ù–ï –ù–£–ñ–ù–û. –í–¢–û–†–û–ï (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏!
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
3. –í —Ç–∞–±–ª–∏—Ü–µ "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
   - –ù–∞–π–¥–∏ –°–ê–ú–£–Æ –ü–û–°–õ–ï–î–ù–Æ–Æ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–°—É–º–º–∞" (—ç—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥)
   - –ò–ì–ù–û–†–ò–†–£–ô –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª–±—Ü—ã ("–°—É–º–º–∞ –ø–æ –æ—Å–Ω.–¥–æ–ª–≥—É", "–°—É–º–º–∞ –ø–æ %%", –∏ —Ç.–¥.)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—é—é(–Ω–∏–∂–Ω—é—é) —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û —Å—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞" –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
- –ù–ï —Å—É–º–º–∏—Ä—É–µ–º –Ω–∏—á–µ–≥–æ, –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
- –í —Å—Ç–æ–ª–±—Ü–µ "–û–ì–†–ù/–ò–ù–ù" –±–µ—Ä–µ–º –í–¢–û–†–û–ï —á–∏—Å–ª–æ (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù!
- –ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –ø—Ä–µ–∫—Ä–∞—â–∞–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö!

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": "12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "–í–¢–û–†–û–ï —á–∏—Å–ª–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ –û–ì–†–ù/–ò–ù–ù (10 —Ü–∏—Ñ—Ä)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–æ–ª–±–µ—Ü –°—É–º–º–∞"
    }}
  ]
}}""",
        },
        "–≥–∏–±–¥–¥": {
            "keywords": ["–≥–∏–±–¥–¥", "–≥–∞–∏", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ø—Ç—Å", "—Å—Ç—Å", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç—Å", "–ø–∞—Å–ø–æ—Ä—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞", "–∞–≤—Ç–æ–º–æ–±–∏–ª", "–º—Ä—ç–æ", "–≥–æ—Å–∞–≤—Ç–æ–∏–Ω—Å–ø–µ–∫—Ü–∏—è", "–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ", "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç—Å", "–º–≤–¥", "—Ä–µ–µ—Å—Ç—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö", "–∫–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ—Ç–∞", "vin"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –ì–ò–ë–î–î –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–º —Å—Ä–µ–¥—Å—Ç–≤–µ (–ü–¢–°, –°–¢–°, –≤—ã–ø–∏—Å–∫–∞ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞, —Å–ø—Ä–∞–≤–∫–∞, —Å–≤–µ–¥–µ–Ω–∏—è –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞).

–ú–ï–°–¢–û–ü–û–õ–û–ñ–ï–ù–ò–ï –î–ê–ù–ù–´–• –í –í–´–ü–ò–°–ö–ï (–°–≤–µ–¥–µ–Ω–∏—è –∏–∑ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞):
- –¢–∞–±–ª–∏—Ü–∞ "–°–≤–µ–¥–µ–Ω–∏—è –∏–∑ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤"
1. –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ (–º–∞—Ä–∫–∞, –º–æ–¥–µ–ª—å) -> –ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å
2. –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ -> –ì–æ–¥_–≤—ã–ø—É—Å–∫–∞
3. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä (VIN) -> VIN (–ë–ï–†–ò –í–°–ï 17 –°–ò–ú–í–û–õ–û–í! –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞: –Ω–µ –±—Ä–∞—Ç—å –±—É–∫–≤—ã –≤ –Ω–∞—á–∞–ª–µ)
4. –ù–æ–º–µ—Ä –∫—É–∑–æ–≤–∞ -> –ù–æ–º–µ—Ä_–∫—É–∑–æ–≤–∞
5. –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä (–≤ —Ç–∞–±–ª–∏—Ü–µ –≤–Ω–∏–∑—É, —Å—Ç–æ–ª–±–µ—Ü "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä") -> –ì–æ—Å_–Ω–æ–º–µ—Ä

‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –¢–†–ê–ù–°–ü–û–†–¢–ù–´–ï –°–†–ï–î–°–¢–í–ê:
- –í –û–î–ù–û–ú –¥–æ–∫—É–º–µ–Ω—Ç–µ (–≤—ã–ø–∏—Å–∫–∞ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞) –º–æ–∂–µ—Ç –±—ã—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω–∞–π–¥–∏ –í–°–ï —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
- –ï—Å–ª–∏ –¢–° –µ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞—Ç: {"–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç": true, "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞": [–∞–≤—Ç–æ1, –∞–≤—Ç–æ2, ...]}
- –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¢–° - –ö–ê–ñ–î–û–ï –∏–∑–≤–ª–µ–∫–∞–π –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –°–ü–†–ê–í–ö–ê –û–ë –û–¢–°–£–¢–°–¢–í–ò–ò:
- –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–≤ —Ä–µ–µ—Å—Ç—Ä–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ" ‚Äî —ç—Ç–æ –°–ü–†–ê–í–ö–ê –û–ë –û–¢–°–£–¢–°–¢–í–ò–ò —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–µ—Ä–Ω–∏: {"–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç": false, "–†–µ–∑—É–ª—å—Ç–∞—Ç": "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç", "–Ø–≤–ª—è–µ—Ç—Å—è_—Å–ø—Ä–∞–≤–∫–æ–π_–ì–ò–ë–î–î": true}
- –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞—Ç—É —Å–ø—Ä–∞–≤–∫–∏, –ø–µ—Ä–∏–æ–¥, –§–ò–û ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–∏ —á—Ç–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–µ—Ç
- –ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞: "–í –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º —Ä–µ–µ—Å—Ç—Ä–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –≤ –ø–µ—Ä–∏–æ–¥ —Å 25.11.2022 –ø–æ 25.11.2025, —Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"

–í–ù–ò–ú–ê–ù–ò–ï - –ï–°–õ–ò –¢–†–ê–ù–°–ü–û–†–¢ –ï–°–¢–¨:
- –ï—Å–ª–∏ —ç—Ç–æ –î–û–ì–û–í–û–† –ö–£–ü–õ–ò-–ü–†–û–î–ê–ñ–ò ‚Äî –º–∞—à–∏–Ω–∞ –£–ñ–ï –ü–†–û–î–ê–ù–ê! –í "–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏" –Ω–∞–ø–∏—à–∏ "–ü—Ä–æ–¥–∞–Ω–æ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É –æ—Ç [–¥–∞—Ç–∞]"
- –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–Ω—è—Ç–æ —Å —É—á–µ—Ç–∞", "–ø—Ä–æ–¥–∞–∂–∞", "–ø–µ—Ä–µ–¥–∞—á–∞" ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∂–∏ –≤ "–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏"
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–¥–µ–ª–∫–µ, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ!

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ò–ó–í–õ–ï–ß–ï–ù–ò–Æ –î–ê–ù–ù–´–• –ò–ó –ü–¢–°/–°–¢–°/–í—ã–ø–∏—Å–∫–∞ —Å –≥–æ—Å—É—Å–ª—É–≥:

1. –ú–ê–†–ö–ê –ò –ú–û–î–ï–õ–¨:
   - –í –ü–¢–°: "–ú–∞—Ä–∫–∞, –º–æ–¥–µ–ª—å –¢–°"
   - –ü—Ä–∏–º–µ—Ä—ã: "–í–ê–ó 11183", "LADA KALINA", "Toyota Camry"
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–í–õ–ï–ö–ò! –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–∑–º—ã—Ç - –ø–æ–ø—Ä–æ–±—É–π –ø—Ä–æ—á–∏—Ç–∞—Ç—å

2. VIN (–ò–î–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–û–ù–ù–´–ô –ù–û–ú–ï–†):
   - –í –ü–¢–°: "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä (VIN)" –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ "VIN"
   - 17 —Å–∏–º–≤–æ–ª–æ–≤: –±—É–∫–≤—ã –ª–∞—Ç–∏–Ω—Å–∫–∏–µ + —Ü–∏—Ñ—Ä—ã
   - –ü—Ä–∏–º–µ—Ä—ã: "XTA11183080124632", "JHMCM56557C404453"
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–í–õ–ï–ö–ò! –≠—Ç–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –ø–æ–ª–µ

3. –ì–û–°–£–î–ê–†–°–¢–í–ï–ù–ù–´–ô –ù–û–ú–ï–†:
   - –í –°–¢–°: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∑–Ω–∞–∫
   - –§–æ—Ä–º–∞—Ç: –±—É–∫–≤–∞ + 3 —Ü–∏—Ñ—Ä—ã + 2 –±—É–∫–≤—ã + —Ä–µ–≥–∏–æ–Ω
   - –ü—Ä–∏–º–µ—Ä—ã: "–ê123–ë–í777", "M946MO174"
   - –ò–∑–≤–ª–µ–∫–∞–π –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Ç–∞–µ—Ç—Å—è
   - –í —Ç–∞–±–ª–∏—Ü–∞—Ö –≤—ã–ø–∏—Å–∫–∏ —á–∞—Å—Ç–æ –≤ –∫–æ–ª–æ–Ω–∫–µ "–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä"

4. –ì–û–î –í–´–ü–£–°–ö–ê:
   - –í –ü–¢–°: "–ì–æ–¥ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –¢–°"
   - –§–æ—Ä–º–∞—Ç: 4 —Ü–∏—Ñ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä "2007", "2015")
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–í–õ–ï–ö–ò!

5. –¢–ò–ü –¢–°:
   - –í –ü–¢–°: "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (—Ç–∏–ø –¢–°)"
   - –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ —è–≤–Ω–æ - –æ–ø—Ä–µ–¥–µ–ª–∏ –ø–æ –º–∞—Ä–∫–µ

6. –í–ò–î –°–û–ë–°–¢–í–ï–ù–ù–û–°–¢–ò:
   - –í –ü–¢–°: "–î–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –ø—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏" (–Ω–∞–ø—Ä–∏–º–µ—Ä "—á–∞—Å—Ç–Ω–∞—è", "–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è"), –∏–∑–≤–ª–µ–∫–∏ —Ç–æ–ª—å–∫–æ —Ç–∏–ø, –Ω–æ –Ω–µ –Ω–æ–º–µ—Ä –¥–æ–∫—É–º–µ—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä "–î–æ–∫—É–º–µ–Ω—Ç –æ –ø—Ä–∞–≤–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–º—É—â–µ—Å—Ç–≤–∞"

7. –†–ï–ì–ò–°–¢–†–ê–¶–ò–û–ù–ù–û–ï –ü–û–î–†–ê–ó–î–ï–õ–ï–ù–ò–ï:
   - –í –≤—ã–ø–∏—Å–∫–µ –ì–ò–ë–î–î: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ"
   - –ü—Ä–∏–º–µ—Ä: "–†–û–û –ì–ò–ë–î–î –û–ú–í–î –†–æ—Å—Å–∏–∏ –ø–æ –ö–æ—Ä–∫–∏–Ω—Å–∫–æ–º—É —Ä–∞–π–æ–Ω—É"
   - –ò–∑–≤–ª–µ–∫–∞–π –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

8. –°–¢–û–ò–ú–û–°–¢–¨ –¢–†–ê–ù–°–ü–û–†–¢–ù–û–ì–û –°–†–ï–î–°–¢–í–ê:
   - –í –≤—ã–ø–∏—Å–∫–µ –ì–ò–ë–î–î: "–°—Ç–æ–∏–º–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞"
   - –§–æ—Ä–º–∞—Ç: —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä "88000", "250000")
   - –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ —Ä—É–±–ª—è—Ö - –∏–∑–≤–ª–µ–∫–∏ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ

9. –°–í–ï–î–ï–ù–ò–Ø –û –ó–ê–õ–û–ì–ï:
   - –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∑–∞–ª–æ–≥/–æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ - –∏–∑–≤–ª–µ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –£–∫–∞–∂–∏ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–±–∞–Ω–∫ –∏–ª–∏ —Ñ–∏–∑–ª–∏—Ü–æ)
   - –ï—Å–ª–∏ –∑–∞–ª–æ–≥–∞ –Ω–µ—Ç - –æ—Å—Ç–∞–≤—å null

–í–ê–ñ–ù–û:
- –î–∞–∂–µ –µ—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Ä–∞–∑–º—ã—Ç/–ø–æ–≤–µ—Ä–Ω—É—Ç - –°–¢–ê–†–ê–ô–°–Ø –∏–∑–≤–ª–µ—á—å —Ö–æ—Ç—è –±—ã —á—Ç–æ-—Ç–æ!
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö - –∏–∑–≤–ª–µ–∫–∞–π —á—Ç–æ –≤–∏–¥–∏—à—å, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç–∞–≤—å null
- –ù–ï –≤–æ–∑–≤—Ä–∞—â–∞–π –ø—É—Å—Ç–æ–π JSON –µ—Å–ª–∏ —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ —á–∏—Ç–∞–µ—Ç—Å—è!

JSON –§–û–†–ú–ê–¢:

–ï—Å–ª–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –ù–ï–¢ (—Å–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏):
{
    "–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç": false,
    "–†–µ–∑—É–ª—å—Ç–∞—Ç": "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
    "–Ø–≤–ª—è–µ—Ç—Å—è_—Å–ø—Ä–∞–≤–∫–æ–π_–ì–ò–ë–î–î": true
}

–ï—Å–ª–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ï–°–¢–¨ (–æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ):
{
    "–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç": true,
    "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞": [
        {
            "–Ø–≤–ª—è–µ—Ç—Å—è_—Å–ø—Ä–∞–≤–∫–æ–π_–ì–ò–ë–î–î": true/false,
            "–¢–∏–ø_–¢–°": "–ª–µ–≥–∫–æ–≤–æ–π/–≥—Ä—É–∑–æ–≤–æ–π/–º–æ—Ç–æ—Ü–∏–∫–ª/...",
            "–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å": "...",
            "VIN": "...",
            "–ì–æ—Å_–Ω–æ–º–µ—Ä": "...",
            "–ì–æ–¥_–≤—ã–ø—É—Å–∫–∞": "–ì–ì–ì–ì",
            "–¶–≤–µ—Ç": "...",
            "–ù–æ–º–µ—Ä_–∫—É–∑–æ–≤–∞": "...",
            "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "—á–∞—Å—Ç–Ω–∞—è/–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è/–∏–ª–∏ —Ç–µ–∫—Å—Ç –∏–∑ –ø—É–Ω–∫—Ç–∞ 6",
            "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ": "...",
            "–°—Ç–æ–∏–º–æ—Å—Ç—å": "...",
            "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ": "...",
            "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": {
                "–§–ò–û": "...",
                "–ê–¥—Ä–µ—Å": "..."
            },
            "–î–æ–∫—É–º–µ–Ω—Ç": {
                "–¢–∏–ø": "–ü–¢–°/–°–¢–°/–≤—ã–ø–∏—Å–∫–∞/–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏/—Å–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏",
                "–°–µ—Ä–∏—è_–Ω–æ–º–µ—Ä": "...",
                "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
            },
            "–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏": "...",
            "–°–¥–µ–ª–∫–∞": {
                "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true/false,
                "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–¥—Ä—É–≥–æ–µ",
                "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å_–§–ò–û": "...",
                "–ü—Ä–æ–¥–∞–≤–µ—Ü_–§–ò–û": "...",
                "–°—Ç–æ–∏–º–æ—Å—Ç—å": 0.00
            }
        }
        // ... –µ—â–µ –¢–° –µ—Å–ª–∏ –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
    ]
}
}

–í–ê–ñ–ù–û –û –ü–û–õ–ï "–Ø–≤–ª—è–µ—Ç—Å—è_—Å–ø—Ä–∞–≤–∫–æ–π_–ì–ò–ë–î–î":
- true = —ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ì–ò–ë–î–î –æ –Ω–∞–ª–∏—á–∏–∏/–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¢–° (–≤—ã–ø–∏—Å–∫–∞ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞)
- false = —ç—Ç–æ –ü–¢–°, –°–¢–° –∏–ª–∏ –¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ (–ù–ï —Å–ø—Ä–∞–≤–∫–∞)

–í–ê–ñ–ù–û: –ï—Å–ª–∏ —ç—Ç–æ –¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –¢–° –∏–ª–∏ –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–µ–¥–∞—á–µ –ø—Ä–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true
- –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è "–°–¥–µ–ª–∫–∞"
–ï—Å–ª–∏ –æ–±—ã—á–Ω–æ–µ –°–¢–°/–ü–¢–° –±–µ–∑ —Å–¥–µ–ª–∫–∏:
- "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": false
- "–°–¥–µ–ª–∫–∞" –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å null

–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—É—á—Ä–µ–¥–∏—Ç–µ–ª—å": {
            "keywords": ["–µ–≥—Ä—é–ª", "—É—á—Ä–µ–¥–∏—Ç–µ–ª—å", "—É—Å—Ç–∞–≤", "—É—á–∞—Å—Ç–Ω–∏–∫", "–¥–æ–ª—è", "–∞–∫—Ü–∏–æ–Ω–µ—Ä", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –µ–≥—Ä—é–ª"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –æ–± —É—á—Ä–µ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–µ –∏–ª–∏ —É—á–∞—Å—Ç–∏–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–≤—ã–ø–∏—Å–∫–∞ –ï–ì–†–Æ–õ, —É—Å—Ç–∞–≤, —Å–ø–∏—Å–æ–∫ –∞–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤, –¥–æ–≥–æ–≤–æ—Ä –æ–± —É—á—Ä–µ–∂–¥–µ–Ω–∏–∏).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –ò–ù–ù, –û–ì–†–ù.
- –§–æ—Ä–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–û–û–û, –û–ê–û, –ó–ê–û –∏ —Ç.–¥.).
- –§–ò–û —É—á–∞—Å—Ç–Ω–∏–∫–∞/—É—á—Ä–µ–¥–∏—Ç–µ–ª—è.
- –†–∞–∑–º–µ—Ä –¥–æ–ª–∏/–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ü–∏–π (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –∏–ª–∏ –Ω–æ–º–∏–Ω–∞–ª–µ).
- –ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–ª–∏/–∞–∫—Ü–∏–π.
- –î–∞—Ç–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

JSON:
{
        "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è": {
                "–ù–∞–∑–≤–∞–Ω–∏–µ": "...",
                "–ò–ù–ù": "...",
                "–û–ì–†–ù": "...",
                "–§–æ—Ä–º–∞": "–û–û–û/–û–ê–û/–ó–ê–û/...",
                "–ê–¥—Ä–µ—Å": "..."
        },
        "–£—á–∞—Å—Ç–Ω–∏–∫": {
                "–§–ò–û": "...",
                "–î–æ–ª—è": "...%/... –∞–∫—Ü–∏–π",
                "–ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "... —Ä—É–±.",
                "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
        }
}
–ï—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –≤–µ—Ä–Ω–∏ –º–∞—Å—Å–∏–≤ –≤ –ø–æ–ª–µ "–£—á–∞—Å—Ç–Ω–∏–∫–∏". –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Ü–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏": {
            "keywords": ["–¥–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π", "–±—Ä–æ–∫–µ—Ä", "—Å—á–µ—Ç –¥–µ–ø–æ", "—Ü–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏", "–∞–∫—Ü–∏–∏", "–æ–±–ª–∏–≥–∞—Ü–∏–∏", "–ø–∞–∏", "–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π —Å—á–µ—Ç"],
            "prompt": """–í—ã–ø–∏—Å–∫–∞ –∏–∑ –¥–µ–ø–æ–∑–∏—Ç–∞—Ä–∏—è –∏–ª–∏ –±—Ä–æ–∫–µ—Ä—Å–∫–∏–π –æ—Ç—á–µ—Ç –æ —Ü–µ–Ω–Ω—ã—Ö –±—É–º–∞–≥–∞—Ö.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –í–ª–∞–¥–µ–ª–µ—Ü (–§–ò–û, –ø–∞—Å–ø–æ—Ä—Ç –∏–ª–∏ –ò–ù–ù).
- –î–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π/–±—Ä–æ–∫–µ—Ä, –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞ –¥–µ–ø–æ/–±—Ä–æ–∫–µ—Ä—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞.
- –î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞/–≤—ã–ø–∏—Å–∫–∏, –ø–µ—Ä–∏–æ–¥.
- –ü–µ—Ä–µ—á–µ–Ω—å —Ü–µ–Ω–Ω—ã—Ö –±—É–º–∞–≥: –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —ç–º–∏—Ç–µ–Ω—Ç–∞, —Ç–∏–ø (–∞–∫—Ü–∏—è/–æ–±–ª–∏–≥–∞—Ü–∏—è/–ø–∞–π/...), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –Ω–æ–º–∏–Ω–∞–ª, —Ç–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å, ISIN.
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è.

JSON:
{
        "–í–ª–∞–¥–µ–ª–µ—Ü": {
                "–§–ò–û": "...",
                "–ü–∞—Å–ø–æ—Ä—Ç": "...",
                "–ò–ù–ù": "..."
        },
        "–î–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π": "...",
        "–ù–æ–º–µ—Ä_—Å—á–µ—Ç–∞": "...",
        "–î–∞—Ç–∞_–≤—ã–ø–∏—Å–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ü–µ—Ä–∏–æ–¥": "—Å ... –ø–æ ...",
        "–¶–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏": [
                {
                        "–≠–º–∏—Ç–µ–Ω—Ç": "...",
                        "–¢–∏–ø": "–∞–∫—Ü–∏—è/–æ–±–ª–∏–≥–∞—Ü–∏—è/–ø–∞–π/...",
                        "ISIN": "...",
                        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ": ...,
                        "–ù–æ–º–∏–Ω–∞–ª": "...",
                        "–¢–µ–∫—É—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
                }
        ],
        "–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ_–ø—Ä–∞–≤–∞": {
            "keywords": ["–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞", "–¥–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è", "–∞–∫—Ç —Å–≤–µ—Ä–∫–∏", "–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å", "–ø—Ä–∞–≤–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è", "–¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –æ–± –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö (–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞, –∞–∫—Ç —Å–≤–µ—Ä–∫–∏, —Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞ –æ –≤–∑—ã—Å–∫–∞–Ω–∏–∏, –¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã —Å –ø—Ä–∞–≤–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–∞—Ç—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –†–û–õ–ò:
–≠—Ç–æ –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ = –ö–†–ï–î–ò–¢–û–† (–∑–∞–π–º–æ–¥–∞–≤–µ—Ü, –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å).
–ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ = –î–û–õ–ñ–ù–ò–ö (–∑–∞—ë–º—â–∏–∫, –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä) - —ç—Ç–æ –ù–ï –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ, –∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–°–¢–í–û!

–ü—Ä–æ–≤–µ—Ä—å:
1. –ö—Ç–æ –¥–∞—ë—Ç –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ? ‚Üí –ö–†–ï–î–ò–¢–û–† (–∑–∞–π–º–æ–¥–∞–≤–µ—Ü, –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å)
2. –ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ? ‚Üí –î–û–õ–ñ–ù–ò–ö (–∑–∞—ë–º—â–∏–∫, –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä)

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞/–∞–∫—Ç —Å–≤–µ—Ä–∫–∏/—Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞/–¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã).
- –°—Ç–æ—Ä–æ–Ω—ã: 
  * –ö—Ä–µ–¥–∏—Ç–æ—Ä (–∑–∞–π–º–æ–¥–∞–≤–µ—Ü, –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å) - –∫—Ç–æ –î–ê–Å–¢ –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ
  * –î–æ–ª–∂–Ω–∏–∫ (–∑–∞—ë–º—â–∏–∫, –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä) - –∫—Ç–æ –ü–û–õ–£–ß–ê–ï–¢ –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ
- –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞/–¥–µ–ª–∞, –¥–∞—Ç–∞.
- –°—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏/–µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –ø–ª–∞—Ç—ã.
- –°—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–∞/–ø–µ—Ä–∏–æ–¥ –∞—Ä–µ–Ω–¥—ã.
- –û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è (–ø—Ä–æ—Ü–µ–Ω—Ç—ã, –Ω–µ—É—Å—Ç–æ–π–∫–∞, –≥—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π).

JSON:
{
        "–¢–∏–ø": "–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞/–∞–∫—Ç —Å–≤–µ—Ä–∫–∏/—Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞/–¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã",
        "–ù–æ–º–µ—Ä": "...",
        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–§–ò–û –∑–∞–π–º–æ–¥–∞–≤—Ü–∞/–∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è (–∫—Ç–æ –î–ê–Å–¢ –¥–µ–Ω—å–≥–∏)",
        "–î–æ–ª–∂–Ω–∏–∫": "–§–ò–û –∑–∞—ë–º—â–∏–∫–∞/–∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞ (–∫—Ç–æ –ü–û–õ–£–ß–ê–ï–¢ –¥–µ–Ω—å–≥–∏)",
        "–†–æ–ª—å_–≤–ª–∞–¥–µ–ª—å—Ü–∞_–¥–æ–∫—É–º–µ–Ω—Ç–∞": "–∫—Ä–µ–¥–∏—Ç–æ—Ä/–¥–æ–ª–∂–Ω–∏–∫",
        "–°—É–º–º–∞": "...",
        "–°—Ä–æ–∫": "...",
        "–£—Å–ª–æ–≤–∏—è": "..."
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", "–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥", "—Å—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", "—Ä–∞–∑–º–µ—Ä –¥–æ–ª–≥–∞", "—Å–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–º (–±–∞–Ω–∫, –ú–§–û, –ú–ö–ö).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä: –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–û–û–û –ú–ö–ö "...", –ü–ê–û "...", –ê–û "...").
- –î–æ–ª–∂–Ω–∏–∫: –§–ò–û.
- –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞/—Å—á–µ—Ç–∞.
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–ø—Ä–∞–≤–∫–∏.
- –°—É–º–º–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–ª–≥–∞ (—Ç–µ–ª–æ –∫—Ä–µ–¥–∏—Ç–∞).
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã/–ø–µ–Ω–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ).
- –ò–¢–û–ì–û–í–ê–Ø –°–£–ú–ú–ê –ó–ê–î–û–õ–ñ–ï–ù–ù–û–°–¢–ò (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥ + –ø—Ä–æ—Ü–µ–Ω—Ç—ã + –ø–µ–Ω–∏).
- –î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –Ω–∞–ø–∏—Å–∞–Ω–æ —Ç–∞–∫: "...–±—ã–ª –∑–∞–∫–ª—é—á–µ–Ω –¥–æ–≥–æ–≤–æ—Ä –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞ –æ—Ç 17.09.2024..."

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò—â–∏ –ò–¢–û–ì–û–í–£–Æ —Å—É–º–º—É! –û–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–æ–∑–Ω–∞—á–µ–Ω–∞ –∫–∞–∫:
- "–û–±—â–∞—è —Å—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- "–ò—Ç–æ–≥–æ –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é"
- "–†–∞–∑–º–µ—Ä –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- "–°—É–º–º–∞ –¥–æ–ª–≥–∞ –Ω–∞ –¥–∞—Ç—É"

JSON:
{
        "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "...",
        "–î–æ–ª–∂–Ω–∏–∫": "...",
        "–ù–æ–º–µ—Ä_–¥–æ–≥–æ–≤–æ—Ä–∞": "...",
        "–î–∞—Ç–∞_—Å–ø—Ä–∞–≤–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": 12345.67,
        "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": 1234.56,
        "–ü–µ–Ω–∏": 123.45,
        "–ò—Ç–æ–≥–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": 13703.68,
        "–î–∞—Ç–∞_–≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì"
}

–í–ê–ñ–ù–û: –°—É–º–º—ã —É–∫–∞–∑—ã–≤–∞–π –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏ (–±–µ–∑ "—Ä—É–±.", –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤). –ï—Å–ª–∏ —Å—É–º–º–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ - —Å—Ç–∞–≤—å null.
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞": {
            "keywords": ["–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", "—Ñ—Å—Å–ø", "—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤", "—Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ", "–≤–∑—ã—Å–∫–∞–Ω–∏–µ", "–ø—Ä–∏—Å—Ç–∞–≤", "—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–∞—è —Å–ª—É–∂–±–∞ —Å—É–¥–µ–±–Ω—ã—Ö –ø—Ä–∏—Å—Ç–∞–≤–æ–≤", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–ø—Ä–∏—Å—Ç–∞–≤-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞—Ö", "—Å–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞—Ö"],
            "prompt": """–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, —Ä–∞—Å—á—ë—Ç–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏, –∏–ª–∏ –¢–ê–ë–õ–ò–¶–ê —Å–æ —Å–≤–µ–¥–µ–Ω–∏—è–º–∏ –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞—Ö –∏–∑ –§–°–°–ü.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.
–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

üî¥ –î–í–ê –¢–ò–ü–ê –î–û–ö–£–ú–ï–ù–¢–û–í:

1Ô∏è‚É£ –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏):
   - –ö–∞–∂–¥–æ–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞" + –¥–∞—Ç–∞
   - –ò–∑–≤–ª–µ–∫–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ö–ê–ñ–î–û–ì–û –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ

2Ô∏è‚É£ –¢–ê–ë–õ–ò–¶–ê –§–°–°–ü "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞—Ö":
   - –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: –î–æ–ª–∂–Ω–∏–∫, –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ, –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞, –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è/–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è, –°–µ—Ä–≤–∏—Å, –ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, –û—Ç–¥–µ–ª —Å—É–¥–µ–±–Ω—ã—Ö –ø—Ä–∏—Å—Ç–∞–≤–æ–≤, –°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
   - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã = –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ò–ü
   - –í–ê–ñ–ù–û: –ï—Å–ª–∏ –≤ –∫–æ–ª–æ–Ω–∫–µ "–î–∞—Ç–∞, –ø—Ä–∏—á–∏–Ω–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ò–ü" —É–∫–∞–∑–∞–Ω–∞ –¥–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä "29.11.2024 —Å—Ç. 46 —á. 1 –ø. 4") ‚Äî —ç—Ç–æ –ò–ü –ó–ê–ö–†–´–¢–û, –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!
   - –í —Ç–∞–±–ª–∏—Ü–µ –§–°–°–ü —á–∞—Å—Ç–æ –ù–ï–¢ –Ω–∞–∑–≤–∞–Ω–∏—è –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è - —Ç–æ–ª—å–∫–æ "–ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è"
   - –ï–°–õ–ò –ù–ê–ó–í–ê–ù–ò–ï –í–ó–´–°–ö–ê–¢–ï–õ–Ø –ù–ï –£–ö–ê–ó–ê–ù–û –Ø–í–ù–û - —Å—Ç–∞–≤—å –í–∑—ã—Å–∫–∞—Ç–µ–ª—å = null, –Ω–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∑–∞–ø–æ–ª–Ω–∏ "–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è"

–ï—Å–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –Ω–µ—Ç –¥–æ–ª–≥–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä —ç—Ç–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–± —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–∏ —Ö–æ–¥–∞—Ç–∞–π—Å—Ç–≤–∞, —Ç–æ –Ω–µ –≤–∫–ª—é—á–∞–π —ç—Ç–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ  –≤ —Å–ø–∏—Å–æ–∫.

–î–õ–Ø –ö–ê–ñ–î–û–ì–û –ò–ü (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã) –Ω–∞–π–¥–∏:
- –ù–æ–º–µ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 66725/18/74064-–ò–ü).
- –î–∞—Ç–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è / –¥–∞—Ç–∞ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏—è –ò–ü.
- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ò–ü (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ –∫–æ–ª–æ–Ω–∫–µ "–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è/–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è" –∏–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ) - –ï–°–õ–ò –ï–°–¢–¨ –î–ê–¢–ê –ó–ê–ö–†–´–¢–ò–Ø, –ü–†–û–ü–£–°–¢–ò –≠–¢–û –ò–ü!
- –°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤: –§–ò–û.
- –û—Ç–¥–µ–ª –§–°–°–ü.
- –î–æ–ª–∂–Ω–∏–∫: –§–ò–û.
- –í–∑—ã—Å–∫–∞—Ç–µ–ª—å (–∫—Ä–µ–¥–∏—Ç–æ—Ä): –ù–ê–ó–í–ê–ù–ò–ï –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –§–ò–û. –ï–°–õ–ò –ù–ï –£–ö–ê–ó–ê–ù–û –Ø–í–ù–û –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ - —Å—Ç–∞–≤—å null! –ù–æ –æ–±—ã—á–Ω–æ –ø–∏—à–µ—Ç—Å—è –≤ —á—å—é –ø–æ–ª—å–∑—É, –ø—Ä–∏–º–µ—Ä: "–≤ –ø–æ–ª—å–∑—É –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è: –û–û–û –ü–ö–û "–ê–π–î–∏ –ö–æ–ª–ª–µ–∫—Ç"",  "–≤ –ø–æ–ª—å–∑—É –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è: –ö–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ –†–æ—Å—Å–∏–∏ "–§–ù–° –†–æ—Å—Å–∏–∏"" –∏ —Ç.–¥.
- –ò–ù–ù –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω, –æ–±—ã—á–Ω–æ 10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä).
- –ê–¥—Ä–µ—Å –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω).
- –ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: –¢–û–ß–ù–û–ï –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è" (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ò–Ω—ã–µ –≤–∑—ã—Å–∫–∞–Ω–∏—è –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –≤ –ø–æ–ª—å–∑—É —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü", "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã–º –ø–ª–∞—Ç–µ–∂–∞–º (–∫—Ä–æ–º–µ –∏–ø–æ—Ç–µ–∫–∏)").
- –û—Å–Ω–æ–≤–∞–Ω–∏–µ: –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç, —Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏–∫–∞–∑ (–Ω–æ–º–µ—Ä, –¥–∞—Ç–∞).
- –û—Ä–≥–∞–Ω, –≤—ã–¥–∞–≤—à–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.
- –ê–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∞.
- –ù–æ–º–µ—Ä –¥–µ–ª–∞.
- –°—É–º–º–∞ –¥–æ–ª–≥–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥).
- –û—Å—Ç–∞—Ç–æ–∫ –¥–æ–ª–≥–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ).
- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π —Å–±–æ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å).
- –†–∞—Å—Ö–æ–¥—ã –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É (–µ—Å–ª–∏ –µ—Å—Ç—å).
- –ò–¢–û–ì–û–í–ê–Ø –°–£–ú–ú–ê –í–ó–´–°–ö–ê–ù–ò–Ø (–æ—Å—Ç–∞—Ç–æ–∫ –¥–æ–ª–≥–∞ + –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π —Å–±–æ—Ä + —Ä–∞—Å—Ö–æ–¥—ã).

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ú–ê–°–°–ò–í:
{
  "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": [
    {
        "–ù–æ–º–µ—Ä_–ò–ü": "66725/18/74064-–ò–ü",
        "–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": "11.12.2018",
        "–î–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è": null,
        "–ü—Ä–∏—Å—Ç–∞–≤": "–Ø–∫—É–ø–æ–≤–∞ –§. –í.",
        "–û—Ç–¥–µ–ª_–§–°–°–ü": "–°–æ—Å–Ω–æ–≤—Å–∫–æ–µ –†–û–°–ü –ì–£–§–°–°–ü –†–æ—Å—Å–∏–∏ –ø–æ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏",
        "–î–æ–ª–∂–Ω–∏–∫": "–ú–∞–ª–∏–Ω–∞ –ï–ª–µ–Ω–∞ –ñ–∞–ª–µ–π–∫–∏–Ω–∞",
        "–í–∑—ã—Å–∫–∞—Ç–µ–ª—å": "–û–û–û –ü–ö–û ¬´–ê–π–î–∏ –ö–æ–ª–ª–µ–∫—Ç¬ª",
        "–ò–ù–ù_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è": null,
        "–ê–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è": null,
        "–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è": "–ò–Ω—ã–µ –≤–∑—ã—Å–∫–∞–Ω–∏—è –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –≤ –ø–æ–ª—å–∑—É —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü",
        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "–°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏–∫–∞–∑ –æ—Ç 13.11.2018 ‚Ññ 2-2379/2018",
        "–ù–æ–º–µ—Ä_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "2-2379/2018",
        "–î–∞—Ç–∞_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "13.11.2018",
        "–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π": "–°—É–¥–µ–±–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ ‚Ññ 1 –°–æ—Å–Ω–æ–≤—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏",
        "–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞": null,
        "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-2379/2018",
        "–°—É–º–º–∞_–¥–æ–ª–≥–∞": 75203.08,
        "–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞": 70151.53,
        "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π_—Å–±–æ—Ä": 5051.55,
        "–†–∞—Å—Ö–æ–¥—ã": 0,
        "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ": 75203.08
    },
    {
        "–ù–æ–º–µ—Ä_–ò–ü": "48929/19/74064-–ò–ü",
        "–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": "23.07.2019",
        "–î–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è": null,
        "–ü—Ä–∏—Å—Ç–∞–≤": "–Ø–∫—É–ø–æ–≤–∞ –§. –í.",
        "–û—Ç–¥–µ–ª_–§–°–°–ü": "–°–æ—Å–Ω–æ–≤—Å–∫–æ–µ –†–û–°–ü –ì–£–§–°–°–ü –†–æ—Å—Å–∏–∏ –ø–æ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏",
        "–î–æ–ª–∂–Ω–∏–∫": "–ú–∞–ª–∏–Ω–∞ –ï–ª–µ–Ω–∞ –ñ–∞–ª–µ–π–∫–∏–Ω–∞",
        "–í–∑—ã—Å–∫–∞—Ç–µ–ª—å": null,
        "–ò–ù–ù_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è": null,
        "–ê–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è": null,
        "–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è": "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –ø–ª–∞—Ç–µ–∂–∞–º –∑–∞ –∂–∏–ª—É—é –ø–ª–æ—â–∞–¥—å, –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏",
        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "–°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏–∫–∞–∑ –æ—Ç 29.06.2019 ‚Ññ 2-1226/2019",
        "–ù–æ–º–µ—Ä_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "2-1226/2019",
        "–î–∞—Ç–∞_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "29.06.2019",
        "–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π": "–°—É–¥–µ–±–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ ‚Ññ 1 –°–æ—Å–Ω–æ–≤—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏",
        "–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞": null,
        "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-1226/2019",
        "–°—É–º–º–∞_–¥–æ–ª–≥–∞": 41152.41,
        "–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞": 41152.41,
        "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π_—Å–±–æ—Ä": 2798.25,
        "–†–∞—Å—Ö–æ–¥—ã": 0,
        "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ": 43950.66
    }
  ]
}
        "–î–∞—Ç–∞_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "13.11.2018",
        "–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π": "–°—É–¥–µ–±–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ ‚Ññ 1 –°–æ—Å–Ω–æ–≤—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏",
        "–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞": null,
        "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-2379/2018",
        "–°—É–º–º–∞_–¥–æ–ª–≥–∞": 75203.08,
        "–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞": 70151.53,
        "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π_—Å–±–æ—Ä": 5051.55,
        "–†–∞—Å—Ö–æ–¥—ã": 0,
        "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ": 75203.08
    }
  ]
}

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ù–ï –≤–∫–ª—é—á–∞–π –ò–ü —Å –¥–∞—Ç–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è/–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è!
- –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–π –º–∞—Å—Å–∏–≤ "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", –¥–∞–∂–µ –µ—Å–ª–∏ –æ–¥–Ω–æ –ò–ü!
- –î–ª—è —Ç–∞–±–ª–∏—Ü—ã –§–°–°–ü: –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ = –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
- –°—É–º–º—ã –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏, –±–µ–∑ —Ç–µ–∫—Å—Ç–∞
- –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null
- –ï—Å–ª–∏ "–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞" –Ω–µ —É–∫–∞–∑–∞–Ω –æ—Ç–¥–µ–ª—å–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π "–°—É–º–º–∞_–¥–æ–ª–≥–∞"
- "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ" = –û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞ (–∏–ª–∏ –°—É–º–º–∞_–¥–æ–ª–≥–∞) + –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π_—Å–±–æ—Ä + –†–∞—Å—Ö–æ–¥—ã

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!""",
        },

        "—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": {
            "keywords": ["–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏", "—é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è", "–∑–æ–ª–æ—Ç–æ", "—Å–µ—Ä–µ–±—Ä–æ", "—É–∫—Ä–∞—à–µ–Ω–∏—è", "–∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç", "–∫–∞—Ä—Ç–∏–Ω—ã", "–∫–æ–ª–ª–µ–∫—Ü–∏—è", "–ø—Ä–µ–¥–º–µ—Ç—ã –∏—Å–∫—É—Å—Å—Ç–≤–∞", "–æ–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞", "–æ—Ü–µ–Ω–∫–∞ –∏–º—É—â–µ—Å—Ç–≤–∞", "–∞–∫—Ç –æ—Ü–µ–Ω–∫–∏"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –æ –Ω–∞–ª–∏—á–Ω—ã—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö –∏ –∏–Ω–æ–º —Ü–µ–Ω–Ω–æ–º –∏–º—É—â–µ—Å—Ç–≤–µ (–æ–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞, –∞–∫—Ç –æ—Ü–µ–Ω–∫–∏, –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –æ –Ω–∞–ª–∏—á–∏–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –í–ª–∞–¥–µ–ª–µ—Ü (–§–ò–û).
- –ù–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã): —Å—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö –∏/–∏–ª–∏ –≤–∞–ª—é—Ç–µ.
- –î—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è: –æ–ø–∏—Å–∞–Ω–∏–µ (–∑–æ–ª–æ—Ç–æ–µ –∫–æ–ª—å—Ü–æ, —Å–µ—Ä—å–≥–∏ –∏ —Ç.–¥.), –≤–µ—Å/–ø—Ä–æ–±–∞, –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –ü—Ä–µ–¥–º–µ—Ç—ã –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏ –∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä, –≥–æ–¥, –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏: –æ–ø–∏—Å–∞–Ω–∏–µ (–º–æ–Ω–µ—Ç—ã, –º–∞—Ä–∫–∏, —á–∞—Å—ã), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –î–æ—Ä–æ–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞: –æ–ø–∏—Å–∞–Ω–∏–µ, –º–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å, –≥–æ–¥, —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –î—Ä—É–≥–æ–µ —Ü–µ–Ω–Ω–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ: –æ–ø–∏—Å–∞–Ω–∏–µ, —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –ù–ï–î–í–ò–ñ–ò–ú–û–ï –ò–ú–£–©–ï–°–¢–í–û: –µ—Å–ª–∏ –≤ –æ–ø–∏—Å–∏ —É–∫–∞–∑–∞–Ω—ã –∫–≤–∞—Ä—Ç–∏—Ä—ã, –∑–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏, –≥–∞—Ä–∞–∂–∏ –∏–ª–∏ –∏–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å - –∏–∑–≤–ª–µ–∫–∏ –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫! –ù–∞–π–¥–∏ –∞–¥—Ä–µ—Å, –ø–ª–æ—â–∞–¥—å, –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å), –≤–∏–¥ –ø—Ä–∞–≤–∞ (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–¥–æ–ª—è).
- –î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏/—Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–ø–∏—Å–∏.
- –û—Ü–µ–Ω—â–∏–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å): –§–ò–û, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è.

JSON:
{
        "–í–ª–∞–¥–µ–ª–µ—Ü": "...",
        "–î–∞—Ç–∞_—Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Ü–µ–Ω—â–∏–∫": "...",
        "–ù–∞–ª–∏—á–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞": {
                "RUB": "...",
                "USD": "...",
                "EUR": "...",
                "–î—Ä—É–≥–∞—è_–≤–∞–ª—é—Ç–∞": "..."
        },
        "–ò–º—É—â–µ—Å—Ç–≤–æ": [
                {
                        "–ö–∞—Ç–µ–≥–æ—Ä–∏—è": "–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏/–∏—Å–∫—É—Å—Å—Ç–≤–æ/–∫–æ–ª–ª–µ–∫—Ü–∏—è/—Ç–µ—Ö–Ω–∏–∫–∞/–¥—Ä—É–≥–æ–µ",
                        "–û–ø–∏—Å–∞–Ω–∏–µ": "...",
                        "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": "...",
                        "–û—Ü–µ–Ω–æ—á–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
                }
        ],
        "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": [
            {
                "–í–∏–¥": "–∫–≤–∞—Ä—Ç–∏—Ä–∞/–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫/–∂–∏–ª–æ–π –¥–æ–º/–≥–∞—Ä–∞–∂/...",
                "–ê–¥—Ä–µ—Å": "...",
                "–ü–ª–æ—â–∞–¥—å": "...",
                "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "...",
                "–í–∏–¥_–ø—Ä–∞–≤–∞": "—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–¥–æ–ª–µ–≤–∞—è (1/2)/...",
                "–û–ø–∏—Å–∞–Ω–∏–µ": "...",
                "–°—Ç–æ–∏–º–æ—Å—Ç—å": "..."
            }
        ],
        "–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–¥–µ–ª–∫–∏": {
            "keywords": ["–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏", "–¥–∫–ø", "–î–ö–ü", "–¥–æ–≥–æ–≤–æ—Ä –¥–∞—Ä–µ–Ω–∏—è", "–¥–æ–≥–æ–≤–æ—Ä –º–µ–Ω—ã", "–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏ –ø—Ä–æ–¥–∞–∂–∏", "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å", "–ø—Ä–æ–¥–∞–≤–µ—Ü", "–¥–∞—Ä–∏—Ç–µ–ª—å", "–æ–¥–∞—Ä—è–µ–º—ã–π", "–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ", "–∞–≤—Ç–æ–º–æ–±–∏–ª—å", "–∫–≤–∞—Ä—Ç–∏—Ä–∞", "–¥–æ–º", "–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫", "–∞–∫—Ç –ø—Ä–∏–µ–º–∞-–ø–µ—Ä–µ–¥–∞—á–∏"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Å–¥–µ–ª–∫–∞—Ö –¥–æ–ª–∂–Ω–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞: –¥–æ–≥–æ–≤–æ—Ä—ã –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, –¥–∞—Ä–µ–Ω–∏—è, –º–µ–Ω—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∏ –∏–Ω–æ–≥–æ —Ü–µ–Ω–Ω–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –¢–∏–ø —Å–¥–µ–ª–∫–∏: –∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ, –º–µ–Ω–∞, –¥—Ä—É–≥–æ–µ.
- –î–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–¥–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞).
- –†–æ–ª—å –¥–æ–ª–∂–Ω–∏–∫–∞: –ø–æ–∫—É–ø–∞—Ç–µ–ª—å, –ø—Ä–æ–¥–∞–≤–µ—Ü, –¥–∞—Ä–∏—Ç–µ–ª—å, –æ–¥–∞—Ä—è–µ–º—ã–π, –∏ —Ç.–¥.
- –ü—Ä–µ–¥–º–µ—Ç —Å–¥–µ–ª–∫–∏: —á—Ç–æ –ø—Ä–æ–¥–∞–Ω–æ/–∫—É–ø–ª–µ–Ω–æ/–ø–æ–¥–∞—Ä–µ–Ω–æ (–∫–≤–∞—Ä—Ç–∏—Ä–∞, –¥–æ–º, –∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫, –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∏ —Ç.–¥.).
- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞: –∞–¥—Ä–µ—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –º–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å –¢–°, –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä, –¥—Ä—É–≥–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–¥–µ–ª–∫–∏ (—Å—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö).
- –í—Ç–æ—Ä–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏: –§–ò–û –ø–æ–∫—É–ø–∞—Ç–µ–ª—è/–ø—Ä–æ–¥–∞–≤—Ü–∞/–¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã.
- –û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è: —Ä–∞—Å—Å—Ä–æ—á–∫–∞, –∫—Ä–µ–¥–∏—Ç, –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è, –∏ —Ç.–¥.

–ö–†–ò–¢–ï–†–ò–ò –û–¢–ë–û–†–ê:
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –¢–û–õ–¨–ö–û –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Å–¥–µ–ª–∫–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.
- –°–¥–µ–ª–∫–∏ —Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é: –∫–≤–∞—Ä—Ç–∏—Ä—ã, –¥–æ–º–∞, –∑–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏, –≥–∞—Ä–∞–∂–∏, –Ω–µ–∂–∏–ª—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è.
- –°–¥–µ–ª–∫–∏ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º: –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –º–æ—Ç–æ—Ü–∏–∫–ª—ã, —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∞.
- –°–¥–µ–ª–∫–∏ —Å –∏–Ω—ã–º —Ü–µ–Ω–Ω—ã–º –∏–º—É—â–µ—Å—Ç–≤–æ–º (–ª—é–±–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏).

JSON:
{
        "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–º–µ–Ω–∞/–¥—Ä—É–≥–æ–µ",
        "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å/–ø—Ä–æ–¥–∞–≤–µ—Ü/–¥–∞—Ä–∏—Ç–µ–ª—å/–æ–¥–∞—Ä—è–µ–º—ã–π",
        "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": "–∫–≤–∞—Ä—Ç–∏—Ä–∞/–¥–æ–º/–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫/–∞–≤—Ç–æ–º–æ–±–∏–ª—å/–¥—Ä—É–≥–æ–µ",
        "–û–ø–∏—Å–∞–Ω–∏–µ": "...",
        "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": "...",
        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "...",
        "–°—Ç–æ–∏–º–æ—Å—Ç—å": 0.00,
        "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": "–§–ò–û",
        "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": "..."
}

–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –°—É–º–º—ã –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        
        # === –î–æ–∫—É–º–µ–Ω—Ç—ã —Å—É–ø—Ä—É–≥–∞ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ –∂–µ –ø—Ä–æ–º–ø—Ç—ã —á—Ç–æ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã) ===
        "–ø–∞—Å–ø–æ—Ä—Ç_—Å—É–ø—Ä—É–≥–∞": {
            "keywords": ["–ø–∞—Å–ø–æ—Ä—Ç —Å—É–ø—Ä—É–≥–∞", "–ø–∞—Å–ø–æ—Ä—Ç —Å—É–ø—Ä—É–≥–∏", "–ø–∞—Å–ø–æ—Ä—Ç–∞ —Å—É–ø—Ä—É–≥–∞", "–ø–∞—Å–ø–æ—Ä—Ç–∞ —Å—É–ø—Ä—É–≥–∏", "–ø–∞—Å–ø–æ—Ä—Ç –∂–µ–Ω—ã", "–ø–∞—Å–ø–æ—Ä—Ç–∞ –∂–µ–Ω—ã", "–ø–∞—Å–ø–æ—Ä—Ç –º—É–∂–∞", "–ø–∞—Å–ø–æ—Ä—Ç–∞ –º—É–∂–∞", "–ø–∞—Å–ø–æ—Ä—Ç –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "–ø–∞—Å–ø–æ—Ä—Ç–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "passport spouse"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –ø–∞—Å–ø–æ—Ä—Ç –†–§. –ò–∑–≤–ª–µ–∫–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2-3 (–æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):
   - –í –≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞: —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä (–ø—Ä–∏–º–µ—Ä: 1234 567890 ‚Äî –≤–µ—Ä–Ω–∏ –∫–∞–∫ "1234 567890").
   - –ù–∏–∂–µ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ" ‚Äî –ø–æ—Å—Ç—Ä–æ—á–Ω–æ.
   - –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –î–î.–ú–ú.–ì–ì–ì–ì.
   - –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è:
     - –ü—Ä–∏–≤–µ–¥–∏ –∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É
     - –ù–ï —É–±–∏—Ä–∞–π "–≥–æ—Ä.", "—Å.", "–ø–æ—Å.", "–¥.", "–æ–±–ª.", "—Ä–µ—Å–ø.", "–∫—Ä–∞–π"
     - –ü—Ä–∏–º–µ–Ω—è–π –ø—Ä–∞–≤–∏–ª–∞:
       * "–ì–û–†." ‚Üí "–≥–æ—Ä." (—Å—Ç—Ä–æ—á–Ω—ã–µ)
       * "–ì –ú–û–°–ö–í–ê" ‚Üí "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞" (–¥–æ–±–∞–≤—å —Ç–æ—á–∫—É)
       * "–ì.–ú–û–°–ö–í–ê" ‚Üí "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞" (–ø—Ä–æ–±–µ–ª)
       * "–ì–û–† –ú–û–°–ö–í–ê" ‚Üí "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞"
       * "–°. –ë–û–õ–¨–®–û–ï" ‚Üí "—Å. –ë–æ–ª—å—à–æ–µ"
       * "–î –ö–†–ê–°–ù–û–ï" ‚Üí "–¥. –ö—Ä–∞—Å–Ω–æ–µ" (–¥–æ–±–∞–≤—å —Ç–æ—á–∫—É)
       * "–ü–û–°.–Æ–ñ–ù–´–ô" ‚Üí "–ø–æ—Å. –Æ–∂–Ω—ã–π" (–ø—Ä–æ–±–µ–ª)
     - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:
       * "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞"
       * "—Å. –ë–æ–ª—å—à–æ–µ"
       * "–¥. –ö—Ä–∞—Å–Ω–æ–µ, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª."
       * "–ø–æ—Å. –Æ–∂–Ω—ã–π, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π"
       * "–≥–æ—Ä. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
       * "—Ä–µ—Å–ø. –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, –≥–æ—Ä. –ö–∞–∑–∞–Ω—å"
     - –ï—Å–ª–∏ –∞–¥—Ä–µ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π, —Å–æ—Ö—Ä–∞–Ω—è–π –∏–µ—Ä–∞—Ä—Ö–∏—é: "—Ä–µ—Å–ø. –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, –≥–æ—Ä. –ö–∞–∑–∞–Ω—å"
   - –ü–æ–ª: "–º—É–∂" –∏–ª–∏ "–∂–µ–Ω".
   - –°—Ç—Ä–æ–∫–∞ "–ö–µ–º –≤—ã–¥–∞–Ω" ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –£–§–ú–°/–ú–í–î.
   - –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏: –î–î.–ú–ú.–ì–ì–ì–ì.
   - –ö–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è: XXX-XXX.

2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ 5 (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è):
   - –®—Ç–∞–º–ø —Å –∞–¥—Ä–µ—Å–æ–º (—á–∞—Å—Ç–æ —Ä–∞–∑–º—ã—Ç –∏–ª–∏ –∫—Ä–∏–≤–æ–π) ‚Äî –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å.
   - –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —à—Ç–∞–º–ø–∞.
   - –ï—Å–ª–∏ —à—Ç–∞–º–ø —Ä–∞–∑–º—ã—Ç, –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ª–æ–≥–∏–∫—É (–ø–µ—Ä–≤–∞—è –ø—Ä–æ–ø–∏—Å—å –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ –æ–±—ã—á–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è).

–ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å—Ç–∞—Ä—ã–π –∏–ª–∏ –Ω–æ–≤—ã–π (2022 –≥. –∏ –ø–æ–∑–∂–µ), –∞–ª–≥–æ—Ä–∏—Ç–º —Ç–æ—Ç –∂–µ.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–°–µ—Ä–∏—è_–∏_–Ω–æ–º–µ—Ä": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": "...",
  "–ö–µ–º_–≤—ã–¥–∞–Ω": "...",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "..."
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–∏–Ω–Ω_—Å—É–ø—Ä—É–≥–∞": {
            "keywords": ["–∏–Ω–Ω —Å—É–ø—Ä—É–≥–∞", "–∏–Ω–Ω–∞ —Å—É–ø—Ä—É–≥–∞", "–∏–Ω–Ω –∂–µ–Ω—ã", "–∏–Ω–Ω–∞ –∂–µ–Ω—ã", "–∏–Ω–Ω –º—É–∂–∞", "–∏–Ω–Ω –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "–∏–Ω–Ω–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á—ë—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (–ò–ù–ù).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢ –ò–ù–ù:
–ò–ù–ù –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: 123456789012
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 1234 5678 9012 –∏–ª–∏ 123 456 789 012
- –° –¥–µ—Ñ–∏—Å–∞–º–∏: 1234-5678-9012 –∏–ª–∏ 123-456-789-012
- –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ: (123) 456-789-012
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –ò–ù–ù –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä (—Ñ–∏–∑. –ª–∏—Ü–æ) ‚Äî –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –¥–µ—Ñ–∏—Å–æ–≤
- –ò—â–∏ ~12 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏: "–ò–ù–ù", "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä", "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ"
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Å–∫–æ–±–∫–∏
- –ü—Ä–∏–≤–µ–¥–∏ –∫ —Ñ–æ—Ä–º–∞—Ç—É: 123456789012
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã 10-11 —Ü–∏—Ñ—Ä
- –ù–ï –ø—É—Ç–∞–π —Å –û–ì–†–ù (13/15 —Ü–∏—Ñ—Ä), –°–ù–ò–õ–° (11 —Ü–∏—Ñ—Ä), –¥–∞—Ç–∞–º–∏, —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º–∏

–°–¢–†–£–ö–¢–£–†–ê –î–û–ö–£–ú–ï–ù–¢–ê:
1. –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á—ë—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –≤ –Ω–∞–ª–æ–≥–æ–≤–æ–º –æ—Ä–≥–∞–Ω–µ" –∏–ª–∏ "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á—ë—Ç".
2. –°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä (–Ω–µ –ø—É—Ç–∞–π —Å –ò–ù–ù): –æ–±—ã—á–Ω–æ —Ñ–æ—Ä–º–∞—Ç XX ‚Ññ XXXXXXXXXX (—Ç–æ–∂–µ 12 —Ü–∏—Ñ—Ä, –Ω–æ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ).
3. –ò–ù–ù: –∫—Ä—É–ø–Ω—ã–π –Ω–æ–º–µ—Ä, —á–∞—Å—Ç–æ –≤—ã–¥–µ–ª–µ–Ω –∂–∏—Ä–Ω—ã–º –∏–ª–∏ —Ä–∞–º–∫–æ–π ‚Äî –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä.
4. –§–ò–û: –±–ª–æ–∫ —Ç–µ–∫—Å—Ç–∞ "–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ" –∏–ª–∏ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ.
5. –ü–æ–¥–ø–∏—Å—å –∏ –ø–µ—á–∞—Ç—å –Ω–∞–ª–æ–≥–æ–≤–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
- –ò–ù–ù –æ–±—ã—á–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–µ –∏–ª–∏ —Å–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞ –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º.
- –§–ò–û –Ω–∏–∂–µ –ò–ù–ù.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–ò–ù–ù": "123456789012"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å–Ω–∏–ª—Å_—Å—É–ø—Ä—É–≥–∞": {
            "keywords": ["—Å–Ω–∏–ª—Å —Å—É–ø—Ä—É–≥–∞", "—Å–Ω–∏–ª—Å–∞ —Å—É–ø—Ä—É–≥–∞", "—Å–Ω–∏–ª—Å –∂–µ–Ω—ã", "—Å–Ω–∏–ª—Å–∞ –∂–µ–Ω—ã", "—Å–Ω–∏–ª—Å –º—É–∂–∞", "—Å–Ω–∏–ª—Å–∞ –º—É–∂–∞", "—Å–Ω–∏–ª—Å –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "—Å–Ω–∏–ª—Å–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–°–ù–ò–õ–°) ‚Äî —Å—Ç–∞—Ä—ã–π –∑–µ–ª—ë–Ω—ã–π –ø–ª–∞—Å—Ç–∏–∫ –∏–ª–∏ –Ω–æ–≤–∞—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢–´ –°–ù–ò–õ–°:
–°–ù–ò–õ–° –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: 123-456-789 12
- –°–ª–∏—Ç–Ω–æ: 12345678912
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 123 456 789 12
- –ë–µ–∑ –¥–µ—Ñ–∏—Å–æ–≤: 123 456 789 12
- –° —Ç–æ—á–∫–∞–º–∏: 123.456.789.12
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –°–ù–ò–õ–° –í–°–ï–ì–î–ê 11 —Ü–∏—Ñ—Ä –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ XXX-XXX-XXX XX
- –ò—â–∏ ~11 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏: "–°–ù–ò–õ–°", "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä", "–°–§–†"
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Ç–æ—á–∫–∏
- –ü—Ä–∏–≤–µ–¥–∏ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É: XXX-XXX-XXX XX (—Å –¥–µ—Ñ–∏—Å–∞–º–∏ –º–µ–∂–¥—É —Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–º –ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–≤–æ–π–∫–æ–π)
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã 9-10 —Ü–∏—Ñ—Ä
- –ù–ï –ø—É—Ç–∞–π —Å –ò–ù–ù (12 —Ü–∏—Ñ—Ä), —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, –¥—Ä—É–≥–∏–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏

1. –°—Ç–∞—Ä—ã–π –±–ª–∞–Ω–∫:
        - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–°—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ" –∏ —Å—Ç—Ä–æ–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä" ‚Äî —Ñ–æ—Ä–º–∞—Ç XXX-XXX-XXX XX.
        - –ù–∏–∂–µ –±–ª–æ–∫ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ".
        - –í–Ω–∏–∑—É —Å–ª–µ–≤–∞ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è" –∏ "–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è".
        - –ü–æ–¥ –ø–æ–¥–ø–∏—Å—å—é —Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç–µ–ª—è ‚Äî –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏.
2. –ù–æ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –°–§–†:
        - –®–∞–ø–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞" ‚Äî —Ä—è–¥–æ–º –°–ù–ò–õ–°.
        - –¢–∞–±–ª–∏—Ü–∞ —Å –§–ò–û, –¥–∞—Ç–æ–π –∏ –º–µ—Å—Ç–æ–º —Ä–æ–∂–¥–µ–Ω–∏—è.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –º–∞–∫–µ—Ç: –Ω–æ–º–µ—Ä –∫—Ä—É–ø–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–µ, –§–ò–û –±–ª–æ–∫–æ–º –Ω–∏–∂–µ, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥ –§–ò–û.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–°–ù–ò–õ–°": "XXX-XXX-XXX XX",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–¢–∏–ø_–±–ª–∞–Ω–∫–∞": "–∫–∞—Ä—Ç–∞ 1997/—Å–ø—Ä–∞–≤–∫–∞ –°–§–†"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–∑–∞–∫–ª—é—á–µ–Ω–∏–∏_–±—Ä–∞–∫–∞": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤-–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤-–≤–æ –æ –±—Ä–∞–∫–µ", "–æ –±—Ä–∞–∫–µ"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ù–∞–π–¥–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –§–ò–û —Å—É–ø—Ä—É–≥–∞ (–º—É–∂–∞)
- –§–ò–û —Å—É–ø—Ä—É–≥–∏ (–∂–µ–Ω—ã)
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∞
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∏
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∞
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è —Å—É–ø—Ä—É–≥–∏
- –î–∞—Ç–∞ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –±—Ä–∞–∫–∞
- –û—Ä–≥–∞–Ω –ó–ê–ì–°
- –ù–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∞

–í–µ—Ä–Ω–∏ JSON:
{
  "–°—É–ø—Ä—É–≥_–§–ò–û": "...",
  "–°—É–ø—Ä—É–≥–∞_–§–ò–û": "...",
  "–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–°—É–ø—Ä—É–≥–∞_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–°—É–ø—Ä—É–≥_–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–°—É–ø—Ä—É–≥–∞_–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–î–∞—Ç–∞_–∑–∞–∫–ª—é—á–µ–Ω–∏—è_–±—Ä–∞–∫–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
  "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏_–∞–∫—Ç–∞": "...",
  "–¢–∏–ø_–¥–æ–∫—É–º–µ–Ω—Ç–∞": "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏_–±—Ä–∞–∫–∞": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞–∑–≤–æ–¥–µ", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –±—Ä–∞–∫–∞", "—Ä–∞–∑–≤–æ–¥", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤-–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤-–≤–æ –æ —Ä–∞—Å—Ç –±—Ä–∞–∫–∞","—Å–≤-–≤–æ –ª —Ä–∞—Å—Ç –±—Ä–∞–∫–∞", "—Å–≤ –≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤-–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤ –æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ù–∞–π–¥–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –§–ò–û –±—ã–≤—à–µ–≥–æ —Å—É–ø—Ä—É–≥–∞ (–º—É–∂–∞)
- –§–ò–û –±—ã–≤—à–µ–π —Å—É–ø—Ä—É–≥–∏ (–∂–µ–Ω—ã)
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –±—ã–≤—à–µ–≥–æ —Å—É–ø—Ä—É–≥–∞
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –±—ã–≤—à–µ–π —Å—É–ø—Ä—É–≥–∏
- –î–∞—Ç–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –±—Ä–∞–∫–∞
- –û—Ä–≥–∞–Ω –ó–ê–ì–°, –≤—ã–¥–∞–≤—à–∏–π —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ
- –ù–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∞ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
- –§–∞–º–∏–ª–∏–∏ –ø–æ—Å–ª–µ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –±—Ä–∞–∫–∞ (–µ—Å–ª–∏ –º–µ–Ω—è–ª–∏—Å—å)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –†–∞–∑–ª–∏—á–∞–π –§–ò–û –±—ã–≤—à–µ–≥–æ —Å—É–ø—Ä—É–≥–∞ –∏ –±—ã–≤—à–µ–π —Å—É–ø—Ä—É–≥–∏
- –î–∞—Ç–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –±—Ä–∞–∫–∞ ‚Äî —ç—Ç–æ –¥–∞—Ç–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –≤ –ó–ê–ì–°, –Ω–µ –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã —Ñ–∞–º–∏–ª–∏–∏ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–æ–¥–∞ ‚Äî –∏–∑–≤–ª–µ–∫–∏ –∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ

–í–µ—Ä–Ω–∏ JSON:
{
  \"–ë—ã–≤—à–∏–π_—Å—É–ø—Ä—É–≥_–§–ò–û\": \"–§–ò–û –º—É–∂–∞\",
  \"–ë—ã–≤—à–∏–π_—Å—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è\": \"–î–î.–ú–ú.–ì–ì–ì–ì\",
  \"–ë—ã–≤—à–∞—è_—Å—É–ø—Ä—É–≥–∞_–§–ò–û\": \"–§–ò–û –∂–µ–Ω—ã\",
  \"–ë—ã–≤—à–∞—è_—Å—É–ø—Ä—É–≥–∞_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è\": \"–î–î.–ú–ú.–ì–ì–ì–ì\",
  \"–î–∞—Ç–∞_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è_–±—Ä–∞–∫–∞\": \"–î–î.–ú–ú.–ì–ì–ì–ì\",
  \"–§–∞–º–∏–ª–∏—è_—Å—É–ø—Ä—É–≥–∞_–ø–æ—Å–ª–µ_—Ä–∞–∑–≤–æ–¥–∞\": \"...\",
  \"–§–∞–º–∏–ª–∏—è_—Å—É–ø—Ä—É–≥–∏_–ø–æ—Å–ª–µ_—Ä–∞–∑–≤–æ–¥–∞\": \"...\",
  \"–û—Ä–≥–∞–Ω_–ó–ê–ì–°\": \"...\",
  \"–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏\": \"...\",
  \"–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏\": \"–î–î.–ú–ú.–ì–ì–ì–ì\"
}

–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –±—Ä–∞–∫–µ", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞ (–†–§ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω –°–ù–ì).

üî¥ –ö–û–ù–¢–ï–ö–°–¢: –§–ò–û –î–û–õ–ñ–ù–ò–ö–ê = {debtor_fio}

–¢–í–û–Ø –ó–ê–î–ê–ß–ê: –ù–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –°–£–ü–†–£–ì–ê –¥–æ–ª–∂–Ω–∏–∫–∞ (–º—É–∂–∞ –∏–ª–∏ –∂–µ–Ω—É) –∏ –≤–µ—Ä–Ω—É—Ç—å –¢–û–õ–¨–ö–û –µ–≥–æ/–µ—ë –¥–∞–Ω–Ω—ã–µ.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

üî¥üî¥üî¥ –°–¢–†–£–ö–¢–£–†–ê –î–û–ö–£–ú–ï–ù–¢–ê (–í–ê–†–ò–ê–ù–¢–´):

–í–ê–†–ò–ê–ù–¢ 1: –°–¢–ê–ù–î–ê–†–¢–ù–û–ï –°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–û –†–§ (–†–æ–∑–æ–≤—ã–π –±–ª–∞–Ω–∫)
- –û–±—ã—á–Ω–æ –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –¢–µ–∫—Å—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∞—à–∏–Ω–æ–ø–∏—Å–Ω—ã–π.
- –ß–ï–¢–ö–ò–ô –ü–û–†–Ø–î–û–ö:
  1. –ü–ï–†–í–´–ú –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ú–£–ñ (–§–∞–º–∏–ª–∏—è, –ò–º—è, –û—Ç—á–µ—Å—Ç–≤–æ, –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è).
     - –¢–µ–∫—Å—Ç: "–ì—Ä–∞–∂–¥–∞–Ω–∏–Ω [–§–ò–û –ú–£–ñ–ê]..."
  2. –í–¢–û–†–´–ú –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ñ–ï–ù–ê (–§–∞–º–∏–ª–∏—è, –ò–º—è, –û—Ç—á–µ—Å—Ç–≤–æ, –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è).
     - –¢–µ–∫—Å—Ç: "–∏ –≥—Ä–∞–∂–¥–∞–Ω–∫–∞ [–§–ò–û –ñ–ï–ù–´]..."
  3. –í–Ω–∏–∑—É: "–ü–æ—Å–ª–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –±—Ä–∞–∫–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Ñ–∞–º–∏–ª–∏–∏:".

–í–ê–†–ò–ê–ù–¢ 2: –°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–û –°–¢–†–ê–ù –°–ù–ì (–¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω –∏ –¥—Ä.)
- –ß–∞—Å—Ç–æ –¥–≤–µ —á–∞—Å—Ç–∏: –†—É–∫–æ–ø–∏—Å–Ω–∞—è (–≤–µ—Ä—Ö) –∏ –ü–µ—á–∞—Ç–Ω–∞—è (–Ω–∏–∑ –∏–ª–∏ 2 —Å—Ç—Ä).
- –ò—â–∏ —è–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã "–º—É–∂:", "–∂–µ–Ω–∞:" –≤ –ø–µ—á–∞—Ç–Ω–æ–π —á–∞—Å—Ç–∏.

üéØ –ê–õ–ì–û–†–ò–¢–ú:
1. –ù–∞–π–¥–∏ –î–í–£–• –ª—é–¥–µ–π, –≤—Å—Ç—É–ø–∞—é—â–∏—Ö –≤ –±—Ä–∞–∫.
2. –û–ø—Ä–µ–¥–µ–ª–∏, –∫—Ç–æ –∏–∑ –Ω–∏—Ö –î–û–õ–ñ–ù–ò–ö ({debtor_fio}).
   - –°—Ä–∞–≤–Ω–∏–≤–∞–π –§–∞–º–∏–ª–∏—é –∏ –ò–º—è (–æ—Ç—á–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–æ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å).
   - –£—á–∏—Ç—ã–≤–∞–π –≤–æ–∑–º–æ–∂–Ω—É—é —Å–º–µ–Ω—É —Ñ–∞–º–∏–ª–∏–∏ (—Å–º–æ—Ç—Ä–∏ –≥—Ä–∞—Ñ—É "–ü–æ—Å–ª–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –±—Ä–∞–∫–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Ñ–∞–º–∏–ª–∏–∏").
3. –í—Ç–æ—Ä–æ–π —á–µ–ª–æ–≤–µ–∫ - —ç—Ç–æ –°–£–ü–†–£–ì.
   - –°–ú–û–¢–†–ò –ì–†–ê–§–£ "–ü–æ—Å–ª–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –±—Ä–∞–∫–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Ñ–∞–º–∏–ª–∏–∏" (–æ–±—ã—á–Ω–æ –≤–Ω–∏–∑—É).
   - –ï—Å–ª–∏ —Å—É–ø—Ä—É–≥—É –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ –ù–û–í–ê–Ø —Ñ–∞–º–∏–ª–∏—è ‚Äî –ò–°–ü–û–õ–¨–ó–£–ô –ò–ú–ï–ù–ù–û –ï–Å!
   - –ï—Å–ª–∏ —Å—É–ø—Ä—É–≥ –û—Ä–ª–æ–≤–∞, –Ω–æ –≤ –≥—Ä–∞—Ñ–µ "–∂–µ–Ω–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∞ —Ñ–∞–º–∏–ª–∏—è" —Å—Ç–æ–∏—Ç –î–µ–º–∏–Ω–∞ ‚Äî –∑–Ω–∞—á–∏—Ç —Å—É–ø—É—Ä–≥–∞ –î–ï–ú–ò–ù–ê –ö—Å–µ–Ω–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞.
   - –ò–∑–≤–ª–µ–∫–∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è.

–ü–†–ò–ú–ï–† 1 (–†–§):
"–î–µ–º–∏–Ω –ê–ª–µ–∫—Å–µ–π –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á... –∏ –û—Ä–ª–æ–≤–∞ –ö—Å–µ–Ω–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞... –∑–∞–∫–ª—é—á–∏–ª–∏ –±—Ä–∞–∫."
–í–Ω–∏–∑—É: "–ü–æ—Å–ª–µ –∑–∞–∫–ª—é—á–µ–Ω–∏—è –±—Ä–∞–∫–∞ –ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Ñ–∞–º–∏–ª–∏–∏: –º—É–∂—É –î–µ–º–∏–Ω, –∂–µ–Ω–µ –î–µ–º–∏–Ω–∞".
–î–æ–ª–∂–Ω–∏–∫: –î–µ–º–∏–Ω –ê.–í.
–°—É–ø—Ä—É–≥ (–∂–µ–Ω–∞): –±—ã–ª–∞ –û—Ä–ª–æ–≤–∞ -> —Å—Ç–∞–ª–∞ –î–ï–ú–ò–ù–ê.
–†–ï–ó–£–õ–¨–¢–ê–¢: "–°—É–ø—Ä—É–≥_–§–ò–û": "–î–µ–º–∏–Ω–∞ –ö—Å–µ–Ω–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞"

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON:
{
  "–°—É–ø—Ä—É–≥_–§–ò–û": "–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ —Å—É–ø—Ä—É–≥–∞ –¥–æ–ª–∂–Ω–∏–∫–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ –±—Ä–∞–∫–∞)",
  "–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
```

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ò–©–ò –ü–ï–ß–ê–¢–ù–£–Æ –ß–ê–°–¢–¨! –ù–µ –ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–±–∏—Ä–∞—Ç—å —Ä—É–∫–æ–ø–∏—Å–Ω—ã–π —Ç–µ–∫—Å—Ç!
- –°–ú–û–¢–†–ò –í–°–ï –°–¢–†–ê–ù–ò–¶–´ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ø–µ—á–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞ 2-–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
- –ò–°–ü–û–õ–¨–ó–£–ô —è–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã "–º—É–∂:" –∏ "–∂–µ–Ω–∞:" –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫—Ç–æ –µ—Å—Ç—å –∫—Ç–æ
- –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–π –°—É–ø—Ä—É–≥_–§–ò–û (–Ω–µ null!) –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–Ω–∞ –≥—Ä–∞—Ñ–∞ "–º—É–∂" –∏–ª–∏ "–∂–µ–Ω–∞"
- –í –†–æ—Å—Å–∏–∏ –æ–¥–Ω–æ–ø–æ–ª—ã–µ –±—Ä–∞–∫–∏ –ó–ê–ü–†–ï–©–ï–ù–´ - –µ—Å–ª–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –Ω–∞–ø–∏—Å–∞–Ω–æ "–º—É–∂" –∏ "–∂–µ–Ω–∞", –∑–Ω–∞—á–∏—Ç —ç—Ç–æ –¢–û–ß–ù–û –º—É–∂—á–∏–Ω–∞ –∏ –∂–µ–Ω—â–∏–Ω–∞

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON:
{
  "–°—É–ø—Ä—É–≥_–§–ò–û": "–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ —Å—É–ø—Ä—É–≥–∞ –¥–æ–ª–∂–Ω–∏–∫–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ –±—Ä–∞–∫–∞)",
  "–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–î–∞—Ç–∞_–∑–∞–∫–ª—é—á–µ–Ω–∏—è_–±—Ä–∞–∫–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
  "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
}

–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–æ–∂–¥–µ–Ω–∏–∏": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ —Ä–µ–±–µ–Ω–∫–∞", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "–∫–æ–ø–∏–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "–∫–æ–ø–∏–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π",  "—Ä–æ–¥–∏–ª—Å—è", "—Ä–æ–¥–∏–ª–∞—Å—å", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Ä–µ–±–µ–Ω–æ–∫", "—Å–≤-–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ(–∞) –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ —Ä–µ–±–µ–Ω–∫–∞/–¥–µ—Ç–µ–π.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

üî¥üî¥üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ò–ó–í–õ–ï–ö–ê–ô –í–°–ï–• –î–ï–¢–ï–ô:
- –í –û–î–ù–û–ú —Ñ–∞–π–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 1, 2, 3 –∏–ª–∏ –ë–û–õ–¨–®–ï —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏!
- –ü–†–û–í–ï–†–¨ –ö–ê–ñ–î–£–Æ –°–¢–†–ê–ù–ò–¶–£ –î–û–ö–£–ú–ï–ù–¢–ê –û–¢ –ù–ê–ß–ê–õ–ê –î–û –ö–û–ù–¶–ê
- –°—á–∏—Ç–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö –§–ò–û –¥–µ—Ç–µ–π –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:
  ‚Ä¢ 1 —Ä–µ–±–µ–Ω–æ–∫ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 1 —ç–ª–µ–º–µ–Ω—Ç–æ–º
  ‚Ä¢ 2 —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 2 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
  ‚Ä¢ 3 —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 3 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –ù–ï –ü–†–û–ü–£–°–ö–ê–ô –°–¢–†–ê–ù–ò–¶–´! –ü—Ä–æ—á–∏—Ç–∞–π –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω–æ!

–ê–õ–ì–û–†–ò–¢–ú:
1. –ü—Ä–æ—á–∏—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É 1 ‚Üí –Ω–∞—à—ë–ª —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ –º–∞—Å—Å–∏–≤
2. –ü—Ä–æ—á–∏—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É 2 ‚Üí –Ω–∞—à—ë–ª –î–†–£–ì–û–ì–û —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ –º–∞—Å—Å–∏–≤
3. –ü—Ä–æ—á–∏—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É 3 ‚Üí –Ω–∞—à—ë–ª –ï–©–Å –û–î–ù–û–ì–û —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ –º–∞—Å—Å–∏–≤
4. –ü—Ä–æ–¥–æ–ª–∂–∞–π –¥–æ –∫–æ–Ω—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ö–ê–ö –†–ê–ó–õ–ò–ß–ê–¢–¨ –†–ê–ó–ù–´–ï –°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–ê:
- –ö–∞–∂–¥–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ = –û–¢–î–ï–õ–¨–ù–´–ô —Ä–µ–±–µ–Ω–æ–∫ —Å –†–ê–ó–ù–´–ú –§–ò–û –∏ –†–ê–ó–ù–û–ô –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è
- –†–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–µ—Ç–µ–π (–ê—Ä—Ç—ë–º, –ú–∏–ª–∞, –î–µ–º–∏–¥) = —Ä–∞–∑–Ω—ã–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
- –†–∞–∑–Ω—ã–µ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è (30.08.2010, 24.02.2021, 18.03.2015) = —Ä–∞–∑–Ω—ã–µ –¥–µ—Ç–∏
- –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –∫–æ–ø–∏—è –û–î–ù–û–ì–û —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ (–æ–¥–Ω–æ –§–ò–û –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö) ‚â† –¥–≤–∞ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞

–î–ª—è –ö–ê–ñ–î–û–ì–û –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑–≤–ª–µ–∫–∏:
- –§–ò–û —Ä–µ–±–µ–Ω–∫–∞ (–ø–æ–ª–Ω–æ—Å—Ç—å—é: –§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ) - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞ - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞
- –§–ò–û –º–∞—Ç–µ—Ä–∏
- –§–ò–û –æ—Ç—Ü–∞
- –û—Ä–≥–∞–Ω –ó–ê–ì–°, –≤—ã–¥–∞–≤—à–∏–π —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ
- –ù–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∞
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞

–†–ê–ó–õ–ò–ß–ê–ô:
- –§–ò–û —Ä–µ–±–µ–Ω–∫–∞ (—á—å–µ —ç—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ) ‚â† –§–ò–û –º–∞—Ç–µ—Ä–∏ ‚â† –§–ò–û –æ—Ç—Ü–∞
- –ï—Å–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ–Ω–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —É–∫–∞–∂–∏ null

–í–µ—Ä–Ω–∏ JSON:
{
  "–î–µ—Ç–∏": [
    {
      "–†–µ–±–µ–Ω–æ–∫_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ê—Ä—Ç—ë–º –ú–∞–∫—Å–∏–º–æ–≤–∏—á",
      "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "30.08.2010",
      "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–≥. –ö—Ä–∞—Å–Ω–æ—Ç—É—Ä—å–∏–Ω—Å–∫",
      "–ú–∞—Ç—å_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–µ—Ü_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á",
      "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
      "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "174",
      "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "08.09.2010"
    },
    {
      "–†–µ–±–µ–Ω–æ–∫_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –ú–∏–ª–∞ –ú–∞–∫—Å–∏–º–æ–≤–Ω–∞",
      "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "24.02.2021",
      "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–≥. –ú–∏–∞—Å—Å",
      "–ú–∞—Ç—å_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–µ—Ü_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á",
      "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
      "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "110219740001800274009",
      "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "05.03.2021"
    },
    {
      "–†–µ–±–µ–Ω–æ–∫_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –î–µ–º–∏–¥ –ú–∞–∫—Å–∏–º–æ–≤–∏—á",
      "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "18.03.2015",
      "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–≥. –ú–∏–∞—Å—Å",
      "–ú–∞—Ç—å_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–µ—Ü_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á",
      "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
      "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "503",
      "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "31.03.2015"
    }
  ]
}

–ü–†–ê–í–ò–õ–û:
- 1 —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 1 —ç–ª–µ–º–µ–Ω—Ç–æ–º
- 2 —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 2 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏  
- 3 —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 3 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ!)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –†–ê–ó–ù–´–• –¥–µ—Ç–µ–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "–æ–±—â–∏–π": {
            "keywords": [],
            "prompt": """–¢—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.

–û–ø—Ä–µ–¥–µ–ª–∏ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è (–§–ò–û, –¥–∞—Ç—ã, —Å—É–º–º—ã, –Ω–æ–º–µ—Ä–∞) –∏ –≤–µ—Ä–Ω–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π JSON.
–ï—Å–ª–∏ —Ç–∏–ø –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω, –≤–µ—Ä–Ω–∏ {"raw_text": "..."} —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º.
–ù–µ –¥–æ–±–∞–≤–ª—è–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –≤—ã–≤–æ–¥ —Å—Ç—Ä–æ–≥–æ JSON.""",
        },

        "—Å–ø—Ä–∞–≤–∫–∞_–æ_—Å—É–¥–∏–º–æ—Å—Ç–∏": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–∏–º–æ—Å—Ç–∏", "—Å–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—É–¥–∏–º–æ—Å—Ç–∏", "–∫–æ–ø–∏—è —Å–ø—Ä–∞–≤–∫–∏ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏", "–∫–æ–ø–∏—è —Å–ø—Ä–∞–≤–∫–∏ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—É–¥–∏–º–æ—Å—Ç–∏", "—Å—É–¥–∏–º–æ—Å—Ç—å", "–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—É–¥–∏–º–æ—Å—Ç–∏", "—Å–ø—Ä–∞–≤–∫—É –æ –Ω–∞–ª–∏—á–∏–∏", "—Ñ–∞–∫—Ç–∞ —É–≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"],
            "prompt": """–¢—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å —Å–ø—Ä–∞–≤–∫—É –æ –Ω–∞–ª–∏—á–∏–∏ (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏) —Å—É–¥–∏–º–æ—Å—Ç–∏ –∏ (–∏–ª–∏) —Ñ–∞–∫—Ç–∞ —É–≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ª–∏–±–æ –æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–∏ —É–≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –î–ï–í–ò–ß–¨–Ø –§–ê–ú–ò–õ–ò–Ø:
–î–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è (–ø—Ä–µ–∂–Ω—è—è —Ñ–∞–º–∏–ª–∏—è) —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –í –°–ö–û–ë–ö–ê–• –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–º–∏–ª–∏–∏.
–ü—Ä–∏–º–µ—Ä—ã:
- "–£—à–∞–∫–æ–≤–∞ (–†–æ–º–∞–Ω–æ–≤–Ω–∞) –í–∞–ª–µ—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞" ‚Üí –§–∞–º–∏–ª–∏—è: "–£—à–∞–∫–æ–≤–∞", –î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è: "–†–æ–º–∞–Ω–æ–≤–Ω–∞", –ò–º—è: "–í–∞–ª–µ—Ä–∏—è", –û—Ç—á–µ—Å—Ç–≤–æ: "–°–µ—Ä–≥–µ–µ–≤–Ω–∞"
- "–ü–µ—Ç—Ä–æ–≤–∞ (–°–∏–¥–æ—Ä–æ–≤–∞) –ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–Ω–∞" ‚Üí –§–∞–º–∏–ª–∏—è: "–ü–µ—Ç—Ä–æ–≤–∞", –î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è: "–°–∏–¥–æ—Ä–æ–≤–∞", –ò–º—è: "–ê–Ω–Ω–∞", –û—Ç—á–µ—Å—Ç–≤–æ: "–ò–≤–∞–Ω–æ–≤–Ω–∞"
- "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á" ‚Üí –§–∞–º–∏–ª–∏—è: "–ò–≤–∞–Ω–æ–≤", –î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è: null, –ò–º—è: "–ò–≤–∞–Ω", –û—Ç—á–µ—Å—Ç–≤–æ: "–ü–µ—Ç—Ä–æ–≤–∏—á"

–ê–õ–ì–û–†–ò–¢–ú –ò–ó–í–õ–ï–ß–ï–ù–ò–Ø –î–ï–í–ò–ß–¨–ï–ô –§–ê–ú–ò–õ–ò–ò:
1. –ù–∞–π–¥–∏ –§–ò–û –≤ —Å–ø—Ä–∞–≤–∫–µ (–í –ø–æ–ª–µ "(—Ñ–∞–º–∏–ª–∏—è, –∏–º—è, –æ—Ç—á–µ—Å—Ç–≤–æ (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏) –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–≥–æ –ª–∏—Ü–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏–º–µ–≤—à–∏–µ—Å—è —Ä–∞–Ω–µ–µ, –≤ –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ)")
2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ –°–ö–û–ë–û–ö –≤ –§–ò–û
3. –ï—Å–ª–∏ –µ—Å—Ç—å —Å–∫–æ–±–∫–∏: —Ç–µ–∫—Å—Ç –í –°–ö–û–ë–ö–ê–• = –¥–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è
4. –ï—Å–ª–∏ —Å–∫–æ–±–æ–∫ –Ω–µ—Ç: –¥–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è = null

–ù–∞–π–¥–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –§–ò–û –ª–∏—Ü–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å —É—á–µ—Ç–æ–º –¥–µ–≤–∏—á—å–µ–π —Ñ–∞–º–∏–ª–∏–∏ –≤ —Å–∫–æ–±–∫–∞—Ö!)
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è
- –°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–∏–º–æ—Å—Ç–∏: "–∏–º–µ–µ—Ç—Å—è" / "–Ω–µ –∏–º–µ—é—Ç—Å—è" / "–ø–æ–≥–∞—à–µ–Ω–∞" / "—Å–Ω—è—Ç–∞"
- –ï—Å–ª–∏ —Å—É–¥–∏–º–æ—Å—Ç—å –ò–ú–ï–ï–¢–°–Ø –∏–ª–∏ –ë–´–õ–ê:
  * –°—Ç–∞—Ç—å—è –£–ö –†–§
  * –î–∞—Ç–∞ –ø—Ä–∏–≥–æ–≤–æ—Ä–∞
  * –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å—É–¥–∞
  * –°—Ä–æ–∫ –Ω–∞–∫–∞–∑–∞–Ω–∏—è
  * –î–∞—Ç–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
  * –°—Ç–∞—Ç—É—Å (–ø–æ–≥–∞—à–µ–Ω–∞/—Å–Ω—è—Ç–∞/–¥–µ–π—Å—Ç–≤—É–µ—Ç)
- –û—Ä–≥–∞–Ω, –≤—ã–¥–∞–≤—à–∏–π —Å–ø—Ä–∞–≤–∫—É (–ì–ò–ê–¶ –ú–í–î –†–æ—Å—Å–∏–∏, –ú–í–î –ø–æ —Ä–µ–≥–∏–æ–Ω—É)
- –ù–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∫–∏
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–ø—Ä–∞–≤–∫–∏

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "–£—à–∞–∫–æ–≤–∞ (–†–æ–º–∞–Ω–æ–≤–Ω–∞) –í–∞–ª–µ—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞",
  "–§–∞–º–∏–ª–∏—è": "–£—à–∞–∫–æ–≤–∞",
  "–î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è": "–†–æ–º–∞–Ω–æ–≤–Ω–∞",
  "–ò–º—è": "–í–∞–ª–µ—Ä–∏—è",
  "–û—Ç—á–µ—Å—Ç–≤–æ": "–°–µ—Ä–≥–µ–µ–≤–Ω–∞",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–°—É–¥–∏–º–æ—Å—Ç—å_—Å—Ç–∞—Ç—É—Å": "–Ω–µ –∏–º–µ–µ—Ç—Å—è/–∏–º–µ–µ—Ç—Å—è/–ø–æ–≥–∞—à–µ–Ω–∞/—Å–Ω—è—Ç–∞",
  "–°—É–¥–∏–º–æ—Å—Ç—å_–¥–µ—Ç–∞–ª–∏": {
    "–°—Ç–∞—Ç—å—è_–£–ö": "...",
    "–î–∞—Ç–∞_–ø—Ä–∏–≥–æ–≤–æ—Ä–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
    "–°—É–¥": "...",
    "–°—Ä–æ–∫_–Ω–∞–∫–∞–∑–∞–Ω–∏—è": "...",
    "–î–∞—Ç–∞_–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
    "–°—Ç–∞—Ç—É—Å": "–ø–æ–≥–∞—à–µ–Ω–∞/—Å–Ω—è—Ç–∞/–¥–µ–π—Å—Ç–≤—É–µ—Ç"
  },
  "–û—Ä–≥–∞–Ω_–≤—ã–¥–∞—á–∏": "...",
  "–ù–æ–º–µ—Ä_—Å–ø—Ä–∞–≤–∫–∏": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
}

–ï—Å–ª–∏ —Å—É–¥–∏–º–æ—Å—Ç–∏ –Ω–µ—Ç: "–°—É–¥–∏–º–æ—Å—Ç—å_–¥–µ—Ç–∞–ª–∏": null
–ï—Å–ª–∏ –¥–µ–≤–∏—á—å–µ–π —Ñ–∞–º–∏–ª–∏–∏ –Ω–µ—Ç: "–î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è": null
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
    }

    # === Utilities ===
    @staticmethod
    def normalize_quotes(text: str) -> str:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∫–∞–≤—ã—á–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ: –∑–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ –≤–∏–¥—ã –∫–∞–≤—ã—á–µ–∫ –Ω–∞ –µ–ª–æ—á–∫–∏.
        
        –ü—Ä–∞–≤–∏–ª–æ: –ø–µ—Ä–≤–∞—è –∫–∞–≤—ã—á–∫–∞ - –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è ¬´, —Å–ª–µ–¥—É—é—â–∞—è - –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è ¬ª, –∏ —Ç.–¥.
        
        Args:
            text: –ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç
            
        Returns:
            –¢–µ–∫—Å—Ç —Å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏
        """
        if not text:
            return text
        
        import re
        
        # –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ –≤–∏–¥—ã –∫–∞–≤—ã—á–µ–∫ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∞—Ä–∫–µ—Ä
        # –ü—Ä—è–º—ã–µ –∫–∞–≤—ã—á–∫–∏: " " ' '
        # –¢–∏–ø–æ–≥—Ä–∞—Ñ—Å–∫–∏–µ: " " ' ' ¬´ ¬ª
        text = re.sub(r'["\"\'\'\"\']', '|QUOTE|', text)
        
        # –ó–∞–º–µ–Ω—è–µ–º –º–∞—Ä–∫–µ—Ä—ã –Ω–∞ –µ–ª–æ—á–∫–∏ –ø–æ–ø–∞—Ä–Ω–æ
        result = []
        is_opening = True
        for char in text:
            if char == '|':
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —ç—Ç–æ –Ω–∞—á–∞–ª–æ –º–∞—Ä–∫–µ—Ä–∞ QUOTE
                continue
            result.append(char)
        
        # –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥: –∑–∞–º–µ–Ω—è–µ–º –ø–æ–ø–∞—Ä–Ω–æ
        parts = text.split('|QUOTE|')
        result = parts[0]
        for i in range(1, len(parts)):
            # –ß–µ—Ä–µ–¥—É–µ–º –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ –∏ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ –∫–∞–≤—ã—á–∫–∏
            if i % 2 == 1:  # –ù–µ—á–µ—Ç–Ω—ã–µ - –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ
                result += '¬´' + parts[i]
            else:  # –ß–µ—Ç–Ω—ã–µ - –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ
                result += '¬ª' + parts[i]
        
        return result

    @staticmethod
    def detect_document_type(filename: str, first_page_text: Optional[str] = None) -> tuple[str, str]:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É.

        Args:
            filename: –ò–º—è —Ñ–∞–π–ª–∞
            first_page_text: –¢–µ–∫—Å—Ç –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è)

        Returns:
            –ö–æ—Ä—Ç–µ–∂ (—Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞, –ø—Ä–æ–º–ø—Ç –¥–ª—è GPT)
        """
        # –ó–∞–º–µ–Ω—è–µ–º –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–±–µ–ª—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
        filename_lower = filename.lower().replace('_', ' ')

        # –ü–†–ò–û–†–ò–¢–ï–¢ 1: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –°–£–ü–†–£–ì–ê –∏ –ë–†–ê–ö–ê (–æ–Ω–∏ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã)
        spouse_doc_types = ["–ø–∞—Å–ø–æ—Ä—Ç_—Å—É–ø—Ä—É–≥–∞", "–∏–Ω–Ω_—Å—É–ø—Ä—É–≥–∞", "—Å–Ω–∏–ª—Å_—Å—É–ø—Ä—É–≥–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏_–±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–∑–∞–∫–ª—é—á–µ–Ω–∏–∏_–±—Ä–∞–∫–∞"]
        for doc_type in spouse_doc_types:
            if doc_type in DocumentProcessor.DOCUMENT_TYPES:
                config = DocumentProcessor.DOCUMENT_TYPES[doc_type]
                for keyword in config.get("keywords", []):
                    if keyword in filename_lower:
                        return doc_type, config["prompt"]
        
        # –ü–†–ò–û–†–ò–¢–ï–¢ 1.5: –ë–ö–ò/–ù–ë–ö–ò/–û–ö–ë –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
        # –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏: –ù–ë–ö–ò -> –û–ö–ë -> –ë–ö–ò (–æ—Ç —Å–∞–º–æ–≥–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –∫ –æ–±—â–µ–º—É)
        if "–Ω–±–∫–∏" in filename_lower or "nbki" in filename_lower or "nbch" in filename_lower:
            config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", {})
            return "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", config.get("prompt", "")
        
        if "–æ–∫–±" in filename_lower or "okb" in filename_lower:
            config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–æ–∫–±", {})
            return "–æ—Ç—á–µ—Ç_–æ–∫–±", config.get("prompt", "")
        
        if "–±–∫–∏" in filename_lower and "–Ω–±–∫–∏" not in filename_lower:  # –ò–∑–±–µ–≥–∞–µ–º –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –Ω–∞ –ù–ë–ö–ò
            config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–±–∫–∏", {})
            return "–æ—Ç—á–µ—Ç_–±–∫–∏", config.get("prompt", "")
        
        # –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ü–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—ã—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –î–û–õ–ñ–ù–ò–ö–ê
        for doc_type, config in DocumentProcessor.DOCUMENT_TYPES.items():
            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å—É–ø—Ä—É–≥–∞, –æ–Ω–∏ —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
            if doc_type in spouse_doc_types:
                continue
            for keyword in config.get("keywords", []):
                if keyword in filename_lower:
                    return doc_type, config["prompt"]

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ –∏–º–µ–Ω–∏ –∏ –µ—Å—Ç—å —Ç–µ–∫—Å—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
        if first_page_text:
            text_lower = first_page_text.lower()

            # –ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ / –ï–ù–° - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
            if any(kw in text_lower for kw in ["–æ–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –Ω–∞–ª–æ–≥–æ–≤–æ–º—É —Å—á—ë—Ç—É", "—Å—É–º–º–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è", "–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞", "–≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–Ω—Å", "–µ–¥–∏–Ω—ã–π –Ω–∞–ª–æ–≥–æ–≤—ã–π —Å—á—ë—Ç"]):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", {})
                return "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", config.get("prompt", "")

            # –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏—Å—Ç–∞–≤–∞ - –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
            if any(kw in text_lower for kw in ["—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤", "—Ñ—Å—Å–ø", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ", "—Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"]):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", {})
                return "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", config.get("prompt", "")

            # –î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞
            if "–ø–æ—Ä—É—á–∏—Ç–µ–ª" in text_lower and "–¥–æ–≥–æ–≤–æ—Ä" in text_lower:
                # –≠—Ç–æ –æ–±—ã—á–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∫ –æ–±—â–∏–π —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–µ
                return "–æ–±—â–∏–π", """–î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞.

–ù–∞–π–¥–∏:
- –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞ –∏ –¥–∞—Ç—É
- –ü–æ—Ä—É—á–∏—Ç–µ–ª—å (–∫—Ç–æ –¥–∞—ë—Ç –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–æ): –§–ò–û
- –î–æ–ª–∂–Ω–∏–∫ (–∑–∞ –∫–æ–≥–æ –ø–æ—Ä—É—á–∞—é—Ç—Å—è): –§–ò–û
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (–≤ —á—å—é –ø–æ–ª—å–∑—É –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–æ): –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞

JSON:
{
    "–¢–∏–ø": "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞",
    "–ù–æ–º–µ—Ä": "...",
    "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
    "–ü–æ—Ä—É—á–∏—Ç–µ–ª—å": "...",
    "–î–æ–ª–∂–Ω–∏–∫": "...",
    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "...",
    "–°—É–º–º–∞": "...",
    "–°—Ä–æ–∫": "..."
}
"""

            # –ï–ì–†–ù –≤—ã–ø–∏—Å–∫–∞
            if "–µ–¥–∏–Ω—ã–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏" in text_lower or "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä" in text_lower:
                if "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è" in text_lower or "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ" in text_lower:
                    config = DocumentProcessor.DOCUMENT_TYPES.get("–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", {})
                    return "–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", config.get("prompt", "")
                else:
                    config = DocumentProcessor.DOCUMENT_TYPES.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", {})
                    return "–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", config.get("prompt", "")

            # –ë–ö–ò/–ù–ë–ö–ò/–û–ö–ë –æ—Ç—á—ë—Ç—ã - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º —Å–ª–æ–≤–∞–º (–ü–û–†–Ø–î–û–ö –í–ê–ñ–ï–ù!)
            # –°–Ω–∞—á–∞–ª–∞ –ù–ë–ö–ò (—Å–∞–º—ã–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π)
            if "–Ω–±–∫–∏" in text_lower or "–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π" in text_lower or "nbch" in text_lower or "nbki" in text_lower:
                config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", {})
                return "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", config.get("prompt", "")
            
            # –ü–æ—Ç–æ–º –û–ö–ë
            if "–æ–∫–±" in text_lower or "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–µ –±—é—Ä–æ" in text_lower:
                config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–æ–∫–±", {})
                return "–æ—Ç—á–µ—Ç_–æ–∫–±", config.get("prompt", "")
            
            # –í –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å –ë–ö–ò (—Å–∞–º—ã–π –æ–±—â–∏–π)
            if "–±–∫–∏" in text_lower or "—Å–∫–æ—Ä–∏–Ω–≥" in text_lower or ("–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è" in text_lower and "–±—é—Ä–æ" in text_lower):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–±–∫–∏", {})
                return "–æ—Ç—á–µ—Ç_–±–∫–∏", config.get("prompt", "")

            # –ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            if "–Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ" in text_lower or ("–≤—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ" in text_lower and "—Ñ–Ω—Å" in text_lower):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", {})
                return "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", config.get("prompt", "")

            # –ì–ò–ë–î–î - –∑–∞—è–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å–ø—Ä–∞–≤–∫–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
            gibdd_keywords = [
                "–≥–∏–±–¥–¥", "–≥–∞–∏", "–º—Ä—ç–æ", 
                "–≥–æ—Å–∞–≤—Ç–æ–∏–Ω—Å–ø–µ–∫—Ü–∏—è", "–≥–æ—Å–∞–≤—Ç–æ–∏–Ω—Å–ø–µ–∫—Ü–∏–∏", 
                "–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è",
                "—Ä–µ–µ—Å—Ç—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤", 
                "—Ä–µ–µ—Å—Ç—Ä–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤", # –ø–∞–¥–µ–∂–∏
                "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö",
                "–∫–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ—Ç–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞",
                "–ø–∞—Å–ø–æ—Ä—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞"
            ]
            transport_keywords = ["—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω", "–∑–∞—è–≤–ª–µ–Ω–∏–µ", "–∞–≤—Ç–æ–º–æ–±–∏–ª", "—Ç—Å", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω", "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü", "–ø—Ç—Å", "—Å—Ç—Å", "—Å–ø—Ä–∞–≤–∫–∞", "vin", "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä"]
            
            has_gibdd = any(kw in text_lower for kw in gibdd_keywords)
            has_transport = any(kw in text_lower for kw in transport_keywords)
            has_strong_transport = any(kw in text_lower for kw in ["vin", "–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä (vin)", "–Ω–æ–º–µ—Ä –∫—É–∑–æ–≤–∞", "–Ω–æ–º–µ—Ä —à–∞—Å—Å–∏"])

            # –õ–æ–≥–∏–∫–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏:
            # 1. –ï—Å—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤–µ–¥–æ–º—Å—Ç–≤–∞/—Ä–µ–µ—Å—Ç—Ä–∞ (has_gibdd) -> —Ç–æ—á–Ω–æ –ì–ò–ë–î–î
            # 2. –ï—Å—Ç—å —Å–ª–æ–≤–∞ –ø—Ä–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ò (–∫–ª—é—á–µ–≤–∏–∫–∏ –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –ò–õ–ò —Å–∏–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ —Ç–∏–ø–∞ VIN)
            if has_gibdd or (has_transport and (
                any(kw in filename_lower for kw in ["–≥–∏–±–¥–¥", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "—Å–ø—Ä–∞–≤–∫–∞", "–≤—ã–ø–∏—Å–∫–∞", "—Ä–µ–µ—Å—Ç—Ä", "–ø—Ç—Å", "—Å—Ç—Å"]) or 
                has_strong_transport
            )):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–≥–∏–±–¥–¥", {})
                return "–≥–∏–±–¥–¥", config.get("prompt", "")

        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –æ–±—â–∏–π —Ç–∏–ø
        return "–æ–±—â–∏–π", DocumentProcessor.DOCUMENT_TYPES.get("–æ–±—â–∏–π", {}).get(
            "prompt", "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–µ—Ä–Ω–∏ JSON"
        )

    @staticmethod
    def get_memory_usage() -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≤ —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ"""
        process = psutil.Process()
        mem_info = process.memory_info()
        mem_mb = mem_info.rss / 1024 / 1024  # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ MB
        mem_gb = mem_mb / 1024  # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ GB
        
        if mem_gb >= 1:
            return f"{mem_gb:.2f} GB"
        else:
            return f"{mem_mb:.0f} MB"
    
    @staticmethod
    def log_memory(label: str = ""):
        """–í—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –ª–æ–≥"""
        mem_usage = DocumentProcessor.get_memory_usage()
        if label:
            print(f"      [MEMORY] {label}: {mem_usage}")
        else:
            print(f"      [MEMORY] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: {mem_usage}")

    @staticmethod
    def clean_json_response(text: str) -> str:
        text = text.strip()
        if text.startswith("```json"):
            text = text[7:]
        elif text.startswith("```"):
            text = text[3:]
        if text.endswith("```"):
            text = text[:-3]
        return text.strip()

    @staticmethod
    def encode_image_to_base64(image_path: str) -> str:
        """Encode image to base64 for OpenAI API."""
        with open(image_path, "rb") as image_file:
            return base64.b64encode(image_file.read()).decode('utf-8')

    @staticmethod
    def parse_decimal(value: Optional[str]) -> Optional[Decimal]:
        if not value:
            return None
        cleaned = str(value)
        for token in ("\xa0", " ", "—Ä—É–±.", "—Ä—É–±", "—Ä.", "—Ä", "‚ÇΩ"):
            cleaned = cleaned.replace(token, "")
        cleaned = cleaned.replace(",", ".")
        allowed = "0123456789.-"
        normalized = "".join(ch for ch in cleaned if ch in allowed)
        if not normalized or normalized in {"-", ".", "-."}:
            return None
        try:
            return Decimal(normalized)
        except InvalidOperation:
            return None

    @staticmethod
    def format_decimal(value: Decimal) -> str:
        quantized = value.quantize(Decimal("0.01"))
        formatted = f"{quantized:,.2f}".replace(",", " ")
        return formatted.replace(".", ",")

    @staticmethod
    def format_count_with_word(count: int, singular: str, few: str, many: str) -> str:
        """–°–∫–ª–æ–Ω—è–µ—Ç —Å–ª–æ–≤–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞.
        
        Args:
            count: –ß–∏—Å–ª–æ
            singular: –§–æ—Ä–º–∞ –¥–ª—è 1 (—Å—á–µ—Ç)
            few: –§–æ—Ä–º–∞ –¥–ª—è 2-4 (—Å—á–µ—Ç–∞)
            many: –§–æ—Ä–º–∞ –¥–ª—è 5+ –∏ 0 (—Å—á–µ—Ç–æ–≤)
            
        Returns:
            –°—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ "5 —Å—á–µ—Ç–æ–≤", "1 —Å—á–µ—Ç", "3 —Å—á–µ—Ç–∞"
        """
        if count % 10 == 1 and count % 100 != 11:
            return f"{count} {singular}"
        elif count % 10 in [2, 3, 4] and count % 100 not in [12, 13, 14]:
            return f"{count} {few}"
        else:
            return f"{count} {many}"

    @staticmethod
    def normalize_creditor_name(name: str) -> str:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–±–∞–Ω–∫–∞/–ú–§–û/–ú–ö–ö).
        
        Args:
            name: –ò—Å—Ö–æ–¥–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
            
        Returns:
            –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
        """
        if not name:
            return ""
        
        result = name.strip()
        
        # 0. –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ë–ê–ì–ê: "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω. –æ–±—â–µ—Å—Ç–≤–æ: ..." -> "–û–û–û –°–§–û ..."
        # –ü–†–ò–ú–ï–†: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω. –æ–±—â–µ—Å—Ç–≤–æ: –û–ë–©–ï–°–¢–í–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ù–û–ô –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨–Æ –°–§–û –ü–ë –°–ï–†–í–ò–° –§–ò–ù–ê–ù–°
        if "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω. –æ–±—â–µ—Å—Ç–≤–æ" in result:
             result = result.replace("–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω. –æ–±—â–µ—Å—Ç–≤–æ:", "").strip()
             result = result.replace("–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω. –æ–±—â–µ—Å—Ç–≤–æ", "").strip()

        # 1. –ó–∞–º–µ–Ω–∞ –ø–æ–ª–Ω—ã—Ö —Ñ–æ—Ä–º –û–ü–§ –Ω–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ (–î–û –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤)
        replacements = [
            (r'–û–ë–©–ï–°–¢–í–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ù–û–ô –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨–Æ', '–û–û–û'),
            (r'–ü–£–ë–õ–ò–ß–ù–û–ï –ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û', '–ü–ê–û'),
            (r'–ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û', '–ê–û'),
            (r'–ó–ê–ö–†–´–¢–û–ï –ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û', '–ó–ê–û'),
            (r'–ú–ò–ö–†–û–ö–†–ï–î–ò–¢–ù–ê–Ø –ö–û–ú–ü–ê–ù–ò–Ø', '–ú–ö–ö'),
            (r'–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø –ö–û–ú–ü–ê–ù–ò–Ø', '–ú–§–ö'),
            (r'–°–ü–ï–¶–ò–ê–õ–ò–ó–ò–†–û–í–ê–ù–ù–û–ï –§–ò–ù–ê–ù–°–û–í–û–ï –û–ë–©–ï–°–¢–í–û', '–°–§–û'),
        ]
        
        for full, short in replacements:
            result = re.sub(r'\b' + full + r'\b', short, result, flags=re.IGNORECASE)

        # 1.1 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –æ–ø–µ—á–∞—Ç–æ–∫ OCR / –ü–∞—Ä—Å–∏–Ω–≥–∞
        # "–î–ó–ü-–ï–¥–∏–Ω—ã–π" —á–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –î–≠–ü (–µ—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞)
        # –ù–æ –µ—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ –î–ó–ü (–î–æ—Å—Ç—É–ø–Ω—ã–µ –ó–∞–π–º—ã), —Ç–æ... 
        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–ø–∏—Å–∞–ª: "–ö–∞–∫–æ–π –Ω–∞—Ö—É–π –î–ó–ü, —ç—Ç–æ –¥—ç–ø". –ó–Ω–∞—á–∏—Ç –æ–Ω —Ö–æ—á–µ—Ç –≤–∏–¥–µ—Ç—å –î–≠–ü.
        if "–î–ó–ü-–ï–¥–∏–Ω—ã–π" in result:
             result = result.replace("–î–ó–ü-–ï–¥–∏–Ω—ã–π", "–î–≠–ü-–ï–¥–∏–Ω—ã–π")

        # 2. –£–±–∏—Ä–∞–µ–º –ø—Ä–µ—Ñ–∏–∫—Å "–ú–§–û: " –∏ –ø–æ—Ö–æ–∂–∏–µ
        for prefix in ["–ú–§–û:", "–ú—Ñ–æ:", "–ú–§–û :", "–ú—Ñ–æ :", "–ë–∞–Ω–∫: ", "–ë–ê–ù–ö: ", "–ë–∞–Ω–∫ :", "–ë–ê–ù–ö :"]:
            if result.startswith(prefix):
                result = result[len(prefix):].strip()
        
        # 2. –£–±–∏—Ä–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –≤ —Å–∫–æ–±–∫–∞—Ö (—Ä–∞–Ω–µ–µ - ...)
        # –ò—â–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—Ç–∫—Ä—ã–≤–∞—é—â—É—é —Å–∫–æ–±–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "—Ä–∞–Ω–µ–µ"
        result = re.sub(r'\s*\(—Ä–∞–Ω–µ–µ[^)]*\)\s*', ' ', result, flags=re.IGNORECASE)
        
        # 3. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–∞–≤—ã—á–∫–∏: '' "" ‚Üí ¬´¬ª
        # –°–ù–ê–ß–ê–õ–ê –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ —Å –ø–æ–º–æ—â—å—é regex
        # –ü–∞—Ç—Ç–µ—Ä–Ω: ''—Ç–µ–∫—Å—Ç'' ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r"''([^']+)''", r'¬´\1¬ª', result)
        # –ü–∞—Ç—Ç–µ—Ä–Ω: ""—Ç–µ–∫—Å—Ç"" ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r'""([^"]+)""', r'¬´\1¬ª', result)
        # –ü–∞—Ç—Ç–µ—Ä–Ω: "—Ç–µ–∫—Å—Ç" ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r'"([^"]+)"', r'¬´\1¬ª', result)
        # –ü–∞—Ç—Ç–µ—Ä–Ω: '—Ç–µ–∫—Å—Ç' ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r"'([^']+)'", r'¬´\1¬ª', result)
        
        # –ü–û–¢–û–ú –∑–∞–º–µ–Ω—è–µ–º —É–º–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ (–∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å)
        result = result.replace('"', '¬´').replace('"', '¬ª')  # –£–º–Ω—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∫–∞–≤—ã—á–∫–∏
        result = result.replace("'", '¬´').replace("'", '¬ª')  # –£–º–Ω—ã–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
        
        # –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –∫–∞–≤—ã—á–∫–∏ ¬´¬´—Ç–µ–∫—Å—Ç¬ª¬ª ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = result.replace('¬´¬´', '¬´').replace('¬ª¬ª', '¬ª')
        
        # 4. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã (–ú–ö–ö/–ú–§–ö –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä) –ü–ï–†–ï–î –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
        result = re.sub(r'\b(–º–∫–∫|–º—Ñ–∫|–º—Ñ–æ|–æ–æ–æ|–ø–∞–æ|–∞–æ)\b', lambda m: m.group(1).upper(), result, flags=re.IGNORECASE)
        
        # 5. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –û–û–û ¬´–î–∞-–∫—Ä–µ–¥–∏—Ç –ú–ö–ö¬ª ‚Üí –û–û–û –ú–ö–ö ¬´–î–∞-–∫—Ä–µ–¥–∏—Ç¬ª
        # –ü–∞—Ç—Ç–µ—Ä–Ω: –û–û–û ¬´[–Ω–∞–∑–≤–∞–Ω–∏–µ] –ú–ö–ö/–ú–§–ö¬ª ‚Üí –û–û–û –ú–ö–ö/–ú–§–ö ¬´[–Ω–∞–∑–≤–∞–Ω–∏–µ]¬ª
        patterns = [
            # –ú–ö–ö/–ú–§–ö –≤ –∫–æ–Ω—Ü–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ –∫–∞–≤—ã—á–∫–∞—Ö
            (r'–û–û–û\s+¬´([^¬ª]+?)\s+(–ú–ö–ö|–ú–§–ö|–ú–§–û)¬ª', r'–û–û–û \2 ¬´\1¬ª'),
            # –ú–ö–ö/–ú–§–ö –≤ –Ω–∞—á–∞–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ –∫–∞–≤—ã—á–∫–∞—Ö: –û–û–û ¬´–ú–ö–ö –ù–∞–∑–≤–∞–Ω–∏–µ¬ª ‚Üí –û–û–û –ú–ö–ö ¬´–ù–∞–∑–≤–∞–Ω–∏–µ¬ª
            (r'–û–û–û\s+¬´(–ú–ö–ö|–ú–§–ö|–ú–§–û)\s+([^¬ª]+)¬ª', r'–û–û–û \1 ¬´\2¬ª'),
            (r'–û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é\s+¬´([^¬ª]+?)\s+(–ú–ö–ö|–ú–§–ö|–ú–§–û)¬ª', r'–û–û–û \2 ¬´\1¬ª'),
            (r'–û–û–û\s+([^\s¬´]+)\s+(–ú–ö–ö|–ú–§–ö|–ú–§–û)', r'–û–û–û \2 ¬´\1¬ª'),  # –ë–µ–∑ –∫–∞–≤—ã—á–µ–∫
        ]
        
        for pattern, replacement in patterns:
            result = re.sub(pattern, replacement, result, flags=re.IGNORECASE)
        
        # 6. –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
        result = ' '.join(result.split())
        
        return result.strip()

    @staticmethod
    def extract_search_keywords(name: str) -> list:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ —Ä–µ–µ—Å—Ç—Ä–∞—Ö.
        
        Args:
            name: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            
        Returns:
            –°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        """
        import re
        
        # –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –¥–ª—è –¢-–ë–∞–Ω–∫ / –¢–ë–∞–Ω–∫
        name_upper = name.upper()
        if "–¢-–ë–ê–ù–ö" in name_upper or "–¢–ë–ê–ù–ö" in name_upper or "–¢ –ë–ê–ù–ö" in name_upper or "T-BANK" in name_upper or "TBANK" in name_upper or "T BANK" in name_upper:
            return ["—Ç–±–∞–Ω–∫", "—Ç-–±–∞–Ω–∫", "—Ç –±–∞–Ω–∫"]
        
        # –£–±–∏—Ä–∞–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –∏ —Ç–∏–ø—ã
        clean_name = name
        for prefix in ['–ü–ê–û', '–û–ê–û', '–ó–ê–û', '–ê–û', '–û–û–û', '–ú–ö–ö', '–ú–§–ö', '–ú–§–û', 
                       '–ü—É–±–ª–∏—á–Ω–æ–µ –∞–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ', '–ê–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ',
                       '–û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é',
                       '–ú–∏–∫—Ä–æ–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è', '–ú–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è',
                       '–ú–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è']:
            clean_name = re.sub(r'\b' + re.escape(prefix) + r'\b', '', clean_name, flags=re.IGNORECASE)
        
        # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏
        clean_name = clean_name.replace('¬´', '').replace('¬ª', '').replace('"', '').replace("'", '')
        
        # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–ª–æ–≤–∞ –∏ –±–µ—Ä—ë–º –∑–Ω–∞—á–∏–º—ã–µ (–¥–ª–∏–Ω–Ω–µ–µ 2 —Å–∏–º–≤–æ–ª–æ–≤)
        words = [w.strip().lower() for w in clean_name.split() if len(w.strip()) > 2]
        
        return words

    @staticmethod
    def get_bank_address(bank_name: str, inn: Optional[str] = None) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å –±–∞–Ω–∫–∞/–ú–§–û.

        –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
        1. –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å BANK_ADDRESSES
        2. RusProfile/Zachestnyibiznes (—Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –ò–ù–ù)
        3. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
        
        Args:
            bank_name: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            inn: –ò–ù–ù –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
        """
        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
        keywords = DocumentProcessor.extract_search_keywords(bank_name)
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
        name_upper = bank_name.upper()
        is_mfo = any(marker in name_upper for marker in ["–ú–ö–ö", "–ú–§–ö", "–ú–§–û", "–ú–ò–ö–†–û–ö–†–ï–î–ò–¢–ù–ê–Ø", "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø"])
        is_bank = any(marker in name_upper for marker in ["–ë–ê–ù–ö", "–ü–ê–û", "–ê–û"])
        
        # 1. FALLBACK: —Å–ª–æ–≤–∞—Ä—å –∞–¥—Ä–µ—Å–æ–≤ –±–∞–Ω–∫–æ–≤ –∏ –ú–§–û (–¥–∞–Ω–Ω—ã–µ –Ω–∞ 03.11.2025)
        BANK_ADDRESSES = {
            # –ö—Ä—É–ø–Ω–µ–π—à–∏–µ –±–∞–Ω–∫–∏
            "–°–ë–ï–†–ë–ê–ù–ö": "117312, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞–≤–∏–ª–æ–≤–∞, –¥.19", 
            "–í–¢–ë": "191144, –≥–æ—Ä–æ–¥ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –î–µ–≥—Ç—è—Ä–Ω—ã–π –ø–µ—Ä., –¥. 11 –ª–∏—Ç–µ—Ä –∞", 
            "–ê–õ–¨–§–ê –ë–ê–ù–ö": "107078, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, –ö–∞–ª–∞–Ω—á–µ–≤—Å–∫–∞—è —É–ª., –¥.27", 
            "–¢–ò–ù–¨–ö–û–§–§": "127287, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –•—É—Ç–æ—Ä—Å–∫–∞—è 2-—è, –¥. 38–ê, —Å—Ç—Ä. 26", 
            "–¢ –ë–ê–ù–ö": "127287, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –•—É—Ç–æ—Ä—Å–∫–∞—è 2-—è, –¥. 38–ê, —Å—Ç—Ä. 26",
            "–¢–ë–ê–ù–ö": "127287, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –•—É—Ç–æ—Ä—Å–∫–∞—è 2-—è, –¥. 38–ê, —Å—Ç—Ä. 26",
            "–°–û–í–ö–û–ú–ë–ê–ù–ö": "156000, –ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ö–æ—Å—Ç—Ä–æ–º–∞, –ø—Ä-–∫—Ç –¢–µ–∫—Å—Ç–∏–ª—å—â–∏–∫–æ–≤, –¥. 46",
            "–ü–û–ß–¢–ê –ë–ê–ù–ö": "107061, –≥. –ú–æ—Å–∫–≤–∞, –ø–ª. –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω—Å–∫–∞—è, –¥. 8",
            "–•–û–£–ú –ë–ê–ù–ö": "125040, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∞–≤–¥—ã, –¥. 8, –∫–æ—Ä–ø. 1",
            "–û–¢–ü –ë–ê–ù–ö": "125171, –≥. –ú–æ—Å–∫–≤–∞, —à. –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–µ, –¥. 16–ê, —Å—Ç—Ä. 1",
            "–†–ï–ù–ï–°–°–ê–ù–° –ö–†–ï–î–ò–¢": "115114, –≥. –ú–æ—Å–∫–≤–∞, –Ω–∞–±. –î–µ—Ä–±–µ–Ω–µ–≤—Å–∫–∞—è, –¥. 7, —Å—Ç—Ä. 22",
            "–ú–¢–° –ë–ê–ù–ö": "115432, –≥. –ú–æ—Å–∫–≤–∞, –ø—Ä-–∫—Ç –ê–Ω–¥—Ä–æ–ø–æ–≤–∞, –¥. 18, –∫–æ—Ä–ø. 1",
            "–†–£–°–°–ö–ò–ô –°–¢–ê–ù–î–ê–†–¢": "105187, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–∫–∞—Ü–∫–∞—è, –¥. 36",
            "–£–†–ê–õ–°–ò–ë": "119048, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ï—Ñ—Ä–µ–º–æ–≤–∞, –¥. 8",
            
            # –ú–§–û (—á–∞—Å—Ç—ã–µ)
            "–ú–ê–ù–ò–ú–ï–ù": "121096, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞—Å–∏–ª–∏—Å—ã –ö–æ–∂–∏–Ω–æ–π, –¥. 1, –æ—Ñ–∏—Å –¥13",
            "–ó–ê–ô–ú–ï–†": "630112, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –§—Ä—É–Ω–∑–µ, –¥. 242, –æ—Ñ–∏—Å 406", 
            "–ï–ö–ê–ü–£–°–¢–ê": "630055, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –ì–Ω–µ—Å–∏–Ω—ã—Ö, –¥. 10/1, –æ—Ñ–∏—Å 202", 
            "–°–ú–°–§–ò–ù–ê–ù–°": "123112, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, –ü—Ä–µ—Å–Ω–µ–Ω—Å–∫–∞—è –Ω–∞–±, –¥. 12, —ç—Ç–∞–∂ 67 –∫–æ–º–Ω. 8",
            "–í–≠–ë–ë–ê–ù–ö–ò–†": "125466, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –°–æ–∫–æ–ª–æ–≤–æ-–ú–µ—â–µ—Ä—Å–∫–∞—è, –¥. 29, –æ—Ñ–∏—Å 308",
            "–ú–ò–ì–ö–†–ï–î–ò–¢": "127018, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –°—É—â—ë–≤—Å–∫–∏–π –í–∞–ª, –¥. 5, —Å—Ç—Ä. 3", 
            "–ë–´–°–¢–†–û–î–ï–ù–¨–ì–ò": "123290, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —Ç—É–ø. 1-–π –ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π, –¥. 11, —Å—Ç—Ä. 10", 
            "–í–ï–†–ò–¢–ê–°": "115114, –ì.–ú–æ—Å–∫–≤–∞, –í–ù.–¢–ï–†.–ì. –ú–£–ù–ò–¶–ò–ü–ê–õ–¨–ù–´–ô –û–ö–†–£–ì –î–ê–ù–ò–õ–û–í–°–ö–ò–ô, –ù–ê–ë –î–ï–†–ë–ï–ù–ï–í–°–ö–ê–Ø, –î. 11, –ü–û–ú–ï–©. 13/2",
            "–ï–ó–ê–ï–ú": "115114, –ì.–ú–æ—Å–∫–≤–∞, –í–ù.–¢–ï–†.–ì. –ú–£–ù–ò–¶–ò–ü–ê–õ–¨–ù–´–ô –û–ö–†–£–ì –î–ê–ù–ò–õ–û–í–°–ö–ò–ô, –ù–ê–ë –î–ï–†–ë–ï–ù–ï–í–°–ö–ê–Ø, –î. 11, –ü–û–ú–ï–©. 13/2",
            "–¢–£–†–ë–û–ó–ê–ô–ú": "123290, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —Ç—É–ø 1-–π –ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π, –¥. 11 —Å—Ç—Ä. 10, –æ—Ñ–∏—Å 101",
            "–ö–í–ò–ö–£": "119019, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –ù–æ–≤—ã–π –ê—Ä–±–∞—Ç, –¥. 15, —Å—Ç—Ä. 1",
            "–õ–Æ–ö": "119019, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –ù–æ–≤—ã–π –ê—Ä–±–∞—Ç, –¥. 15, —Å—Ç—Ä. 1",
            "–î–ï–ù–¨–ì–ò –°–†–ê–ó–£": "344034, –†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É, —É–ª. –ü–æ—Ä—Ç–æ–≤–∞—è, –¥. 193, –æ—Ñ–∏—Å 309", 
            "–ö–†–ï–î–ò–¢–¢–ï–†": "115280, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω—Å–∫–∞—è –°–ª–æ–±–æ–¥–∞, –¥. 19, —Å—Ç—Ä. 6, –∫–æ–º. 7", 
            "JOYMONEY": "630099, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, –¥. 12",
            "–û–¢–õ–ò–ß–ù–´–ï –ù–ê–õ–ò–ß–ù–´–ï": "630055, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª –ì–Ω–µ—Å–∏–Ω—ã—Ö, –¥. 10/1, –æ—Ñ–∏—Å 202", 
            "–ü–õ–ê–¢–ò–ó–ê": "109316, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, –ø—Ä-–∫—Ç –í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∏–π, –¥. 43, –∫–æ—Ä–ø. 3, —ç—Ç 11 –∫–æ–º 10",
            
            # –ù–æ–≤—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ
            "–û–ü–¢–ò–ú–£–ú –§–ò–ù–ê–ù–°": "119435, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, –ë–æ–ª—å—à–æ–π –°–∞–≤–≤–∏–Ω—Å–∫–∏–π –ø–µ—Ä, –¥. 10 —Å—Ç—Ä. 2 –∞",
            "–°–§–û –û–ü–¢–ò–ú–£–ú –§–ò–ù–ê–ù–°": "119435, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, –ë–æ–ª—å—à–æ–π –°–∞–≤–≤–∏–Ω—Å–∫–∏–π –ø–µ—Ä, –¥. 10 —Å—Ç—Ä. 2 –∞",
            "–£–ö –¢–†–ê–°–¢": "197374, –≥–æ—Ä–æ–¥ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ú–µ–±–µ–ª—å–Ω–∞—è —É–ª, –¥. 12 –∫. 1 –ª–∏—Ç–µ—Ä–∞ –ê, –ø–æ–º–µ—â. 55-–Ω –æ—Ñ–∏—Å 415-6",
        }

        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
        search_name = bank_name.upper().strip()

        # –£–±–∏—Ä–∞–µ–º –û–ü–§ –∏ –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã (—Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ —Å–ª–æ–≤–∞ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ)
        import re
        for opf in ["–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û", "–ú–§–ö", "–ú–ö–ö", "–ö–ë"]:
            # –£–±–∏—Ä–∞–µ–º –û–ü–§ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –∫–æ–Ω—Ü–µ (—Ü–µ–ª–æ–µ —Å–ª–æ–≤–æ)
            search_name = re.sub(r'\b' + opf + r'\b', ' ', search_name)

        search_name = search_name.replace("¬´", "").replace("¬ª", "").replace('"', "")
        search_name = search_name.replace("-", " ")
        while "  " in search_name:
            search_name = search_name.replace("  ", " ")
        search_name = search_name.strip()

        # –ò—â–µ–º —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        if search_name in BANK_ADDRESSES:
            return BANK_ADDRESSES[search_name]

        # –ò—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (—Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ)
        matches = []
        for key, addr in BANK_ADDRESSES.items():
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏–∑ key –≤ search_name
            key_words = set(key.split())
            search_words = set(search_name.split())

            # –ï—Å–ª–∏ –≤—Å–µ —Å–ª–æ–≤–∞ –∏–∑ key –µ—Å—Ç—å –≤ search_name (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)
            if key_words.issubset(search_words) or search_words.issubset(key_words):
                matches.append((len(key), addr))
            # –ò–ª–∏ –µ—Å–ª–∏ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—Ä—É–≥—É—é
            elif key in search_name or search_name in key:
                matches.append((len(key), addr))

        if matches:
            matches.sort(reverse=True)
            return matches[0][1]

        # 3. FALLBACK: –ü–∞—Ä—Å–∏–º –∞–¥—Ä–µ—Å —Å RusProfile –µ—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–ª–æ–≤–∞—Ä–µ
        if inn:
             print(f"[ADDRESS_PARSER] –ê–¥—Ä–µ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ª–æ–≤–∞—Ä–µ –¥–ª—è '{bank_name}', –ø—Ä–æ–±—É—é RusProfile —Å –ò–ù–ù {inn}...")
        else:
             print(f"[ADDRESS_PARSER] –ê–¥—Ä–µ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ª–æ–≤–∞—Ä–µ –¥–ª—è '{bank_name}', –ø—Ä–æ–±—É—é RusProfile –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...")

        address_from_rusprofile = DocumentProcessor.parse_address_from_rusprofile(bank_name, inn)
        if address_from_rusprofile:
            return address_from_rusprofile

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ - –ù–ï –í–û–ó–í–†–ê–©–ê–ï–ú "–≥. –ú–æ—Å–∫–≤–∞", –ª—É—á—à–µ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã –≤–∑—è–ª—Å—è –∞–¥—Ä–µ—Å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
        # if any(word in bank_name.upper() for word in ["–ë–ê–ù–ö", "–ú–§–ö", "–ú–ö–ö", "–ú–§–û"]):
        #    return "–≥. –ú–æ—Å–∫–≤–∞"

        return ""


    @staticmethod
    def validate_inn(inn: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ò–ù–ù –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º–µ.
        
        Args:
            inn: —Å—Ç—Ä–æ–∫–∞ —Å –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)
            
        Returns:
            True –µ—Å–ª–∏ –ò–ù–ù –≤–∞–ª–∏–¥–µ–Ω, False –∏–Ω–∞—á–µ
        """
        if not inn or not inn.isdigit():
            return False
            
        if len(inn) == 10:
            # –ò–ù–ù —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (10 —Ü–∏—Ñ—Ä)
            coefficients = [2, 4, 10, 3, 5, 9, 4, 6, 8]
            checksum = sum(int(inn[i]) * coefficients[i] for i in range(9)) % 11
            checksum = checksum % 10
            return checksum == int(inn[9])
            
        elif len(inn) == 12:
            # –ò–ù–ù —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (12 —Ü–∏—Ñ—Ä)
            # –ü–µ—Ä–≤–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞
            coefficients1 = [7, 2, 4, 10, 3, 5, 9, 4, 6, 8]
            checksum1 = sum(int(inn[i]) * coefficients1[i] for i in range(10)) % 11
            checksum1 = checksum1 % 10
            
            # –í—Ç–æ—Ä–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞  
            coefficients2 = [3, 7, 2, 4, 10, 3, 5, 9, 4, 6, 8]
            checksum2 = sum(int(inn[i]) * coefficients2[i] for i in range(11)) % 11
            checksum2 = checksum2 % 10
            
            return checksum1 == int(inn[10]) and checksum2 == int(inn[11])
        
        return False


    @staticmethod
    def parse_inn_and_address_from_rusprofile(company_name: str, _depth: int = 0, _try_full_name: bool = False) -> tuple[Optional[str], Optional[str]]:
        """–ü–∞—Ä—Å–∏—Ç –ò–ù–ù –∏ –∞–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å RusProfile.ru —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –Ω–∞–∑–≤–∞–Ω–∏—è
        
        Args:
            company_name: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
            _depth: –ì–ª—É–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏ (–¥–ª—è retry —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)
            _try_full_name: –ï—Å–ª–∏ True, –∏—Å–∫–∞—Ç—å —Å –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º (–Ω–µ —É–¥–∞–ª—è—Ç—å –û–ü–§)
            
        Returns:
            –ö–æ—Ä—Ç–µ–∂ (–ò–ù–ù, –∞–¥—Ä–µ—Å) –∏–ª–∏ (None, None) –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        """
        if not company_name or not company_name.strip():
            return None, None
        
        # –ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ User-Agent –∏ IP
        MAX_RETRIES = 3
        
        if _depth >= MAX_RETRIES:
            print(f"[RUSPROFILE] ‚ö†Ô∏è –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–ø—ã—Ç–æ–∫ ({MAX_RETRIES}) –¥–ª—è '{company_name}'")
            return None, None

        try:
            # –ò–º–ø–æ—Ä—Ç—ã –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å, –µ—Å–ª–∏ –æ–Ω–∏ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Ç—É—Ç
            import random
            import difflib
            import requests
            import time
            from urllib.parse import quote_plus
            from bs4 import BeautifulSoup
            
            # –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π –ø–æ–ø—ã—Ç–∫–µ
            if _depth > 0:
                print(f"[RUSPROFILE] üîÑ –ü–æ–ø—ã—Ç–∫–∞ #{_depth + 1}/{MAX_RETRIES} –¥–ª—è '{company_name}'")
            
            # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ User-Agent'–æ–≤ (50+ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏)
            user_agents = [
                # Chrome –Ω–∞ Windows
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36",
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36",
                "Mozilla/5.0 (Windows NT 11.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
                # Chrome –Ω–∞ Mac
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_5_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36",
                # Chrome –Ω–∞ Linux
                "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
                "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36",
                # Firefox –Ω–∞ Windows
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0",
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:120.0) Gecko/20100101 Firefox/120.0",
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:119.0) Gecko/20100101 Firefox/119.0",
                # Firefox –Ω–∞ Mac
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:121.0) Gecko/20100101 Firefox/121.0",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 13.5; rv:120.0) Gecko/20100101 Firefox/120.0",
                # Firefox –Ω–∞ Linux
                "Mozilla/5.0 (X11; Linux x86_64; rv:121.0) Gecko/20100101 Firefox/121.0",
                "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:120.0) Gecko/20100101 Firefox/120.0",
                # Safari –Ω–∞ Mac
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Safari/605.1.15",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 13_5_1) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 12_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Safari/605.1.15",
                # Safari –Ω–∞ iPhone
                "Mozilla/5.0 (iPhone; CPU iPhone OS 17_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.2 Mobile/15E148 Safari/604.1",
                "Mozilla/5.0 (iPhone; CPU iPhone OS 16_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1",
                # Edge –Ω–∞ Windows
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0",
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36 Edg/119.0.0.0",
                # Opera
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 OPR/105.0.0.0",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36 OPR/104.0.0.0",
                # Yandex Browser
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 YaBrowser/24.1.0.0 Safari/537.36",
                "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 YaBrowser/23.11.0.0 Safari/537.36",
                # Android Chrome
                "Mozilla/5.0 (Linux; Android 14) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.6099.144 Mobile Safari/537.36",
                "Mozilla/5.0 (Linux; Android 13) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.6045.193 Mobile Safari/537.36",
                # Android Firefox
                "Mozilla/5.0 (Android 14; Mobile; rv:121.0) Gecko/121.0 Firefox/121.0",
                "Mozilla/5.0 (Android 13; Mobile; rv:120.0) Gecko/120.0 Firefox/120.0",
            ]
            
            # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ IP –¥–ª—è X-Forwarded-For
            def generate_russian_ip():
                """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π IP —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤"""
                provider_prefixes = [
                    '95.',   # –†–æ—Å—Ç–µ–ª–µ–∫–æ–º
                    '109.',  # –ú–¢–°
                    '178.',  # –ë–∏–ª–∞–π–Ω
                    '188.',  # –ú–µ–≥–∞—Ñ–æ–Ω
                    '31.',   # Yandex
                    '77.',   # Mail.ru
                    '46.',   # –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
                    '5.',    # –î—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
                ]
                prefix = random.choice(provider_prefixes)
                remaining = '.'.join([str(random.randint(0, 255)) for _ in range(3)])
                fake_ip = prefix + remaining[remaining.index('.')+1:]
                return fake_ip
            
            # –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å –ø–æ–¥–º–µ–Ω–æ–π IP –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
            fake_ip = generate_russian_ip()
            selected_user_agent = random.choice(user_agents)
            
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
            is_chrome = 'Chrome' in selected_user_agent and 'Edg' not in selected_user_agent
            is_mobile = 'Mobile' in selected_user_agent or 'Android' in selected_user_agent or 'iPhone' in selected_user_agent
            
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
            if 'Windows' in selected_user_agent:
                platform = '"Windows"'
            elif 'Macintosh' in selected_user_agent or 'iPhone' in selected_user_agent or 'iPad' in selected_user_agent:
                platform = '"macOS"' if 'Macintosh' in selected_user_agent else '"iOS"'
            elif 'Android' in selected_user_agent:
                platform = '"Android"'
            else:
                platform = '"Linux"'
            
            # –ë–∞–∑–æ–≤—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
            headers = {
                "User-Agent": selected_user_agent,
                "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",
                "Accept-Language": random.choice([
                    "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7",
                    "ru,en;q=0.9",
                    "ru-RU,ru;q=0.8,en-US;q=0.5,en;q=0.3",
                ]),
                "Accept-Encoding": random.choice([
                    "gzip, deflate, br",
                    "gzip, deflate, br, zstd",
                ]),
                "DNT": "1",
                "Connection": "keep-alive",
                "Upgrade-Insecure-Requests": "1",
                "Sec-Fetch-Dest": "document",
                "Sec-Fetch-Mode": "navigate",
                "Sec-Fetch-Site": "none" if _depth == 0 else "same-origin",
                "Sec-Fetch-User": "?1",
                "Cache-Control": "max-age=0",
                # –ü–æ–¥–º–µ–Ω–∞ IP –∞–¥—Ä–µ—Å–∞ –¥–ª—è –æ–±—Ö–æ–¥–∞ geo-–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ rate limiting
                "X-Forwarded-For": fake_ip,
                "X-Real-IP": fake_ip,
                "X-Client-IP": fake_ip,
                # –†–æ—Å—Å–∏–π—Å–∫–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ (–ú–æ—Å–∫–≤–∞ UTC+3)
                "X-Timezone": "Europe/Moscow",
                "X-Timezone-Offset": "+180",
            }
            
            # Browser-specific headers –¥–ª—è Chrome
            if is_chrome:
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –≤–µ—Ä—Å–∏—é Chrome
                chrome_version_match = re.search(r'Chrome/(\d+)', selected_user_agent)
                chrome_version = chrome_version_match.group(1) if chrome_version_match else "120"
                
                headers.update({
                    "sec-ch-ua": f'"Not_A Brand";v="8", "Chromium";v="{chrome_version}", "Google Chrome";v="{chrome_version}"',
                    "sec-ch-ua-mobile": "?1" if is_mobile else "?0",
                    "sec-ch-ua-platform": platform,
                })
            
            # Referer chain: –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å - —Å –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ - —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            if _depth == 0:
                # –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ - referer —Å –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞
                headers["Referer"] = random.choice([
                    "https://www.google.com/search?q=" + quote_plus(company_name),
                    "https://yandex.ru/search/?text=" + quote_plus(company_name),
                    "https://www.bing.com/search?q=" + quote_plus(company_name),
                ])
            else:
                # –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ - referer —Å RusProfile (–Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ —Å–∞–π—Ç–∞)
                headers["Referer"] = "https://www.rusprofile.ru/"
                headers["Sec-Fetch-Site"] = "same-origin"
            
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º requests —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π HTTP/2 (—á–µ—Ä–µ–∑ httpx –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏)
            try:
                import httpx
                # –°–æ–∑–¥–∞–µ–º HTTP/2 –∫–ª–∏–µ–Ω—Ç –¥–ª—è –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
                session = httpx.Client(http2=True, headers=headers, timeout=20.0, follow_redirects=True)
                using_http2 = True
            except ImportError:
                # Fallback –Ω–∞ –æ–±—ã—á–Ω—ã–π requests
                session = requests.Session()
                session.headers.update(headers)
                using_http2 = False
            
            # –§—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π
            def normalize_name_for_compare(name: str) -> str:
                if not name: return ""
                n = name.lower()
                # –£–¥–∞–ª—è–µ–º –¥–ª–∏–Ω–Ω—ã–µ –û–ü–§ first
                for entity in ["–æ–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é", "–∞–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ", "–ø—É–±–ª–∏—á–Ω–æ–µ –∞–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ", "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –æ–±—â–µ—Å—Ç–≤–æ", "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω. –æ–±—â–µ—Å—Ç–≤–æ", "—Å—Ñ–æ"]:
                     n = re.sub(r'\b' + re.escape(entity) + r'\b', '', n)
                
                # –£–¥–∞–ª—è–µ–º –∫–æ—Ä–æ—Ç–∫–∏–µ –û–ü–§
                for entity in ["–æ–æ–æ", "–ø–∞–æ", "–∞–æ", "–∑–∞–æ", "–º–∫–∫", "–º—Ñ–∫", "–º—Ñ–æ", "–ø–∫–æ", "–Ω–∫–æ", "–±–∞–Ω–∫", "–∫–±"]:
                     n = re.sub(r'\b' + entity + r'\b', '', n)
                     
                # –£–¥–∞–ª—è–µ–º –∫–∞–≤—ã—á–∫–∏, —Å–∫–æ–±–∫–∏ –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
                n = re.sub(r'["¬´¬ª\(\)]', ' ', n)
                
                # –£–¥–∞–ª—è–µ–º "–≥—Ä—è–∑–Ω—ã–µ" —Å—É—Ñ—Ñ–∏–∫—Å—ã —Ç–∏–ø–∞ ))
                n = n.replace("))", "")
                
                return " ".join(n.split())

            # –û—á–∏—â–∞–µ–º –∏–º—è –ü–ï–†–ï–î –ø–æ–∏—Å–∫–æ–º
            clean_search_query = company_name
            # –£–±–∏—Ä–∞–µ–º —è–≤–Ω–æ –º—É—Å–æ—Ä–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã/—Å—É—Ñ—Ñ–∏–∫—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–º–∞—é—Ç –ø–æ–∏—Å–∫ RusProfile
            clean_search_query = re.sub(r'^–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–∏–Ω–∞–Ω\. –æ–±—â–µ—Å—Ç–≤–æ:\s*', '', clean_search_query, flags=re.IGNORECASE)
            clean_search_query = re.sub(r'^–û–ë–©–ï–°–¢–í–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ù–û–ô –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨–Æ\s*', '', clean_search_query, flags=re.IGNORECASE)
            # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏ –∏–∑ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ –º–∞—Ç—á–∏–Ω–≥–∞
            clean_search_query = re.sub(r'["\'¬´¬ª]', '', clean_search_query)
            
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–æ —É–ø—Ä–æ—â–µ–Ω–∏—è
            before_simplification = clean_search_query
            
            # –£–±–∏—Ä–∞–µ–º –û–û–û, –ê–û, –ü–ê–û –∏–∑ –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ –æ—Å—Ç–∞–ª–∏—Å—å
            # –ù–û –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω —Ñ–ª–∞–≥ _try_full_name (—Ç–æ–≥–¥–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
            if not _try_full_name:
                # –ó–ê–ú–ï–ù–ê: –†–∞–∑—Ä–µ—à–∞–µ–º —É–¥–∞–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ –ø–æ–¥—Ä—è–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä "–û–û–û –ú–ö–ö ...")
                # –ë—ã–ª–æ: re.sub(r'^(–û–û–û|–ê–û|–ü–ê–û|–ó–ê–û|–ú–ö–ö|–ú–§–ö|–ú–§–û)\s+', '', ...)
                # –°—Ç–∞–ª–æ: –î–æ–±–∞–≤–ª–µ–Ω + –ø–æ—Å–ª–µ –≥—Ä—É–ø–ø—ã –∏ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π —Å–ø–∏—Å–æ–∫
                clean_search_query = re.sub(r'^((–û–û–û|–ê–û|–ü–ê–û|–ó–ê–û|–ú–ö–ö|–ú–§–ö|–ú–§–û|–ù–ö–û|–ü–ö–û|–ë–∞–Ω–∫)\s+)+', '', clean_search_query, flags=re.IGNORECASE)
            
            # –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, –±—ã–ª–æ –ª–∏ —É–ø—Ä–æ—â–µ–Ω–∏–µ
            was_simplified = (clean_search_query != before_simplification)

            # –£–±–∏—Ä–∞–µ–º —Å–∫–æ–±–∫–∏ —Å –∫–æ–Ω—Ü–∞
            clean_search_query = re.sub(r'\)\)+$', '', clean_search_query) 
            
            normalized_query = normalize_name_for_compare(clean_search_query)
            
            # –†–∞–Ω–¥–æ–º–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
            time.sleep(random.uniform(1.0, 2.5))
            
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—á–∏—â–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
            print(f"[RUSPROFILE] –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: '{clean_search_query}' (orig: '{company_name}')")
            search_url = f"https://www.rusprofile.ru/search?query={quote_plus(clean_search_query)}"
            
            # –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å (—Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è requests –∏ httpx)
            if using_http2:
                response = session.get(search_url)
            else:
                response = session.get(search_url, timeout=20, allow_redirects=True)
            
            if response.status_code != 200:
                print(f"[RUSPROFILE] –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ '{company_name}': —Å—Ç–∞—Ç—É—Å {response.status_code}")
                if using_http2:
                    session.close()
                if _depth == 0:
                     print(f"[FALLBACK] RusProfile error ({response.status_code}), trying Zachestnyibiznes...")
                     return DocumentProcessor.parse_inn_and_address_from_zachestnyibiznes(company_name)
                return None, None
                
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –ø—Ä–æ–∏–∑–æ—à–µ–ª –ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç (RusProfile —Å—Ä–∞–∑—É –æ—Ç–∫—Ä—ã–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–ø–∞–Ω–∏–∏)
            response_url = str(response.url) if using_http2 else response.url
            is_redirected = response_url != search_url and "/search" not in response_url
                
            html = response.text
            soup = BeautifulSoup(html, "lxml")
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–Ω—Ç–∏–±–æ—Ç / –∫–∞–ø—á—É
            # "–°—Ç—Ä–æ–π..." —Å–æ–¥–µ—Ä–∂–∏—Ç "–æ–π", –ø–æ—ç—Ç–æ–º—É –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–æ–π" –¥–∞–µ—Ç –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
            page_title = soup.title.get_text().lower() if soup.title else ""
            if "–æ–π!" in page_title or "–≤—ã —Ä–æ–±–æ—Ç" in page_title or "captcha" in page_title or "–¥–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω" in page_title:
                print(f"[RUSPROFILE] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –∫–∞–ø—á–∞ –¥–ª—è '{company_name}'")
                if _depth == 0:
                     print(f"[FALLBACK] RusProfile captcha, trying Zachestnyibiznes...")
                     return DocumentProcessor.parse_inn_and_address_from_zachestnyibiznes(company_name)
                return None, None

            candidates = []
            
            # 1. –ï—Å–ª–∏ —ç—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            items = soup.select("div.list-element")
            if items:
                for item in items:
                    name_tag = item.select_one("a.list-element__title")
                    if not name_tag: continue
                    
                    # RusProfile –≤—ã–¥–µ–ª—è–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Ç–µ–≥–æ–º <mark>, text(strip=True) —Å–∫–ª–µ–∏—Ç –∏—Ö
                    # <mark>OOO</mark> <mark>"..."</mark> -> OOO"..."
                    # –î–æ–±–∞–≤–∏–º –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ mark –ø–µ—Ä–µ–¥ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º
                    for mark in name_tag.select("mark"):
                        mark.insert_before(" ")
                        mark.insert_after(" ")

                    raw_name = name_tag.get_text(separator=" ", strip=True)
                    # –ß–∏—Å—Ç–∏–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –∏ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
                    normalized_name = normalize_name_for_compare(raw_name)
                    
                    # –°—á–∏—Ç–∞–µ–º —Å—Ö–æ–∂–µ—Å—Ç—å
                    similarity = difflib.SequenceMatcher(None, normalized_query, normalized_name).ratio()
                    
                    # –ü–†–û–í–ï–†–ö–ê –ê–ë–ë–†–ï–í–ò–ê–¢–£–† (–¥–ª—è —Å–ª—É—á–∞–µ–≤ "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è" <-> "–£–§")
                    # –ï—Å–ª–∏ –æ–¥–Ω–∞ –∏–∑ —Å—Ç—Ä–æ–∫ –∫–æ—Ä–æ—Ç–∫–∞—è (–¥–æ 5 –±—É–∫–≤), –ø—Ä–æ–≤–µ—Ä—è–µ–º —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω–∞ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–æ–π –¥—Ä—É–≥–æ–π
                    if len(normalized_name) < 6 or len(normalized_query) < 6:
                        # –ü–æ–ª—É—á–∞–µ–º —Å–ª–æ–≤–∞ –∏–∑ –¥–ª–∏–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
                        long_str = normalized_name if len(normalized_name) > len(normalized_query) else normalized_query
                        short_str = normalized_query if len(normalized_name) > len(normalized_query) else normalized_name
                        
                        # –°–æ–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã–µ –±—É–∫–≤—ã —Å–ª–æ–≤ –¥–ª–∏–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
                        words = long_str.split()
                        acronym = "".join([w[0] for w in words if w]).lower()
                        
                        # –ï—Å–ª–∏ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Ç—Ä–æ–∫–æ–π (–∏–ª–∏ –ø–æ—á—Ç–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç)
                        if acronym == short_str.replace(" ", "") or short_str in acronym:
                             print(f"[RUSPROFILE] –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–µ: {short_str} <-> {long_str}")
                             similarity = max(similarity, 0.95) # –ü–æ–≤—ã—à–∞–µ–º —Å–∫–æ—Ä –¥–æ –ø–æ—á—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ

                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –ò–ù–ù
                    inn = None
                    for info_block in item.select("div.list-element__row-info span"):
                        text = info_block.get_text()
                        if "–ò–ù–ù" in text:
                            m = re.search(r"(\d{10}|\d{12})", text)
                            if m: inn = m.group(1)
                    
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –ê–¥—Ä–µ—Å
                    address = None
                    addr_tag = item.select_one("div.list-element__address")
                    if addr_tag:
                         address = addr_tag.get_text(separator=" ", strip=True)
                         
                    link = "https://www.rusprofile.ru" + name_tag["href"] if name_tag.get("href") else None
                    
                    candidates.append({
                        "name": raw_name,
                        "inn": inn,
                        "address": address,
                        "score": similarity,
                        "url": link,
                        "is_main_page": False
                    })
                    
            # 2. –ï—Å–ª–∏ –Ω–∞—Å —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∫–∏–Ω—É–ª–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–º–ø–∞–Ω–∏–∏ (–∏–ª–∏ —Ç–æ–ª—å–∫–æ 1 —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
            # –ü—Ä–∏–∑–Ω–∞–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–º–ø–∞–Ω–∏–∏: –µ—Å—Ç—å h1 —Å itemprop="name", id="clip_inn" –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–û–û–û ..." –∏ –±–ª–æ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
            elif soup.select_one('[id^="clip_inn"]') or (soup.select_one("h1") and "–û–û–û" in soup.select_one("h1").get_text()) or soup.find(string=re.compile("–ò–ù–ù")):
                h1 = soup.select_one("h1")
                raw_name = h1.get_text(strip=True) if h1 else ""
                normalized_name = normalize_name_for_compare(raw_name)
                similarity = difflib.SequenceMatcher(None, normalized_query, normalized_name).ratio()
                
                # –ò–ù–ù
                inn = None
                inn_tag = soup.select_one('[id^="clip_inn"]')
                if inn_tag:
                    inn = inn_tag.get_text(strip=True)
                else:
                    # Fallback –ø–æ–∏—Å–∫–∞ –ò–ù–ù –ø–æ —Ç–µ–∫—Å—Ç—É
                    inn_match = re.search(r'–ò–ù–ù(?:/–ö–ü–ü)?\s*(\d{10}|\d{12})', html)
                    if inn_match:
                        inn = inn_match.group(1)

                # –ê–¥—Ä–µ—Å
                address = None
                addr_tag = soup.select_one("#clip_address")
                if addr_tag:
                    # –ß–∏—Å—Ç–∏–º –º—É—Å–æ—Ä (–∫–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)
                    for dead in addr_tag.select(".copy_button, script, style, meta"):
                        dead.decompose()

                    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º "—Ä–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–µ" –Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤/–ø–æ–º–µ—â–µ–Ω–∏–π —Ç–∏–ø–∞ 5<span class="long_copy">2</span>
                    # –ù—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ç–µ–≥–∏ span, –Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∏—Ö —Ç–µ–∫—Å—Ç
                    # BS4 unwrap() –¥–µ–ª–∞–µ—Ç —ç—Ç–æ
                    for span in addr_tag.find_all("span", class_="long_copy"):
                         span.unwrap()
                    
                    # –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å —á–∏—Å—Ç—ã–π HTML –±–µ–∑ —Ä–∞–∑—Ä—ã–≤–∞ —Å–ª–æ–≤, –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å get_text
                    # –ò—Å–ø–æ–ª—å–∑—É–µ–º separator=" " –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —á–∞—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –±–ª–æ–∫–∞—Ö
                    address = addr_tag.get_text(separator=" ", strip=True)
                    
                    # –ß–∏—Å—Ç–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–ø—è—Ç—ã–µ
                    address = re.sub(r'\s+', ' ', address)
                    address = re.sub(r'\s*,\s*', ', ', address)
                else:
                     # Fallback 1: –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å"
                    addr_block = soup.find(string=re.compile("–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å"))
                    if addr_block:
                         parent = addr_block.find_parent("div") or addr_block.find_parent("span")
                         if parent:
                             full_text = parent.get_text(" ", strip=True)
                             address = full_text.replace("–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å", "").strip() 
                             address = address.split("–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∞–¥—Ä–µ—Å–µ –Ω–µ–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã")[0].strip()
                    
                    # Fallback 2: –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –≤—Å—ë –µ—â—ë –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—â–µ–º –ª—é–±–æ–π —Ç–µ–∫—Å—Ç, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –∞–¥—Ä–µ—Å —Å –∏–Ω–¥–µ–∫—Å–æ–º
                    if not address:
                        # –ò—â–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω: 6 —Ü–∏—Ñ—Ä (–∏–Ω–¥–µ–∫—Å) + –∑–∞–ø—è—Ç–∞—è + –≥–æ—Ä–æ–¥/–æ–±–ª–∞—Å—Ç—å
                        # –ü—Ä–∏–º–µ—Ä: 123456, –≥. –ú–æ—Å–∫–≤–∞...
                        # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ–∏—Å–∫ –ø–µ—Ä–≤—ã–º–∏ 2000 —Å–∏–º–≤–æ–ª–æ–≤ body, —á—Ç–æ–±—ã –Ω–µ —Ü–µ–ø–ª—è—Ç—å –º—É—Å–æ—Ä
                        body_text = soup.body.get_text(" ", strip=True)[:5000] if soup.body else ""
                        addr_match = re.search(r'(\d{6},\s*[–ê-–Ø–∞-—è\.\s-]+\s*(?:–≥\.|–≥–æ—Ä–æ–¥|–æ–±–ª\.|–∫—Ä–∞–π|—Ä–µ—Å–ø\.|–ê–û|–ú–æ—Å–∫–≤–∞|–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥)[^;]+)', body_text)
                        if addr_match:
                            potential_addr = addr_match.group(1).strip()
                            # –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã, —á—Ç–æ–±—ã –Ω–µ –≤–∑—è—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
                            if 10 < len(potential_addr) < 150:
                                address = potential_addr

                candidates.append({
                    "name": raw_name,
                    "inn": inn,
                    "address": address,
                    "score": similarity,
                    "url": response_url,
                    "is_main_page": True
                })

            if not candidates:
                print(f"[RUSPROFILE] –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–ª—è '{company_name}'")
                if _depth == 0:
                     print(f"[FALLBACK] RusProfile –Ω–µ –Ω–∞—à–µ–ª, –ø—Ä–æ–±—É—é Zachestnyibiznes...")
                     return DocumentProcessor.parse_inn_and_address_from_zachestnyibiznes(company_name)
                return None, None
                
            # –í—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Å–∞–º—ã–π —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π)
            best = candidates[0]
            
            # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ similarity –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
            # –ü–æ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ –¥–æ 0.5 –¥–ª—è 100% –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            MIN_SIMILARITY_THRESHOLD = 0.5
            
            # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏
            # –ï—Å–ª–∏ –∏—â–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é, –∞ –Ω–∞—à–ª–∏ –ø–æ–ª–∏—Ü–∏—é/–∞–ø—Ç–µ–∫—É/—Å—Ç—Ä–æ–π–∫—É - —ç—Ç–æ –æ—à–∏–±–∫–∞
            query_upper = normalized_query.upper()
            result_upper = normalize_name_for_compare(best['name']).upper()
            
            # –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤ –∑–∞–ø—Ä–æ—Å–µ
            financial_markers = ['–ë–ê–ù–ö', '–ú–ö–ö', '–ú–§–ö', '–ú–§–û', '–ö–†–ï–î–ò–¢', '–ó–ê–ô–ú', '–§–ò–ù–ê–ù–°', '–°–§–û']
            has_financial_in_query = any(marker in query_upper for marker in financial_markers)
            
            # –°—Ç–æ–ø-—Å–ª–æ–≤–∞ - –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, —ç—Ç–æ —Ç–æ—á–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è
            stop_words = ['–û–í–î', '–ü–û–õ–ò–¶–ò–Ø', '–ú–í–î', '–ê–ü–¢–ï–ö', '–°–¢–†–û–ô', '–ú–ï–î–ò–¶–ò–ù', '–ü–û–õ–ò–ö–õ–ò–ù–ò–ö', 
                         '–®–ö–û–õ–ê', '–ë–û–õ–¨–ù–ò–¶', '–ú–£–ü', '–ì–£–ü', '–ê–î–ú–ò–ù–ò–°–¢–†–ê–¶–ò–Ø', '–£–ü–†–ê–í–õ–ï–ù–ò–ï']
            has_stopword_in_result = any(word in result_upper for word in stop_words)
            
            # –ï—Å–ª–∏ –∏—â–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é, –Ω–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤ - –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ
            has_financial_in_result = any(marker in result_upper for marker in financial_markers)
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            is_valid_result = True
            rejection_reason = ""
            
            # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ similarity
            if best['score'] < MIN_SIMILARITY_THRESHOLD:
                is_valid_result = False
                rejection_reason = f"–Ω–∏–∑–∫–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π (score={best['score']:.2f} < {MIN_SIMILARITY_THRESHOLD})"
            
            # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞
            elif has_stopword_in_result:
                is_valid_result = False
                rejection_reason = f"–Ω–∞–π–¥–µ–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è (–Ω–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è)"
            
            # 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            elif has_financial_in_query and not has_financial_in_result:
                is_valid_result = False
                rejection_reason = f"–∏—Å–∫–∞–ª–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é, –Ω–∞—à–ª–∏ –¥—Ä—É–≥–æ–π —Ç–∏–ø"
            
            # 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å)
            if is_valid_result and best['inn']:
                if not DocumentProcessor.validate_inn(best['inn']):
                    is_valid_result = False
                    rejection_reason = f"–ò–ù–ù {best['inn']} –Ω–µ –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã"
            
            # –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
            if not is_valid_result:
                if is_redirected:
                    print(f"[RUSPROFILE] ‚ùå –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É: '{best['name']}' –û–¢–ö–õ–û–ù–ï–ù - {rejection_reason}")
                else:
                    print(f"[RUSPROFILE] ‚ùå –†–µ–∑—É–ª—å—Ç–∞—Ç '{best['name']}' –û–¢–ö–õ–û–ù–ï–ù - {rejection_reason}")
                
                # FALLBACK: –ï—Å–ª–∏ –±—ã–ª–æ —É–ø—Ä–æ—â–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è (—É–¥–∞–ª–µ–Ω –û–ü–§) –∏ –µ—â–µ –Ω–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏ –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
                if was_simplified and not _try_full_name:
                    print(f"[RUSPROFILE] üîÑ –ü—Ä–æ–±—É–µ–º –ø–æ–∏—Å–∫ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º (—Å –û–ü–§)...")
                    time.sleep(random.uniform(0.5, 1.0))
                    res = DocumentProcessor.parse_inn_and_address_from_rusprofile(company_name, _depth, _try_full_name=True)
                    if res and res != (None, None):
                        return res
                    # –ï—Å–ª–∏ –ø–æ–∏—Å–∫ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –Ω–µ –¥–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—ã—á–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏
                
                # RETRY: –ü—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (User-Agent, IP, –∑–∞–¥–µ—Ä–∂–∫–∞)
                if _depth < MAX_RETRIES - 1:
                    retry_delay = random.uniform(1.5, 3.0)
                    print(f"[RUSPROFILE] üîÑ –ü–æ–≤—Ç–æ—Ä –ø–æ–ø—ã—Ç–∫–∏ #{_depth + 2} —á–µ—Ä–µ–∑ {retry_delay:.1f} —Å–µ–∫ —Å –Ω–æ–≤—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏...")
                    time.sleep(retry_delay)
                    res = DocumentProcessor.parse_inn_and_address_from_rusprofile(company_name, _depth + 1, _try_full_name=False)
                    if res and res != (None, None):
                        return res
                else:
                    print(f"[RUSPROFILE] ‚ùå –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã –¥–ª—è '{company_name}'")

                # –ï—Å–ª–∏ –º—ã –∑–¥–µ—Å—å, –∑–Ω–∞—á–∏—Ç —Ä–µ—Ç—Ä–∞–∏ –Ω–µ –ø–æ–º–æ–≥–ª–∏ –∏–ª–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã
                if _depth == 0:
                     print(f"[FALLBACK] RusProfile exhausted, trying Zachestnyibiznes...")
                     return DocumentProcessor.parse_inn_and_address_from_zachestnyibiznes(company_name)
                    
                return None, None
            
            # –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ—à–µ–ª –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
            if is_redirected:
                print(f"[RUSPROFILE] ‚úÖ –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É: '{best['name']}' (score={best['score']:.2f}, –ò–ù–ù –≤–∞–ª–∏–¥–µ–Ω)")
            else:
                print(f"[RUSPROFILE] ‚úÖ –ü–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: '{best['name']}' (score={best['score']:.2f}, –ò–ù–ù –≤–∞–ª–∏–¥–µ–Ω)")
            
            final_address = best["address"]
            
            # –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ò–õ–ò –∞–¥—Ä–µ—Å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π (–≤–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–æ—Å—Ç–æ –≥–æ—Ä–æ–¥), –∏–¥–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ä—Ç–æ—á–∫–∏
            # –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤ –∞–¥—Ä–µ—Å–µ –µ—Å—Ç—å –∏–Ω–¥–µ–∫—Å (6 —Ü–∏—Ñ—Ä)
            import re
            is_bad_address = (
                not final_address or 
                len(final_address) < 20 or 
                "–≥. –ú–æ—Å–∫–≤–∞" == final_address.strip() or
                not re.search(r'\d{6}', final_address)
            )
            
            if best["url"] and (not best["inn"] or is_bad_address) and not best["is_main_page"]:
                print(f"[RUSPROFILE] ‚ÑπÔ∏è –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (bad_address={is_bad_address})...")
                # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º
                time.sleep(random.uniform(1.5, 3.0))
                
                try:
                    # –û–±–Ω–æ–≤–ª—è–µ–º referer
                    session.headers.update({"Referer": search_url})
                    card_resp = session.get(best["url"], timeout=20)
                    if card_resp.status_code == 200:
                        card_soup = BeautifulSoup(card_resp.text, "lxml")
                        
                        # –î–æ—Å—Ç–∞–µ–º –ò–ù–ù
                        if not best["inn"]:
                            inn_tag = card_soup.select_one('[id^="clip_inn"]')
                            if inn_tag:
                                extracted_inn = inn_tag.get_text(strip=True)
                                # –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ –ò–ù–ù
                                if DocumentProcessor.validate_inn(extracted_inn):
                                    best["inn"] = extracted_inn
                                else:
                                    print(f"[RUSPROFILE] ‚ö†Ô∏è –ò–ù–ù —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é: {extracted_inn}")
                                
                        # –î–æ—Å—Ç–∞–µ–º –ê–¥—Ä–µ—Å (–¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω —É–∂–µ –±—ã–ª, –Ω–æ –ø–ª–æ—Ö–æ–π - –æ–±–Ω–æ–≤–ª—è–µ–º)
                        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –æ—á–∏—Å—Ç–∫–∏, —á—Ç–æ –∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                        addr_tag = card_soup.select_one("#clip_address")
                        if addr_tag:
                            # –ß–∏—Å—Ç–∏–º –º—É—Å–æ—Ä (–∫–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã)
                            for dead in addr_tag.select(".copy_button, script, style, meta, .company-info__hidden"):
                                dead.decompose()

                            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º "—Ä–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–µ" –Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤/–ø–æ–º–µ—â–µ–Ω–∏–π
                            for span in addr_tag.find_all("span", class_="long_copy"):
                                 span.unwrap()
                            
                            new_address = addr_tag.get_text(separator=" ", strip=True)
                            
                            # –ß–∏—Å—Ç–∏–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–ø—è—Ç—ã–µ
                            new_address = re.sub(r'\s+', ' ', new_address)
                            new_address = re.sub(r'\s*,\s*', ', ', new_address)
                            
                            if new_address and len(new_address) > len(final_address or ""):
                                final_address = new_address
                                print(f"[RUSPROFILE] ‚úÖ –ê–¥—Ä–µ—Å —É—Ç–æ—á–Ω–µ–Ω –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ: {final_address}")
                                
                except Exception as e:
                    print(f"[RUSPROFILE] –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É {best['url']}: {e}")

            # –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π –ò–ù–ù
            if best["inn"]:
                # –ï—â–µ —Ä–∞–∑ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –ò–ù–ù –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
                if DocumentProcessor.validate_inn(best["inn"]):
                    return best["inn"], final_address
                else:
                    print(f"[RUSPROFILE] ‚ùå –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –ò–ù–ù {best['inn']} –Ω–µ –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é, –æ—Ç–∫–ª–æ–Ω—è—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç")
                    return None, None
            
            print(f"[RUSPROFILE] ‚ö†Ô∏è –ò–ù–ù –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–ª—è '{company_name}'")
            
            # FALLBACK: –ï—Å–ª–∏ RusProfile –Ω–µ –Ω–∞—à–µ–ª –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ä–µ—Ç—Ä–∞–µ–≤ (depth=0)
            if _depth == 0:
                print(f"[FALLBACK] RusProfile –Ω–µ –Ω–∞—à–µ–ª/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª, –ø—Ä–æ–±—É—é Zachestnyibiznes...")
                return DocumentProcessor.parse_inn_and_address_from_zachestnyibiznes(company_name)
                
            return None, None
            
        except Exception as e:
            print(f"[RUSPROFILE] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è '{company_name}': {e}")
            if _depth == 0:
                 return DocumentProcessor.parse_inn_and_address_from_zachestnyibiznes(company_name)
            return None, None

    @staticmethod
    def parse_inn_from_rusprofile(company_name: str) -> Optional[str]:
        """–ü–∞—Ä—Å–∏—Ç —Ç–æ–ª—å–∫–æ –ò–ù–ù –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å RusProfile.ru (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
        
        Args:
            company_name: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
            
        Returns:
            –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä) –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
        """
        inn, _ = DocumentProcessor.parse_inn_and_address_from_rusprofile(company_name)
        return inn
    

    @staticmethod
    def parse_inn_and_address_from_zachestnyibiznes(company_name: str) -> tuple[Optional[str], Optional[str]]:
        """–ü–∞—Ä—Å–∏—Ç –ò–ù–ù –∏ –∞–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å zachestnyibiznes.ru
           (Fallback –º–µ—Ç–æ–¥, –µ—Å–ª–∏ RusProfile –Ω–µ –Ω–∞—à–µ–ª)
        """
        if not company_name or not company_name.strip():
            return None, None

        # –û—á–∏—â–∞–µ–º –∏–º—è –ü–ï–†–ï–î –ø–æ–∏—Å–∫–æ–º (—É–±–∏—Ä–∞–µ–º –û–ü–§ –∏ –∫–∞–≤—ã—á–∫–∏ –∫–∞–∫ –¥–ª—è RusProfile)
        clean_search_query = company_name
        # –£–õ–£–ß–®–ï–ù–ò–ï: –£–¥–∞–ª—è–µ–º –í–°–ï –ø—Ä–µ—Ñ–∏–∫—Å—ã –ø–æ–¥—Ä—è–¥ (–û–û–û –ú–ö–ö ..., –ú–§–ö ...)
        clean_search_query = re.sub(r'^((–û–û–û|–ê–û|–ü–ê–û|–ó–ê–û|–ú–ö–ö|–ú–§–ö|–ú–§–û|–ù–ö–û|–ü–ö–û|–ë–∞–Ω–∫)\s+)+', '', clean_search_query, flags=re.IGNORECASE)
        clean_search_query = re.sub(r'["\'¬´¬ª]', '', clean_search_query).strip()
        
        print(f"[ZACHESTNYIBIZNES] –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É: '{clean_search_query}' (orig: '{company_name}')")
        
        try:
            import requests
            from bs4 import BeautifulSoup
            from urllib.parse import quote_plus
            import difflib
            import random

            # Headers –∫–∞–∫ —É –±—Ä–∞—É–∑–µ—Ä–∞
            headers = {
                "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
                "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8",
                "Accept-Language": "ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7",
            }
            
            search_url = f"https://zachestnyibiznes.ru/search?query={quote_plus(clean_search_query)}"
            response = requests.get(search_url, headers=headers, timeout=15)
            
            if response.status_code != 200:
                print(f"[ZACHESTNYIBIZNES] –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ: —Å—Ç–∞—Ç—É—Å {response.status_code}")
                return None, None
                
            soup = BeautifulSoup(response.text, "lxml")
            
            # –í—ã–±–∏—Ä–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            # –°–µ–ª–µ–∫—Ç–æ—Ä –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: div.background-grey-blue-light
            items = soup.select("div.background-grey-blue-light")
            if not items:
                print(f"[ZACHESTNYIBIZNES] –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")
                return None, None
                
            candidates = []
            normalized_query = clean_search_query.lower()

            for item in items:
                # –ù–∞–∑–≤–∞–Ω–∏–µ: —Å—Å—ã–ª–∫–∞ –≤–Ω—É—Ç—Ä–∏ p.f-s-16
                name_link = item.select_one("p.f-s-16 a")
                if not name_link: continue
                
                raw_name = name_link.get_text(separator=" ", strip=True)
                
                # –°—Ç–∞—Ç—É—Å: –∏—â–µ–º '–î–µ–π—Å—Ç–≤—É—é—â–µ–µ' –∏–ª–∏ '–õ–∏–∫–≤–∏–¥–∏—Ä–æ–≤–∞–Ω–æ'
                status_block = item.select_one("b.text-green") or item.select_one("b.text-trigger")
                is_active = status_block and "–î–µ–π—Å—Ç–≤—É—é—â–µ–µ" in status_block.get_text()
                
                if not is_active:
                     # –ï—Å–ª–∏ –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç - —Å–Ω–∏–∂–∞–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –Ω–æ –ø–æ–∫–∞ –±–µ—Ä–µ–º
                     pass

                # –ê–¥—Ä–µ—Å: –ø–∞—Ä–∞–≥—Ä–∞—Ñ —Å svg –∏–∫–æ–Ω–∫–æ–π (–æ–±—ã—á–Ω–æ 4-–π p –≤ –±–ª–æ–∫–µ col-md-12)
                # –ò—â–µ–º p c SVG –∏ –ø–æ—á—Ç–æ–≤—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (6 —Ü–∏—Ñ—Ä)
                address = None
                paragraphs = item.select("div.col-md-12 > p")
                for p in paragraphs:
                    text = p.get_text(strip=True)
                    if re.search(r'\d{6}', text) and ("–≥." in text or "–æ–±–ª." in text or "–∫—Ä–∞–π" in text):
                        address = text
                        # –£–±–∏—Ä–∞–µ–º SVG –∏–∫–æ–Ω–∫—É (–µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —Å–∫–ª–µ–∏–ª—Å—è) - —Ö–æ—Ç—è get_text –æ–±—ã—á–Ω–æ –æ–∫
                        break
                
                # –ò–ù–ù: —Å—Ç—Ä–æ–∫–∞ —Å "–ò–ù–ù" –∏ —Ü–∏—Ñ—Ä–∞–º–∏
                inn = None
                for p in paragraphs:
                    text = p.get_text()
                    if "–ò–ù–ù" in text:
                        m = re.search(r"–ò–ù–ù\s*(\d{10}|\d{12})", text)
                        if m: inn = m.group(1)
                        break
                
                if not inn: continue

                # –°—á–∏—Ç–∞–µ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è
                # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (—É–±–∏—Ä–∞–µ–º –û–ü–§ –∏ –∫–∞–≤—ã—á–∫–∏)
                normalized_name = raw_name.lower()
                for entity in ["–æ–æ–æ", "–ø–∞–æ", "–∞–æ", "–∑–∞–æ"]:
                     normalized_name = re.sub(r'\b' + entity + r'\b', '', normalized_name)
                normalized_name = re.sub(r'["¬´¬ª]', '', normalized_name).strip()
                
                similarity = difflib.SequenceMatcher(None, normalized_query, normalized_name).ratio()
                
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä (–∫–∞–∫ –≤ RusProfile)
                if len(normalized_name) < 6 or len(normalized_query) < 6:
                    long_str = normalized_name if len(normalized_name) > len(normalized_query) else normalized_query
                    short_str = normalized_query if len(normalized_name) > len(normalized_query) else normalized_name
                    words = long_str.split()
                    acronym = "".join([w[0] for w in words if w]).lower()
                    if acronym == short_str.replace(" ", "") or short_str in acronym:
                         similarity = max(similarity, 0.95)

                candidates.append({
                    "name": raw_name,
                    "inn": inn,
                    "address": address,
                    "score": similarity,
                    "is_active": is_active
                })
            
            if not candidates:
                return None, None
                
            # –°–æ—Ä—Ç–∏—Ä—É–µ–º: —Å–Ω–∞—á–∞–ª–∞ –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ, –ø–æ—Ç–æ–º –ø–æ score
            candidates.sort(key=lambda x: (x["is_active"], x["score"]), reverse=True)
            
            best = candidates[0]
            if best["score"] < 0.5:
                 print(f"[ZACHESTNYIBIZNES] ‚ùå –ù–∏–∑–∫–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ: '{best['name']}' (score={best['score']:.2f})")
                 return None, None
                 
            print(f"[ZACHESTNYIBIZNES] ‚úÖ –ù–∞–π–¥–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç: '{best['name']}' (score={best['score']:.2f}, –ò–ù–ù={best['inn']})")
            return best["inn"], best["address"]

        except Exception as e:
            print(f"[ZACHESTNYIBIZNES] –û—à–∏–±–∫–∞: {e}")
            return None, None

    @staticmethod
    def parse_address_from_rusprofile(company_name: str, inn: Optional[str] = None) -> Optional[str]:
        """–ü–∞—Ä—Å–∏—Ç —Ç–æ–ª—å–∫–æ –∞–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å RusProfile.ru (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ –ò–ù–ù)
        
        Args:
            company_name: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
            inn: –ò–ù–ù –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
            
        Returns:
            –ê–¥—Ä–µ—Å –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
        """
        # –ï—Å–ª–∏ –µ—Å—Ç—å –ò–ù–ù, –ø—Ä–æ–±—É–µ–º —Å–Ω–∞—á–∞–ª–∞ –∏—Å–∫–∞—Ç—å –ø–æ –Ω–µ–º—É
        if inn:
             _, address = DocumentProcessor.parse_inn_and_address_from_rusprofile(inn)
             if address:
                 return address

        # –ò–Ω–∞—á–µ –∏—â–µ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
        _, address = DocumentProcessor.parse_inn_and_address_from_rusprofile(company_name)
        return address

    @staticmethod
    def get_bank_inn(bank_name: str) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ò–ù–ù –±–∞–Ω–∫–∞/–ú–§–û —Ç–æ–ª—å–∫–æ –∏–∑ RusProfile (–µ—Å–ª–∏ —É–∂–µ –≤ –∫–µ—à–µ).

        Args:
            bank_name: –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–ú–§–û (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–ª–∏ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ)

        Returns:
            –ò–ù–ù –∏–∑ RusProfile –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
        """
        # (–£–¥–∞–ª–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ —Å–ª–æ–≤–∞—Ä–µ–π –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

        # –ü–∞—Ä—Å–∏–º –ò–ù–ù —Å RusProfile (–±–µ—Ä–µ–º –∏–∑ –∫–µ—à–∞ –µ—Å–ª–∏ —É–∂–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏)
        inn_from_rusprofile = DocumentProcessor.parse_inn_from_rusprofile(bank_name)
        if inn_from_rusprofile:
            return inn_from_rusprofile

        return ""

    @staticmethod
    def normalize_bank_name(name: str) -> tuple[str, str]:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂: (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ)
        - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ - –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
        - –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

        –ü—Ä–∏–º–µ—Ä—ã:
            "–ú–¢–°-–ë–ê–ù–ö –ü–ê–û" -> ("–ú–¢–° –ë–ê–ù–ö", "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª")
            "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª" -> ("–ú–¢–° –ë–ê–ù–ö", "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª")
            "–°–±–µ—Ä–±–∞–Ω–∫ –†–æ—Å—Å–∏–∏" -> ("–°–ë–ï–†–ë–ê–ù–ö", "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫")
        """
        if not name:
            return ("", "")

        original = name.strip()
        
        # –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –¥–ª—è –í–¢–ë (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è)
        name_upper = original.upper()
        if "–í–¢–ë" in name_upper and "–ë–ê–ù–ö" in name_upper:
            return ("–í–¢–ë", "–ü–ê–û ¬´–í–¢–ë¬ª")
        
        if "–ü–ö–ë" in name_upper and ("–ù–ê–û" in name_upper or "–ü–ö–û" in name_upper):
             return ("–ù–ê–û –ü–ö–ë", "–ù–ê–û ¬´–ü–ö–ë¬ª")

        # –ò–°–ö–õ–Æ–ß–ï–ù–ò–ï: "–ê–õ–¨–§–ê –§–ê–ë–†–ò–ö–ê" - —ç—Ç–æ –ù–ï –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫!
        if "–§–ê–ë–†–ò–ö–ê" in name_upper and "–ê–õ–¨–§–ê" in name_upper:
            # –û—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
            return (None, original)
        
        # –°–ù–ê–ß–ê–õ–ê –ø—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –ú–§–û/–ú–ö–ö (—É–±–∏—Ä–∞–µ–º "–ú–§–û:", –∏—Å—Ç–æ—Ä–∏—é, –∫–∞–≤—ã—á–∫–∏)
        canonical_name = DocumentProcessor.normalize_creditor_name(original)

        # –°–ª–æ–≤–∞—Ä—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±–∞–Ω–∫–æ–≤/–ú–§–û
        CANONICAL_NAMES = {
            "–°–ë–ï–†–ë–ê–ù–ö": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",
            "–°–ë–ï–†": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",
            "–°–ë–ï–† –†–û–°–°–ò–ò": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",
            "–†–û–°–°–ò–ò": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",  # –î–ª—è "–°–±–µ—Ä–±–∞–Ω–∫ –†–æ—Å—Å–∏–∏" –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è "–ë–ê–ù–ö"
            "–í–¢–ë": "–ü–ê–û ¬´–í–¢–ë¬ª",
            "–ê–õ–¨–§–ê –ë–ê–ù–ö": "–ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª",
            "–ê–õ–¨–§–ê": "–ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª",
            "–¢–ò–ù–¨–ö–û–§–§": "–ê–û ¬´–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫¬ª",
            "–¢–ò–ù–¨–ö–û–§–§ –ë–ê–ù–ö": "–ê–û ¬´–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫¬ª",
            "–¢–ò–ù–ö–û–í": "–ê–û ¬´–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫¬ª",
            "–†–û–°–°–ï–õ–¨–•–û–ó–ë–ê–ù–ö": "–ê–û ¬´–†–æ—Å—Å–µ–ª—å—Ö–æ–∑–±–∞–Ω–∫¬ª",
            "–†–û–°–°–ï–õ–¨–•–û–ó": "–ê–û ¬´–†–æ—Å—Å–µ–ª—å—Ö–æ–∑–±–∞–Ω–∫¬ª",
            "–ì–ê–ó–ü–†–û–ú–ë–ê–ù–ö": "–ê–û ¬´ –ë–∞–Ω–∫ –ì–ü–ë¬ª",
            "–ì–ê–ó–ü–†–û–ú": "–ê–û ¬´–ë–∞–Ω–∫ –ì–ü–ë¬ª",
            "–ì–ü–ë": "–ê–û ¬´–ë–∞–Ω–∫ –ì–ü–ë¬ª",
            "–ì–ü–û": "–ê–û ¬´–ë–∞–Ω–∫ –ì–ü–ë¬ª",  # –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ OCR –≤–º–µ—Å—Ç–æ –ì–ü–ë
            "–ú–¢–° –ë–ê–ù–ö": "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª",
            "–ú–¢–°": "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª",
            "–†–ê–ô–§–§–ê–ô–ó–ï–ù–ë–ê–ù–ö": "–ê–û ¬´–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω–±–∞–Ω–∫¬ª",
            "–†–ê–ô–§–§–ê–ô–ó–ï–ù": "–ê–û ¬´–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω–±–∞–Ω–∫¬ª",
            "–†–û–°–ë–ê–ù–ö": "–ü–ê–û ¬´–†–û–°–ë–ê–ù–ö¬ª",
            "–†–û–°": "–ü–ê–û ¬´–†–û–°–ë–ê–ù–ö¬ª",
            "–•–û–£–ú –ö–†–ï–î–ò–¢": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",  # –•–æ—É–º –ö—Ä–µ–¥–∏—Ç –ø—Ä–æ–¥–∞–Ω –¢–∏–Ω—å–∫–æ—Ñ—Ñ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ –¢-–ë–∞–Ω–∫
            "–•–û–£–ú –ö–†–ï–î–ò–¢ –≠–ù–î –§–ò–ù–ê–ù–°": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "HOME CREDIT": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–¢ –ë–ê–ù–ö": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–¢–ë–ê–ù–ö": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–¢-–ë–ê–ù–ö": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "T BANK": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "TBANK": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "T-BANK": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–†–£–°–§–ò–ù–ê–ù–° –ë–ê–ù–ö": "–û–û–û –ö–ë ¬´–†—É—Å—Ñ–∏–Ω–∞–Ω—Å –ë–∞–Ω–∫¬ª",
            "–†–£–°–§–ò–ù–ê–ù–°": "–û–û–û –ö–ë ¬´–†—É—Å—Ñ–∏–Ω–∞–Ω—Å –ë–∞–Ω–∫¬ª",
            "–†–£–°–ò–ù–¢–ï–†–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–†–£–°–ò–ù–ï–†–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–†–£–° –ò–ù–¢–ï–† –§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–°–û–í–ö–û–ú–ë–ê–ù–ö": "–ü–ê–û ¬´–°–æ–≤–∫–æ–º–±–∞–Ω–∫¬ª",
            "–°–û–í–ö–û–ú": "–ü–ê–û ¬´–°–æ–≤–∫–æ–º–±–∞–Ω–∫¬ª",
            "–û–¢–ö–†–´–¢–ò–ï": "–ü–ê–û –ë–∞–Ω–∫ ¬´–§–ö –û—Ç–∫—Ä—ã—Ç–∏–µ¬ª",
            "–ü–û–ß–¢–ê –ë–ê–ù–ö": "–ü–ê–û ¬´–ü–æ—á—Ç–∞ –ë–∞–Ω–∫¬ª",
            "–ü–û–ß–¢–ê": "–ü–ê–û ¬´–ü–æ—á—Ç–∞ –ë–∞–Ω–∫¬ª",
            "–£–†–ê–õ–°–ò–ë": "–ü–ê–û ¬´–ë–ê–ù–ö –£–†–ê–õ–°–ò–ë¬ª",
            "–£–†–ê–õ –°–ò–ë": "–ü–ê–û ¬´–ë–ê–ù–ö –£–†–ê–õ–°–ò–ë¬ª",
            "–ü–†–û–ú–°–í–Ø–ó–¨–ë–ê–ù–ö": "–ü–ê–û ¬´–ü—Ä–æ–º—Å–≤—è–∑—å–±–∞–Ω–∫¬ª",
            "–ü–†–û–ú–°–í–Ø–ó–¨": "–ü–ê–û ¬´–ü—Ä–æ–º—Å–≤—è–∑—å–±–∞–Ω–∫¬ª",
            "–û–¢–ü –ë–ê–ù–ö": "–ê–û ¬´–û–¢–ü –ë–∞–Ω–∫¬ª",
            "–û–¢–ü": "–ê–û ¬´–û–¢–ü –ë–∞–Ω–∫¬ª",
            "–†–ï–ù–ï–°–°–ê–ù–° –ö–†–ï–î–ò–¢": "–û–û–û –ö–ë ¬´–†–µ–Ω–µ—Å—Å–∞–Ω—Å –ö—Ä–µ–¥–∏—Ç¬ª",
            "–†–ï–ù–ï–°–°–ê–ù–°": "–û–û–û –ö–ë ¬´–†–µ–Ω–µ—Å—Å–∞–Ω—Å –ö—Ä–µ–¥–∏—Ç¬ª",
            "–†–£–°–°–ö–ò–ô –°–¢–ê–ù–î–ê–†–¢": "–ê–û ¬´–ë–∞–Ω–∫ –†—É—Å—Å–∫–∏–π –°—Ç–∞–Ω–¥–∞—Ä—Ç¬ª",
            "–ü–°–ë": "–ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª",
            "–ü–°–ë –ë–ê–ù–ö": "–ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª",
            "–ë–ê–ù–ö –ü–°–ë": "–ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª",
            "–ê–ö –ë–ê–†–°": "–ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫",
            "–ê–ö–ë–ê–†–°": "–ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫",
            "–ù–ê–û –ü–ö–ë": "–ù–ê–û ¬´–ü–ö–ë¬ª",
            "–ù–ê–û –ü–ö–û –ü–ö–ë": "–ù–ê–û ¬´–ü–ö–ë¬ª",
            "–ü–ö–ë": "–ù–ê–û ¬´–ü–ö–ë¬ª",

            # –ú–§–û/–ú–§–ö/–ú–ö–ö
            "–ó–ê–ô–ú–ï–†": "–û–û–û –ú–§–ö ¬´–ó–∞–π–º–µ—Ä¬ª",
            "–ó–ê–ô–ú –≠–†": "–û–û–û –ú–§–ö ¬´–ó–∞–π–º–µ—Ä¬ª",
            "–í–≠–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–ó–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–ï–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ó–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ó–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ë –ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ó–ë –ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "WEBBANKIR": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–¢–£–†–ë–û–ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "–¢–£–†–ë–û –ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "–¢–£–†–ë–û": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "TURBOZAIM": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "–ú–û–ù–ï–ô–ú–ï–ù": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "–ú–ê–ù–ò –ú–ï–ù": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "MONEYMAN": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "MONEY MAN": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "–ú–ò–ì–ö–†–ï–î–ò–¢": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "–ú–ò–ì –ö–†–ï–î–ò–¢": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "–ú–ò–ì": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "MIGCREDIT": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "MIGKREDIT": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "–î–ï–ù–¨–ì–ò –°–†–ê–ó–£": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É¬ª",
            "DENGISRAZY": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É¬ª",
            "DENGI SRAZY": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É¬ª",
            "–ïKAP–£–°–¢–ê": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "–ï –ö–ê–ü–£–°–¢–ê": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "EKAPUSTA": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "E KAPUSTA": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "–õ–ê–ô–ú –ó–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "–õ–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "LIME ZAIM": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "LIMEZAIM": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "–°–†–û–ß–ù–û–î–ï–ù–¨–ì–ò": "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",
            "–°–†–û–ß–ù–û –î–ï–ù–¨–ì–ò": "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",
            "SROCHNODENG–Ü": "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",
            "–î–ï–ù–ï–ñ–ù–ê–Ø –ö–†–ï–ü–û–°–¢–¨": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω–µ–∂–Ω–∞—è –ö—Ä–µ–ø–æ—Å—Ç—å¬ª",
            "–î–ï–ù–ï–ñ –ö–†–ï–ü–û–°–¢–¨": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω–µ–∂–Ω–∞—è –ö—Ä–µ–ø–æ—Å—Ç—å¬ª",
            "–≠–ö–í–ê–ó–ê–ò–ú": "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª",
            "–≠–ö–í–ê–ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª",
            "–≠–ö–í–ê –ó–ê–ò–ú": "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª",
            "–≠–ö–í–ê –ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª",
            "EKVAZAIM": "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª",
            "–ë–´–°–¢–†–û–î–ï–ù–¨–ì–ò": "–û–û–û –ú–ö–ö ¬´–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏¬ª",
            "–ë–´–°–¢–†–û –î–ï–ù–¨–ì–ò": "–û–û–û –ú–ö–ö ¬´–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏¬ª",
            "BISTRODENGI": "–û–û–û –ú–ö–ö ¬´–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏¬ª",
            "–ú–ò–ö–†–û–ó–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–ú–∏–∫—Ä–æ–ó–∞–π–º¬ª",
            "–ú–ò–ö–†–û –ó–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–ú–∏–∫—Ä–æ–ó–∞–π–º¬ª",
            "MICROZAIM": "–û–û–û –ú–§–ö ¬´–ú–∏–∫—Ä–æ–ó–∞–π–º¬ª",
            "–ó–ê–ô–ú–û–ì–†–ê–î": "–û–û–û –ú–ö–ö ¬´–ó–∞–π–º–æ–ì—Ä–∞–¥¬ª",
            "ZAIMO GRAD": "–û–û–û –ú–ö–ö ¬´–ó–∞–π–º–æ–ì—Ä–∞–¥¬ª",
            "ZAIMOGRAD": "–û–û–û –ú–ö–ö ¬´–ó–∞–π–º–æ–ì—Ä–∞–¥¬ª",
            "–†–£–°–ò–ù–¢–ï–†–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–†–£–°–ò–ù–¢–ï–† –§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "RUSINTERFINANS": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            
            # –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            "–í–ï–†–ò–¢–ê–°": "–û–û–û –ú–§–ö ¬´–í–µ—Ä–∏—Ç–∞—Å¬ª",
            "–Æ–ü–ò–¢–ï–† 6": "–û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª",
            "–Æ–ü–ò–¢–ï–†": "–û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª",
            "–í–≠–ó–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–°–ë –°–ï–ö–¨–Æ–†–ò–¢–ò–ó–ê–¶–ò–Ø": "–û–û–û ¬´–°—Ñ–æ –°–± –°–µ–∫—å—é—Ä–∏—Ç–∏–∑–∞—Ü–∏—è¬ª",
            "–°–§–û –°–ë –°–ï–ö–¨–Æ–†–ò–¢–ò–ó–ê–¶–ò–Ø": "–û–û–û ¬´–°—Ñ–æ –°–± –°–µ–∫—å—é—Ä–∏—Ç–∏–∑–∞—Ü–∏—è¬ª",
            "–§–ò–ö–° –§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–§–∏–∫—Å—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–§–ò–ö–°–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–§–∏–∫—Å—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–¢–†–ò–£–ú–í–ò–†–ê–¢": "–û–û–û –ú–ö–ö ¬´–¢—Ä–∏—É–º–≤–∏—Ä–∞—Ç¬ª",
            "–≠–õ–ò–°–¢–ê –ò–ù–í–ï–°–¢": "–û–û–û ¬´–ü–ö–û –≠–ª–∏—Å—Ç–∞ –ò–Ω–≤–µ—Å—Ç¬ª",
            "–ü–ö–û –≠–õ–ò–°–¢–ê –ò–ù–í–ï–°–¢": "–û–û–û ¬´–ü–ö–û –≠–ª–∏—Å—Ç–∞ –ò–Ω–≤–µ—Å—Ç¬ª",
            "–≠–ö–í–ê–ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª",
            "–†–ï–ô–ó–û–†": "–û–û–û –ú–ö–ö ¬´–†–µ–π–∑–æ—Ä¬ª",
            "–ü–ï–ù–ù–ò": "–û–û–û –ú–ö–ö ¬´–ü–µ–Ω–Ω–∏¬ª",
            "–£–ú–ù–´–ô –ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–£–º–Ω—ã–π –ó–∞–π–º¬ª",
            "–ó–ê–ô–ú –≠–ö–°–ü–†–ï–°–°": "–ê–û ¬´–ú–ö–ö –ó–∞–π–º-—ç–∫—Å–ø—Ä–µ—Å—Å¬ª",
            "–ó–ê–ô–ú–≠–ö–°–ü–†–ï–°–°": "–ê–û ¬´–ú–ö–ö –ó–∞–π–º-—ç–∫—Å–ø—Ä–µ—Å—Å¬ª",
            "495 –ö–†–ï–î–ò–¢": "–û–û–û –ú–ö–ö ¬´495 –ö—Ä–µ–¥–∏—Ç¬ª",
            "–ö–ê–ù–ì–ê–†–ò–Ø": "–û–û–û –ú–ö–ö ¬´–ö–∞–Ω–≥–∞—Ä–∏—è¬ª",
            "–ö–ò–¢ –ö–†–ï–î–ò–¢": "–ö–ü–ö ¬´–ö–∏—Ç-–ö—Ä–µ–¥–∏—Ç¬ª",
            "–ë–û–ù–ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–ë–æ–Ω–∑–∞–π–º¬ª",
            "–ö–†–ï–î–ò–¢–¢–ï–†": "–û–û–û –ú–ö–ö ¬´–ö—Ä–µ–¥–∏—Ç—Ç–µ—Ä¬ª",
            "–°–§": "–û–û–û –ú–ö–ö ¬´–°–§¬ª",
            "–î–û–ü–û–õ–£–ß–ö–ò–ù–û": "–û–û–û –ú–ö–ö ¬´–î–æ–ø–æ–ª—É—á–∫–∏–Ω–æ¬ª",
        }

        # –®–∞–≥ 1: –£–±–∏—Ä–∞–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –∏ –∑–Ω–∞–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
        normalized = canonical_name.upper()

        # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
        normalized = normalized.replace('"', '').replace("'", '').replace('¬´', '').replace('¬ª', '')

        # –£–±–∏—Ä–∞–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ —Ñ–æ—Ä–º—ã
        opf_patterns = [
            "–ü–£–ë–õ–ò–ß–ù–û–ï –ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û",
            "–ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û",
            "–û–ë–©–ï–°–¢–í–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ù–û–ô –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨–Æ",
            "–ö–û–ú–ú–ï–†–ß–ï–°–ö–ò–ô –ë–ê–ù–ö",
            "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø –ö–û–ú–ü–ê–ù–ò–Ø",
            "–ú–ò–ö–†–û–ö–†–ï–î–ò–¢–ù–ê–Ø –ö–û–ú–ü–ê–ù–ò–Ø",
            "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø",
            "–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û", "–ó–ê–û",
            "–ú–§–ö", "–ú–ö–ö", "–ú–§–û",
            "–ö–ë", "–ë–ê–ù–ö",
        ]

        for pattern in opf_patterns:
            normalized = normalized.replace(pattern, " ")

        # –£–±–∏—Ä–∞–µ–º —Å–∫–æ–±–∫–∏ –∏ –¥–µ—Ñ–∏—Å—ã
        normalized = normalized.replace("(", " ").replace(")", " ")
        normalized = normalized.replace("-", " ")
        normalized = normalized.replace("  ", " ").replace("  ", " ")  # –î–≤–æ–π–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
        normalized = normalized.strip()

        # –®–∞–≥ 2: –ò—â–µ–º –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
        canonical = CANONICAL_NAMES.get(normalized)

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ
        if not canonical:
            # –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –ø–æ–ª–Ω–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –≤ –∫–ª—é—á–∏
            for key, value in CANONICAL_NAMES.items():
                if normalized == key:
                    canonical = value
                    break

            # –ó–∞—Ç–µ–º –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª–∏–Ω–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º)
            if not canonical:
                matches = []
                for key, value in CANONICAL_NAMES.items():
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
                    # –ù–û –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–ª—é—á–∏ (–º–µ–Ω–µ–µ 4 —Å–∏–º–≤–æ–ª–æ–≤) –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
                    # —á—Ç–æ–±—ã "–ê–õ–¨–§–ê" –Ω–µ —Å–æ–≤–ø–∞–ª–∞ —Å "–°–§–û –ê–õ–¨–§–ê –§–ê–ë–†–ò–ö–ê –ü–ö 1"
                    if key in normalized and len(key) >= 4:
                        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–æ–µ —Å–ª–æ–≤–æ, —É–±–µ–¥–∏–º—Å—è —á—Ç–æ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ
                        if len(key) < 6:
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ (–æ–∫—Ä—É–∂–µ–Ω–æ –ø—Ä–æ–±–µ–ª–∞–º–∏ –∏–ª–∏ –∫—Ä–∞—è–º–∏)
                            words = normalized.split()
                            if key in words:
                                matches.append((len(key), key, value))
                        else:
                            matches.append((len(key), key, value))
                    elif normalized in key and len(normalized) >= 4:
                        matches.append((len(key), key, value))

                # –ë–µ—Ä–µ–º —Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                if matches:
                    matches.sort(reverse=True)  # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–ª–∏–Ω–µ
                    _, normalized, canonical = matches[0]

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ —Å–ª–æ–≤–∞—Ä–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
        if not canonical:
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏ –∏ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤)
            canonical = canonical_name

            # –ï—Å–ª–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Å—å –≤ CAPS, –¥–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ
            if canonical_name.isupper():
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –û–ü–§ –∏–∑ –Ω–∞—á–∞–ª–∞
                opf = ""
                rest = canonical_name
                for pattern in ["–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û"]:
                    if canonical_name.startswith(pattern + " "):
                        opf = pattern
                        rest = canonical_name[len(pattern):].strip()
                        break

                # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏
                rest = rest.replace('"', '').replace("'", '').replace('¬´', '').replace('¬ª', '')

                # –î–µ–ª–∞–µ–º –ø–µ—Ä–≤—É—é –±—É–∫–≤—É –∑–∞–≥–ª–∞–≤–Ω–æ–π, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏
                rest_parts = rest.split()
                rest_formatted = ' '.join(
                    word if word in ["–ú–¢–°", "–í–¢–ë", "–û–¢–ü"] else word.capitalize() 
                    for word in rest_parts
                )

                # –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ
                if opf:
                    canonical = f'{opf} ¬´{rest_formatted}¬ª'
                else:
                    canonical = rest_formatted

        return (normalized, canonical)

    @staticmethod
    def normalize_creditor_names_with_gpt(creditors: List[str]) -> Dict[str, str]:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ GPT –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—á–∞—Ç–æ–∫.
        
        Args:
            creditors: –°–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
            
        Returns:
            –°–ª–æ–≤–∞—Ä—å {–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ: –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ}
        """
        if not creditors:
            return {}
        
        prompt = f"""–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏–π —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –±–∞–Ω–∫–æ–≤ –∏ –ú–§–û.

–ò—Å–ø—Ä–∞–≤—å –æ–ø–µ—á–∞—Ç–∫–∏ –∏ –ø—Ä–∏–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É:
- –ü–ê–û/–ê–û/–û–û–û –≤ –Ω–∞—á–∞–ª–µ
- –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–ú–§–û –≤ –∫–∞–≤—ã—á–∫–∞—Ö-—ë–ª–æ—á–∫–∞—Ö ¬´¬ª
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã
- –û–ø–µ—á–∞—Ç–∫–∏ –∏–ª–∏ –æ—à–∏–±–∫–∏ –≤ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏, –ø—Ä–∏–º–µ—Ä ""–≠–∫–≤–∞–∑–∞–π–º" ‚Üí "–≠–∫–≤–∞–∑–∏–º" –∏–ª–∏ "–î–µ–Ω–µ–∂–Ω–∞—è –ö—Ä–µ–ø–∞—Å—Ç—å" ‚Üí "–î–µ–Ω–µ–∂–Ω–∞—è –ö—Ä–µ–ø–æ—Å—Ç—å"

–ü—Ä–∏–º–µ—Ä—ã:
"–û–±—â–µ—Å—Ç–≤–æ –° –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é –ú–ö–ö –î–µ–Ω–µ–∂–Ω–∞—è –ö—Ä–µ–ø–æ—Å—Ç—å" ‚Üí "–û–û–û –ú–ö–ö ¬´–î–µ–Ω–µ–∂–Ω–∞—è –ö—Ä–µ–ø–æ—Å—Ç—å¬ª"
"–æ–æ–æ –º–∫–∫ —ç–∫–≤–∞–∑–∞–∏–º" ‚Üí "–û–û–û –ú–ö–ö ¬´–≠–∫–≤–∞–∑–∞–π–º¬ª"
"–ü–ê–û –°–ë–ï–†–ë–ê–ù–ö" ‚Üí "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª"
"–ê–û –ê–õ–¨–§–ê-–ë–ê–ù–ö" ‚Üí "–ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª"

–ù–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:
{chr(10).join(f"{i+1}. {name}" for i, name in enumerate(creditors))}

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
{{
  "–ù–∞–∑–≤–∞–Ω–∏–µ 1": "–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ 1",
  "–ù–∞–∑–≤–∞–Ω–∏–µ 2": "–ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ 2"
}}"""

        try:
            response = client.chat.completions.create(
                model="gpt-4o-mini",
                messages=[{"role": "user", "content": prompt}],
                temperature=0.1,
                max_tokens=5000
            )
            
            result_text = response.choices[0].message.content.strip()
            
            # –£–±–∏—Ä–∞–µ–º markdown-—Ä–∞–∑–º–µ—Ç–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å
            if result_text.startswith("```"):
                result_text = result_text.split("```")[1]
                if result_text.startswith("json"):
                    result_text = result_text[4:]
                result_text = result_text.strip()
            
            normalized = json.loads(result_text)
            print(f"[GPT_NORMALIZE] –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ {len(normalized)} –Ω–∞–∑–≤–∞–Ω–∏–π –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤")
            return normalized
        except Exception as e:
            print(f"[GPT_NORMALIZE] –û—à–∏–±–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ GPT: {e}")
            return {}

    @staticmethod
    def select_first_entry(cache: Dict[str, List[Dict[str, Any]]], key: str) -> Dict[str, Any]:
        for item in cache.get(key, []):
            if isinstance(item, dict):
                return item
        return {}

    @staticmethod
    def extract_employers(records: Dict[str, Any]) -> str:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –∏–∑ —Ç—Ä—É–¥–æ–≤–æ–π –∫–Ω–∏–∂–∫–∏."""
        if not records:
            return "–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª–µ –¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞ –∏–∑ GPT
        current_work = records.get("–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞")
        if current_work and current_work != "–ù–µ—Ç":
            # –ö–∞–≤—ã—á–∫–∏-—ë–ª–æ—á–∫–∏
            current_work = current_work.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
            return f"–î–æ–ª–∂–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ {current_work}"
        
        # –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
        entries = records.get("–ó–∞–ø–∏—Å–∏", []) or []
        if not entries:
            return "–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
        
        # –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å (–∑–∞–ø–∏—Å–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ)
        last_entry = entries[-1]
        if last_entry and last_entry.get("–°–æ–±—ã—Ç–∏–µ") != "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ":
            employer = last_entry.get("–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "")
            position = last_entry.get("–î–æ–ª–∂–Ω–æ—Å—Ç—å", "")
            if employer:
                workplace = f"{employer}, {position}" if position else employer
                # –ö–∞–≤—ã—á–∫–∏-—ë–ª–æ—á–∫–∏
                workplace = workplace.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
                return f"–î–æ–ª–∂–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ {workplace}"
        
        return "–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

    @staticmethod
    def extract_current_job(records: Dict[str, Any]) -> str:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –∏–∑ —Ç—Ä—É–¥–æ–≤–æ–π –∫–Ω–∏–∂–∫–∏.
        
        Returns:
            –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –∏–ª–∏ "–ù–µ—Ç" –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
        """
        if not records:
            return "–ù–µ—Ç"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª–µ –¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞ –∏–∑ GPT
        current_work = records.get("–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞")
        if current_work:
            # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–∞–≤—ã—á–∫–∏: –≤—Å–µ –ø—Ä—è–º—ã–µ –∫–∞–≤—ã—á–∫–∏ –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ –µ–ª–æ—á–∫–∏ (–æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ –∏ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ)
            current_work = DocumentProcessor.normalize_quotes(current_work)
            return current_work
        
        # –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
        entries = records.get("–ó–∞–ø–∏—Å–∏", []) or []
        if not entries:
            return "–ù–µ—Ç"
        
        # –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å (–∑–∞–ø–∏—Å–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ)
        last_entry = entries[-1]
        if last_entry and last_entry.get("–°–æ–±—ã—Ç–∏–µ") != "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ":
            employer = last_entry.get("–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "")
            position = last_entry.get("–î–æ–ª–∂–Ω–æ—Å—Ç—å", "")
            if employer:
                # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–∞–≤—ã—á–∫–∏
                employer = DocumentProcessor.normalize_quotes(employer)
                position = DocumentProcessor.normalize_quotes(position)
                return f"{employer}, {position}" if position else employer
        
        return "–ù–µ—Ç"

    @staticmethod
    def format_interested_party(passport_spouse: Dict[str, Any], inn_spouse: Dict[str, Any], snils_spouse: Dict[str, Any]):
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—É–ø—Ä—É–≥–µ (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–º –ª–∏—Ü–µ) —Å –∂–∏—Ä–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.
        
        Args:
            passport_spouse: –î–∞–Ω–Ω—ã–µ –ø–∞—Å–ø–æ—Ä—Ç–∞ —Å—É–ø—Ä—É–≥–∞
            inn_spouse: –î–∞–Ω–Ω—ã–µ –ò–ù–ù —Å—É–ø—Ä—É–≥–∞
            snils_spouse: –î–∞–Ω–Ω—ã–µ –°–ù–ò–õ–° —Å—É–ø—Ä—É–≥–∞
            
        Returns:
            RichText —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
        """
        if not passport_spouse:
            return ""
        
        # –§–ò–û
        fio = passport_spouse.get("–§–ò–û", "")
        if not fio:
            return ""
        
        # –î–∞—Ç–∞ –∏ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è
        birth_date = passport_spouse.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "")
        birth_place = passport_spouse.get("–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è", "")
        
        birth_info = ""
        if birth_date:
            birth_info = f"{birth_date} –≥.—Ä."
            if birth_place:
                birth_info += f", {birth_place}"
        elif birth_place:
            birth_info = birth_place
        
        # –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        address = passport_spouse.get("–ü—Ä–æ–ø–∏—Å–∫–∞", "")
        
        # –°–æ–∑–¥–∞–µ–º RichText —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Times New Roman 12pt
        # size —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–æ–≤–∏–Ω–∞—Ö –ø—É–Ω–∫—Ç–æ–≤: 12pt = size=24
        rt = RichText()
        rt.add("–ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–∏—Ü–æ:", bold=True, font='Times New Roman', size=24)
        rt.add(f"\n{fio}", font='Times New Roman', size=24)
        
        if birth_info:
            rt.add("\n–î–∞—Ç–∞ –∏ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è: ", bold=True, font='Times New Roman', size=24)
            rt.add(f"{birth_info};", font='Times New Roman', size=24)
        
        if address:
            rt.add("\n–ê–¥—Ä–µ—Å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è: ", bold=True, font='Times New Roman', size=24)
            rt.add(f"{address};", font='Times New Roman', size=24)
        
        return rt

    @staticmethod
    def get_yekaterinburg_date() -> Dict[str, str]:
        """–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (Asia/Yekaterinburg, UTC+5).
        
        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏:
            - –ê–î–µ–Ω—å: –¥–µ–Ω—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "12")
            - –ê–ú–µ—Å—è—Ü: –º–µ—Å—è—Ü –Ω–∞ —Ä—É—Å—Å–∫–æ–º —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–µ–∫–∞–±—Ä—è")
            - –ê–ì–æ–¥: –ø–æ–ª–Ω—ã–π –≥–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2025")
            - –ê–ê–ì–æ–¥: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ü–∏—Ñ—Ä—ã –≥–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "25")
        """
        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
        yekaterinburg_tz = ZoneInfo("Asia/Yekaterinburg")
        now = datetime.now(yekaterinburg_tz)
        
        # –ù–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∫–æ–≥–æ? —á–µ–≥–æ?)
        months_genitive = {
            1: "–Ø–Ω–≤–∞—Ä—è",
            2: "–§–µ–≤—Ä–∞–ª—è",
            3: "–ú–∞—Ä—Ç–∞",
            4: "–ê–ø—Ä–µ–ª—è",
            5: "–ú–∞—è",
            6: "–ò—é–Ω—è",
            7: "–ò—é–ª—è",
            8: "–ê–≤–≥—É—Å—Ç–∞",
            9: "–°–µ–Ω—Ç—è–±—Ä—è",
            10: "–û–∫—Ç—è–±—Ä—è",
            11: "–ù–æ—è–±—Ä—è",
            12: "–î–µ–∫–∞–±—Ä—è"
        }
        
        return {
            "–ê–î–µ–Ω—å": str(now.day),
            "–ê–ú–µ—Å—è—Ü": months_genitive[now.month],
            "–ê–ì–æ–¥": str(now.year),
            "–ê–ê–ì–æ–¥": str(now.year)[-2:]  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ü–∏—Ñ—Ä—ã
        }

    @staticmethod
    def calculate_bank_accounts(data_list: List[Dict[str, Any]]) -> int:
        total_accounts = 0
        for data in data_list:
            accounts = data.get("–°—á–µ—Ç–∞") or []
            if isinstance(accounts, list):
                total_accounts += len(accounts)
        return total_accounts

    @staticmethod
    def describe_real_estate(data_list: List[Dict[str, Any]]) -> str:
        descriptions: List[str] = []
        for data in data_list:
            obj = data.get("–û–±—ä–µ–∫—Ç") or {}
            parts: List[str] = []
            vid = obj.get("–í–∏–¥")
            address = obj.get("–ê–¥—Ä–µ—Å")
            area = obj.get("–ü–ª–æ—â–∞–¥—å")
            if vid:
                parts.append(str(vid))
            if address:
                parts.append(f"–∞–¥—Ä–µ—Å: {address}")
            if area:
                parts.append(f"–ø–ª–æ—â–∞–¥—å {area}")
            if parts:
                descriptions.append(", ".join(parts))
        return "; ".join(descriptions)

    @staticmethod
    def determine_children_status(children: Optional[List[Dict[str, Any]]], data_map: Dict[str, List[Dict[str, Any]]] = None) -> str:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π.
        
        Args:
            children: —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
            data_map: —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏)
        """
        today = date.today()
        minors: List[str] = []
        
        # –°–æ–±–∏—Ä–∞–µ–º –¥–µ—Ç–µ–π –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
        if children:
            for child in children:
                if not isinstance(child, dict):
                    continue
                name = child.get("–§–ò–û") or ""
                dob_str = child.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                if not dob_str:
                    continue
                try:
                    dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                    age_years = (today - dob).days / 365.25
                    if age_years < 18:
                        entry = f"{name} {dob_str} –≥.—Ä." if name else f"{dob_str} –≥.—Ä."
                        minors.append(entry.strip())
                except ValueError:
                    continue
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏
        if data_map:
            birth_certificates = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–æ–∂–¥–µ–Ω–∏–∏", [])
            for cert in birth_certificates:
                if not isinstance(cert, dict):
                    continue
                
                # –ù–û–í–´–ô –§–û–†–ú–ê–¢: –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –≤ –æ–¥–Ω–æ–º PDF)
                children_array = cert.get("–î–µ—Ç–∏")
                if children_array and isinstance(children_array, list):
                    for child_data in children_array:
                        if not isinstance(child_data, dict):
                            continue
                        name = child_data.get("–†–µ–±–µ–Ω–æ–∫_–§–ò–û") or ""
                        dob_str = child_data.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                        if not dob_str:
                            continue
                        try:
                            dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                            age_years = (today - dob).days / 365.25
                            if age_years < 18:
                                entry = f"{name} {dob_str} –≥.—Ä." if name else f"{dob_str} –≥.—Ä."
                                if entry.strip() not in minors:
                                    minors.append(entry.strip())
                        except ValueError:
                            continue
                else:
                    # –°–¢–ê–†–´–ô –§–û–†–ú–ê–¢: –æ–¥–Ω–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ = –æ–¥–∏–Ω —Ä–µ–±–µ–Ω–æ–∫ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
                    name = cert.get("–†–µ–±–µ–Ω–æ–∫_–§–ò–û") or ""
                    dob_str = cert.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                    if not dob_str:
                        continue
                    try:
                        dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                        age_years = (today - dob).days / 365.25
                        if age_years < 18:
                            entry = f"{name} {dob_str} –≥.—Ä." if name else f"{dob_str} –≥.—Ä."
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–∞–∫–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –µ—â–µ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ
                            if entry.strip() not in minors:
                                minors.append(entry.strip())
                    except ValueError:
                        continue
        
        if minors:
            return "; ".join(minors)
        return "–Ω–µ—Ç"

    @staticmethod
    def get_marital_status_key(passport: Dict[str, Any], data_map: Dict[str, List[Dict[str, Any]]] = None) -> str:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ {{–ñ–µ–Ω–∞—Ç–∑–∞–º—É–∂–µ–º}}.
        
        Args:
            passport: –¥–∞–Ω–Ω—ã–µ –ø–∞—Å–ø–æ—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∏–∫–∞
            data_map: —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ –±—Ä–∞–∫–µ)
            
        Returns:
            –°—Ç—Ä–æ–∫–∞: "–∂–µ–Ω–∞—Ç, —Å—É–ø—Ä—É–≥–∞ –§–ò–û –î–î.–ú–ú.–ì–ì–ì–ì –≥.—Ä." –∏–ª–∏ "–∑–∞–º—É–∂–µ–º, —Å—É–ø—Ä—É–≥ –§–ò–û –î–î.–ú–ú.–ì–ì–ì–ì –≥.—Ä." –∏–ª–∏ "–Ω–µ –≤ –±—Ä–∞–∫–µ"
        """
        if not passport:
            return "–Ω–µ –≤ –±—Ä–∞–∫–µ"
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª –¥–æ–ª–∂–Ω–∏–∫–∞
        gender = (passport.get("–ü–æ–ª") or "").lower()
        is_male = "–º—É–∂" in gender
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ
        marital_status = (passport.get("–°–µ–º–µ–π–Ω–æ–µ_–ø–æ–ª–æ–∂–µ–Ω–∏–µ") or "").lower()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –±—Ä–∞–∫–µ
        has_marriage = False
        spouse_fio = ""
        spouse_dob = ""
        
        if data_map:
            marriage_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ", [])
            if marriage_certs:
                has_marriage = True
                # –ë–µ—Ä–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
                cert = marriage_certs[0]
                if isinstance(cert, dict):
                    # –¢–µ–ø–µ—Ä—å –≤ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–µ –æ –±—Ä–∞–∫–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –ø–æ–ª–µ - –°—É–ø—Ä—É–≥_–§–ò–û (—Å—É–ø—Ä—É–≥ –¥–æ–ª–∂–Ω–∏–∫–∞)
                    # GPT —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª –∫—Ç–æ —Å—É–ø—Ä—É–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞
                    spouse_fio = cert.get("–°—É–ø—Ä—É–≥_–§–ò–û", "")
                    spouse_dob = cert.get("–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "")
                    
                    print(f"[–ë–†–ê–ö] –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ –Ω–∞–π–¥–µ–Ω–æ:")
                    print(f"  –°—É–ø—Ä—É–≥ –¥–æ–ª–∂–Ω–∏–∫–∞: {spouse_fio} ({spouse_dob})")
        
        # –ï—Å–ª–∏ –Ω–µ—Ç —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –±—Ä–∞–∫–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º –§–ò–û —Å—É–ø—Ä—É–≥–∞ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ
        if not has_marriage and passport.get("–§–ò–û_—Å—É–ø—Ä—É–≥–∞"):
            spouse_fio = passport.get("–§–ò–û_—Å—É–ø—Ä—É–≥–∞", "")
            spouse_dob = passport.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è_—Å—É–ø—Ä—É–≥–∞", "")
            print(f"[–ë–†–ê–ö] –§–ò–û —Å—É–ø—Ä—É–≥–∞ –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞: {spouse_fio} ({spouse_dob})")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞
        has_divorce = False
        if data_map:
            divorce_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏_–±—Ä–∞–∫–∞", [])
            if divorce_certs:
                has_divorce = True
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
        # –ï—Å–ª–∏ –µ—Å—Ç—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ - –±—Ä–∞–∫ —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–∞—Å–ø–æ—Ä—Ç–∞
        if has_divorce:
            return "–Ω–µ –≤ –±—Ä–∞–∫–µ"
        
        is_married = has_marriage or "–∂–µ–Ω–∞—Ç" in marital_status or "–∑–∞–º—É–∂–µ–º" in marital_status
        not_married = "–Ω–µ –∂–µ–Ω–∞—Ç" in marital_status or "–Ω–µ –∑–∞–º—É–∂–µ–º" in marital_status
        
        if not_married or not is_married:
            return "–Ω–µ –≤ –±—Ä–∞–∫–µ"
        
        # –ï—Å–ª–∏ –≤ –±—Ä–∞–∫–µ, —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç
        if is_male:
            status = "–∂–µ–Ω–∞—Ç"
            spouse_title = "—Å—É–ø—Ä—É–≥–∞"
        else:
            status = "–∑–∞–º—É–∂–µ–º"
            spouse_title = "—Å—É–ø—Ä—É–≥"
        
        if spouse_fio and spouse_dob:
            return f"{status}, {spouse_title} {spouse_fio} {spouse_dob} –≥.—Ä."
        elif spouse_fio:
            return f"{status}, {spouse_title} {spouse_fio}"
        else:
            return status.capitalize()

    @staticmethod
    def extract_real_estate_from_notifications(notification_list: List[Dict[str, Any]], owner_fio: str = "") -> List[str]:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ï–ì–†–ù –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏."""
        descriptions = []

        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        for notification in notification_list:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
            if notification.get("–†–µ–∑—É–ª—å—Ç–∞—Ç") != "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                continue

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è
            holder = notification.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å", {})
            holder_fio = holder.get("–§–ò–û", "") if isinstance(holder, dict) else ""

            # –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è (–∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞), –∑–Ω–∞—á–∏—Ç –∑–∞–ø—Ä–æ—Å –±—ã–ª –æ–± —ç—Ç–æ–º –æ–±—ä–µ–∫—Ç–µ
            territory = notification.get("–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è", "")

            if territory:
                # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –Ω–µ—Ç –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –µ—Å—Ç—å –∞–¥—Ä–µ—Å
                parts = []
                parts.append("–∂–∏–ª–æ–π –¥–æ–º")  # –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º —Ç–∏–ø –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
                parts.append("–æ–±—â–∞—è –¥–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å")
                parts.append("–¥–æ–ª—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞")  # –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –Ω–µ –∑–Ω–∞–µ–º –¥–æ–ª—é
                parts.append(f"–º–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ: {territory}")

                # –ï—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä—É–≥–æ–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ
                if holder_fio and holder_fio != owner_fio:
                    parts.append(f"(—Å–æ—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫: {holder_fio})")

                descriptions.append(", ".join(parts))

        return descriptions

    @staticmethod
    def format_real_estate_detailed(data_list: List[Dict[str, Any]], owner_fio: str = "", notification_list: Optional[List[Dict[str, Any]]] = None, inventory_list: Optional[List[Dict[str, Any]]] = None) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –≤–∏–¥–µ, —Ñ–∏–ª—å—Ç—Ä—É—è –ø–æ –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞.

        –£—á–∏—Ç—ã–≤–∞–µ—Ç:
        1. –ü–æ–ª–Ω—ã–µ –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù (data_list)
        2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ï–ì–†–ù (notification_list) - –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –¥–æ–ª–µ–≤—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
        3. –û–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ (inventory_list) - –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, —É–∫–∞–∑–∞–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∏–∫–æ–º –≤ –æ–ø–∏—Å–∏
        """
        descriptions: List[str] = []
        processed_cadastral_numbers = set() # –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å—Ç—å –∏ –≤—ã–ø–∏—Å–∫–∞, –∏ –æ–ø–∏—Å—å)

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–Ω—ã–µ –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù
        if data_list:
            for data in data_list:
                # –ù–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê: –º–∞—Å—Å–∏–≤ "–û–±—ä–µ–∫—Ç—ã"
                objects = data.get("–û–±—ä–µ–∫—Ç—ã", [])
                
                # –ï—Å–ª–∏ –Ω–µ—Ç –º–∞—Å—Å–∏–≤–∞ "–û–±—ä–µ–∫—Ç—ã", –∑–Ω–∞—á–∏—Ç —ç—Ç–æ —Å—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
                if not objects:
                    objects = [data]  # –°—Ç–∞—Ä–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –≤–µ—Å—å data - —ç—Ç–æ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
                
                # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç
                for obj_item in objects:
                    obj = obj_item.get("–û–±—ä–µ–∫—Ç") or {}
                    kadaster = obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä") or obj_item.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", "")
                    owners = obj_item.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏", [])
                    
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ (–¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
                    vid = obj.get("–í–∏–¥", "").lower()
                    address = obj.get("–ê–¥—Ä–µ—Å", "")
                    area = obj.get("–ü–ª–æ—â–∞–¥—å", "")

                    # –§–ò–õ–¨–¢–†: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (–¥–∞—Ç–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞ —É–∫–∞–∑–∞–Ω–∞)
                    has_active_ownership = False
                    for –ø—Ä–∞–≤–æ in owners:
                        –¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è = (–ø—Ä–∞–≤–æ.get("–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or 
                                          –ø—Ä–∞–≤–æ.get("–¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or
                                          –ø—Ä–∞–≤–æ.get("–¥–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or
                                          –ø—Ä–∞–≤–æ.get("–î–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or "")
                        # "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" -> –ø—Ä–∞–≤–æ –ù–ï –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ, –∑–Ω–∞—á–∏—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ
                        # –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞—è -> —Ç–æ–∂–µ —Å—á–∏—Ç–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–º (–æ–±—ã—á–Ω–æ)
                        # –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –¥–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 03.12.2019) -> –∑–Ω–∞—á–∏—Ç –ø—Ä–∞–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ
                        
                        # –ù–æ –∏–Ω–æ–≥–¥–∞ –ø–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞" = "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
                        # –≠—Ç–æ –∑–Ω–∞—á–∏—Ç –û–ë–™–ï–ö–¢ –ï–°–¢–¨ (–ø—Ä–∞–≤–æ –ù–ï –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ).
                        
                        # –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞
                        term_val = str(–¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è).lower().strip()
                        is_terminated = False
                        
                        if term_val:
                            # 1. –ï—Å–ª–∏ —è–≤–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" –∏–ª–∏ "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö" - –ø—Ä–∞–≤–æ –ê–ö–¢–ò–í–ù–û
                            # –≠—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é: "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" -> –≤–∫–ª—é—á–∞—Ç—å –≤ —Å–ø–∏—Å–æ–∫
                            # –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—Ä–∞–∑—ã —Ç–∏–ø–∞ "–ü—Ä–∞–≤–æ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" (–ì–æ—Å—É—Å–ª—É–≥–∏)
                            if (
                                "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" in term_val or 
                                "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ" in term_val or 
                                "–Ω–µ—Ç" in term_val or
                                "–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ" in term_val or
                                "–∞–∫—Ç–∏–≤–Ω–æ" in term_val
                            ):
                                is_terminated = False
                                # Debug log
                                if term_val != "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                                    print(f"[REAL_ESTATE] Termination string '{term_val}' treated as ACTIVE")
                            
                            # 2. –ï—Å–ª–∏ –µ—Å—Ç—å —Ü–∏—Ñ—Ä—ã (–ø–æ—Ö–æ–∂–µ –Ω–∞ –¥–∞—Ç—É) - –ø—Ä–∞–≤–æ –ü–†–ï–ö–†–ê–©–ï–ù–û
                            elif any(char.isdigit() for char in term_val):
                                is_terminated = True
                            
                            # 3. –ò–Ω–∞—á–µ (—Ç–µ–∫—Å—Ç –±–µ–∑ —Ü–∏—Ñ—Ä/–¥–∞—Ç) - –ø—Ä–∞–≤–æ –ê–ö–¢–ò–í–ù–û
                            else:
                                is_terminated = False
                        
                        if not is_terminated:
                            has_active_ownership = True
                            break
                    
                    if not has_active_ownership:
                        print(f"[REAL_ESTATE_DETAILED] Skipping {vid} - no active ownership")
                        continue  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

                    # –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–º
                    if owner_fio and owners:
                        owner_found = False
                        owner_info = None
                        print(f"[REAL_ESTATE_DETAILED] Checking {len(owners)} owners for {vid}, looking for: {owner_fio}")
                        for owner in owners:
                            if isinstance(owner, dict):
                                owner_name = owner.get("–§–ò–û", "")
                                print(f"[REAL_ESTATE_DETAILED]   Checking owner: {owner_name}")
                                if owner_name and owner_fio.lower() in owner_name.lower():
                                    owner_found = True
                                    owner_info = owner
                                    print(f"[REAL_ESTATE_DETAILED]   MATCH found!")
                                    break

                        # –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –Ω–µ –Ω–∞–π–¥–µ–Ω —Å—Ä–µ–¥–∏ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç
                        if not owner_found:
                            print(f"[REAL_ESTATE_DETAILED] Skipping {vid} - owner {owner_fio} not found among {len(owners)} owners")
                            continue
                    else:
                        # –ï—Å–ª–∏ –§–ò–û –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±–µ—Ä–µ–º –ø–µ—Ä–≤–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
                        owner_info = owners[0] if owners and isinstance(owners, list) and len(owners) > 0 else None

                    print(f"[REAL_ESTATE_DETAILED] Object: vid={vid}, cadastral={kadaster}, address={address[:50] if address else 'N/A'}")
                    
                    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–≤–∞—Ä—Ç–∏—Ä—ã - —É–±—Ä–∞–ª–∏ —ç—Ç–æ—Ç —Ñ–∏–ª—å—Ç—Ä, —á—Ç–æ–±—ã –≤—Å—ë –ø–æ–ø–∞–¥–∞–ª–æ –≤ –æ–±—â—É—é —Å—Ç—Ä–æ–∫—É
                    # if "–∫–≤–∞—Ä—Ç–∏—Ä" in vid or "–∫–æ–º–Ω–∞—Ç" in vid or "–ø–æ–º–µ—â–µ–Ω" in vid:
                    #     print(f"[REAL_ESTATE_DETAILED] Skipping apartment/room: {vid}")
                    #     continue

                    parts = []
                    print(f"[REAL_ESTATE_DETAILED] Creating parts for {vid}, owner_info exists: {owner_info is not None}")

                    # –í–∏–¥ –æ–±—ä–µ–∫—Ç–∞
                    if vid:
                        parts.append(vid)
                        print(f"[REAL_ESTATE_DETAILED]   Added vid: {vid}")

                    # –¢–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –¥–æ–ª—è
                    if owners and isinstance(owners, list) and len(owners) > 0:
                        # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π GPT –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
                        ownership_type = ""
                        share = ""
                        if owner_info:
                            ownership_type = (owner_info.get("–¢–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏") or "").strip()
                            share = (owner_info.get("–î–æ–ª—è") or "").strip()
                        
                        # –î–æ–±–∞–≤–ª—è–µ–º —Ç–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –µ—Å–ª–∏ –æ–Ω –∏–∑–≤–ª–µ—á–µ–Ω
                        if ownership_type:
                            parts.append(ownership_type)
                        
                        # –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ª—é –µ—Å–ª–∏ –æ–Ω–∞ —É–∫–∞–∑–∞–Ω–∞ –∏ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è –¥—Ä–æ–±—å
                        if share and ("/" in share or share == "1"):
                            if share != "1/1" and share != "1":
                                parts.append(f"{share} –¥–æ–ª—è")

                    # –ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä
                    if kadaster:
                        parts.append(f"–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä: {kadaster}")

                    # –ü–ª–æ—â–∞–¥—å
                    if area:
                        parts.append(f"–ø–ª–æ—â–∞–¥—å: {area} –∫–≤. –º.")

                    # –ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ
                    if address:
                        parts.append(f"–º–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ: {address}")

                    # –û—Å–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                    if owner_info:
                        doc = owner_info.get("–î–æ–∫—É–º–µ–Ω—Ç", "")
                        reg_date = owner_info.get("–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "")
                        if doc:
                            base_text = f"–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {doc}"
                            if reg_date:
                                base_text += f", –≤—ã–¥–∞–Ω {reg_date}"
                            parts.append(base_text)

                    print(f"[REAL_ESTATE_DETAILED] Parts for {vid}: {parts}")
                    if parts:
                        description = ", ".join(parts)
                        print(f"[REAL_ESTATE_DETAILED] Adding description: {description[:100]}")
                        descriptions.append(description)
                else:
                    print(f"[REAL_ESTATE_DETAILED] No parts for {vid}, skipping")

        # –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ï–ì–†–ù, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –¥–æ–ª–µ–≤—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
        if notification_list:
            notification_estates = DocumentProcessor.extract_real_estate_from_notifications(
                notification_list, owner_fio
            )
            descriptions.extend(notification_estates)

        # –í–ê–ñ–ù–û: –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏–∑ –û–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ (–µ—Å–ª–∏ –æ–Ω–∞ —Ç–∞–º –µ—Å—Ç—å)
        if inventory_list:
            print(f"[REAL_ESTATE_DETAILED] Checking inventory list ({len(inventory_list)} items)")
            for inv in inventory_list:
                estates = inv.get("–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", [])
                if not estates:
                    continue
                
                for estate in estates:
                    vid = estate.get("–í–∏–¥", "") or estate.get("–ö–∞—Ç–µ–≥–æ—Ä–∏—è", "") or ""
                    # –ï—Å–ª–∏ –≤–∏–¥ —è–≤–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç "–∞–≤—Ç–æ" –∏–ª–∏ "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç" - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, —ç—Ç–æ –¥–≤–∏–∂–∏–º–æ–µ
                    if "–∞–≤—Ç–æ" in vid.lower() or "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç" in vid.lower():
                        continue
                        
                    addr = estate.get("–ê–¥—Ä–µ—Å", "")
                    kadaster = estate.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", "")
                    
                    # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–º—É –Ω–æ–º–µ—Ä—É –∏ –∞–¥—Ä–µ—Å—É
                    is_duplicate = False
                    if kadaster:
                         for d in descriptions:
                             if kadaster in d:
                                 is_duplicate = True
                                 break
                    
                    if not is_duplicate and addr:
                        for d in descriptions:
                            if addr.lower() in d.lower():
                                is_duplicate = True
                                break
                    
                    if is_duplicate:
                        print(f"[REAL_ESTATE_DETAILED] Skip inventory item (duplicate): {addr} {kadaster}")
                        continue

                    # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –æ–ø–∏—Å–∏
                    parts = []
                    if vid: parts.append(vid.capitalize())
                    if kadaster: parts.append(f"–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä {kadaster}")
                    if addr: parts.append(f"–∞–¥—Ä–µ—Å: {addr}")
                    if estate.get("–ü–ª–æ—â–∞–¥—å"): parts.append(f"–ø–ª–æ—â–∞–¥—å: {estate.get('–ü–ª–æ—â–∞–¥—å')}")
                    
                    # –í–∏–¥ –ø—Ä–∞–≤–∞
                    right_type = estate.get("–í–∏–¥_–ø—Ä–∞–≤–∞") or estate.get("–û—Å–Ω–æ–≤–∞–Ω–∏–µ")
                    if right_type: parts.append(right_type)
                    
                    if estate.get("–°—Ç–æ–∏–º–æ—Å—Ç—å"): parts.append(f"—Å—Ç–æ–∏–º–æ—Å—Ç—å: {estate.get('–°—Ç–æ–∏–º–æ—Å—Ç—å')}")
                    
                    if parts:
                        full_desc = ", ".join(parts)
                        print(f"[REAL_ESTATE_DETAILED] Adding from inventory: {full_desc[:100]}")
                        descriptions.append(full_desc)

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_movable_property(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–≤–∏–∂–∏–º–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–∑ –ì–ò–ë–î–î)."""
        if not data_list:
            return "–Ω–µ—Ç"

        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –º–∞—Å—Å–∏–≤–æ–º –≤ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
        all_vehicles = []
        for data in data_list:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç: {"–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç": true, "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞": [...]}
            if "–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç" in data:
                if data.get("–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç") is True and "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞" in data:
                    # –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –¢–° –∏–∑ –º–∞—Å—Å–∏–≤–∞
                    vehicles_array = data.get("–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞", [])
                    if isinstance(vehicles_array, list):
                        all_vehicles.extend(vehicles_array)
                # –ï—Å–ª–∏ –ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç = false, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º (—Å–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏)
            else:
                # –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç: –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç = –æ–¥–Ω–æ –¢–°
                all_vehicles.append(data)

        # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ VIN (–≤–∫–ª—é—á–∞—è –Ω–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫)
        seen_vins = {} # Map cleaned_vin -> data
        deduplicated = []
        
        for data in all_vehicles:
            raw_vin = data.get("VIN", "")
            
            # –ï—Å–ª–∏ VIN –Ω–µ—Ç, –¥–æ–±–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
            if not raw_vin:
                deduplicated.append(data)
                continue
                
            # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è VIN (—É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã, —Ç–∏—Ä–µ –∏ –ø—Ä–∏–≤–æ–¥–∏–º –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É)
            current_vin = re.sub(r'[^A-Z0-9]', '', raw_vin.upper())
            if not current_vin:
                deduplicated.append(data)
                continue
            
            is_duplicate = False
            best_match_vin = None
            
            # 1. –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
            if current_vin in seen_vins:
                is_duplicate = True
                best_match_vin = current_vin
            else:
                # 2. –ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫ (–¥–ª—è –±–æ—Ä—å–±—ã —Å –æ—à–∏–±–∫–∞–º–∏ OCR: 8 vs 3, D vs 0, 8 vs 6)
                # –ü–æ—Ä–æ–≥ 0.8 –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–π—Ç–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—Ä–∏ ~3 —Ä–∞–∑–ª–∏—á–∏—è—Ö –≤ 17 —Å–∏–º–≤–æ–ª–∞—Ö
                best_ratio = 0.0
                for seen_vin in seen_vins:
                    ratio = difflib.SequenceMatcher(None, current_vin, seen_vin).ratio()
                    if ratio > best_ratio:
                        best_ratio = ratio
                        best_match_vin = seen_vin
                
                if best_ratio > 0.8:
                    is_duplicate = True
                    print(f"      [DEDUP] –ù–∞–π–¥–µ–Ω –Ω–µ—á–µ—Ç–∫–∏–π –¥—É–±–ª–∏–∫–∞—Ç VIN: {current_vin} ~ {best_match_vin} (ratio: {best_ratio:.2f})")
            
            if is_duplicate and best_match_vin:
                # –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–∏
                existing_data = seen_vins[best_match_vin]
                
                existing_doc_type = str(existing_data.get("–î–æ–∫—É–º–µ–Ω—Ç", {}).get("–¢–∏–ø", "")).upper()
                current_doc_type = str(data.get("–î–æ–∫—É–º–µ–Ω—Ç", {}).get("–¢–∏–ø", "")).upper()
                
                # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–¢–° > –ü–¢–° > –î–æ–≥–æ–≤–æ—Ä
                def get_priority(doc_type):
                    if "–°–¢–°" in doc_type or "–°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–û" in doc_type: return 3
                    if "–ü–¢–°" in doc_type or "–ü–ê–°–ü–û–†–¢" in doc_type: return 2
                    return 1
                
                current_prio = get_priority(current_doc_type)
                existing_prio = get_priority(existing_doc_type)
                
                if current_prio > existing_prio:
                    # –ó–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—É—é –∑–∞–ø–∏—Å—å –Ω–∞ –Ω–æ–≤—É—é, –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é
                    deduplicated.remove(existing_data)
                    deduplicated.append(data)
                    # –û–±–Ω–æ–≤–ª—è–µ–º –º–∞–ø–ø–∏–Ω–≥. –ï—Å–ª–∏ VIN –±—ã–ª —Ä–∞–∑–Ω—ã–π (fuzzy), —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –∫–ª—é—á, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π
                    if best_match_vin != current_vin:
                        del seen_vins[best_match_vin]
                    seen_vins[current_vin] = data
                    print(f"      [DEDUP] –û–±–Ω–æ–≤–ª–µ–Ω–æ: {existing_doc_type} -> {current_doc_type}")
                else:
                    print(f"      [DEDUP] –û—Å—Ç–∞–≤–ª–µ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ: {existing_doc_type} (vs {current_doc_type})")
            else:
                # –ù–æ–≤–µ–Ω—å–∫–∏–π
                seen_vins[current_vin] = data
                deduplicated.append(data)

        descriptions = []
        for data in deduplicated:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–ø—Ä–∞–≤–∫–∞ –ª–∏ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
            if data.get("–†–µ–∑—É–ª—å—Ç–∞—Ç") == "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç":
                continue
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–Ω—è—Ç–æ –ª–∏ –¢–° —Å —É—á–µ—Ç–∞ (–ø—Ä–æ–¥–∞–Ω–æ/—É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
            special_notes = data.get("–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏", "")
            if special_notes and isinstance(special_notes, str):
                special_lower = special_notes.lower()
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¢–°, –∫–æ—Ç–æ—Ä—ã–µ —Å–Ω—è—Ç—ã —Å —É—á–µ—Ç–∞
                if any(keyword in special_lower for keyword in ["—Å–Ω—è—Ç–æ —Å —É—á–µ—Ç–∞", "–ø—Ä–æ–¥–∞–∂", "–ø—Ä–æ–¥–∞–Ω", "–ø–µ—Ä–µ–¥–∞—á", "—É—Ç–∏–ª–∏–∑–∞—Ü"]):
                    continue

            parts = []

            # –¢–∏–ø –¢–° + –ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å (—á–∞—Å—Ç–æ GPT –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö)
            ts_type = data.get("–¢–∏–ø_–¢–°", "")
            brand_model = data.get("–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å", "")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –ª–∏ —Ç–∏–ø –≤ –º–∞—Ä–∫–µ
            if brand_model and ts_type and brand_model.lower().startswith(ts_type.lower()):
                # –¢–∏–ø —É–∂–µ –≤ –º–∞—Ä–∫–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –º–∞—Ä–∫—É
                parts.append(brand_model)
            elif ts_type and brand_model:
                # –¢–∏–ø –∏ –º–∞—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
                parts.append(ts_type)
                parts.append(brand_model)
            elif brand_model:
                # –¢–æ–ª—å–∫–æ –º–∞—Ä–∫–∞
                parts.append(brand_model)
            elif ts_type:
                # –¢–æ–ª—å–∫–æ —Ç–∏–ø
                parts.append(ts_type)

            # –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
            year = data.get("–ì–æ–¥_–≤—ã–ø—É—Å–∫–∞", "")
            if year:
                parts.append(f"{year} –≥–æ–¥–∞ –≤—ã–ø—É—Å–∫–∞")

            # –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä
            gov_num = data.get("–ì–æ—Å_–Ω–æ–º–µ—Ä", "")
            if gov_num:
                parts.append(f"–≥–æ—Å. –Ω–æ–º–µ—Ä: {gov_num}")

            # VIN
            vin = data.get("VIN", "")
            if vin:
                parts.append(f"VIN: {vin}")

            # –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            doc = data.get("–î–æ–∫—É–º–µ–Ω—Ç", {})
            if isinstance(doc, dict):
                reg_date = doc.get("–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "")
                if reg_date:
                    parts.append(f"–¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {reg_date}")

            if parts:
                descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_shares(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∞–∫—Ü–∏–∏ –∏ —É—á–∞—Å—Ç–∏–µ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            parts = []

            # –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            org = data.get("–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", {})
            if isinstance(org, dict):
                org_name = org.get("–ù–∞–∑–≤–∞–Ω–∏–µ", "")
                org_form = org.get("–§–æ—Ä–º–∞", "")
                org_inn = org.get("–ò–ù–ù", "")

                if org_name:
                    if org_form:
                        parts.append(f"{org_form} \"{org_name}\"")
                    else:
                        parts.append(f"\"{org_name}\"")

                    if org_inn:
                        parts.append(f"–ò–ù–ù: {org_inn}")

            # –î–æ–ª—è —É—á–∞—Å—Ç–∏—è
            participant = data.get("–£—á–∞—Å—Ç–Ω–∏–∫", {})
            if isinstance(participant, dict):
                share = participant.get("–î–æ–ª—è", "")
                if share:
                    parts.append(f"–¥–æ–ª—è: {share}")

                nominal = participant.get("–ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")
                if nominal:
                    parts.append(f"–Ω–æ–º–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {nominal}")

            if parts:
                descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_securities(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ü–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            securities_list = data.get("–¶–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏", [])
            depositary = data.get("–î–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π", "")
            account = data.get("–ù–æ–º–µ—Ä_—Å—á–µ—Ç–∞", "")
            total_value = data.get("–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")

            if securities_list:
                for sec in securities_list:
                    parts = []

                    # –¢–∏–ø –∏ —ç–º–∏—Ç–µ–Ω—Ç
                    sec_type = sec.get("–¢–∏–ø", "")
                    emitent = sec.get("–≠–º–∏—Ç–µ–Ω—Ç", "")

                    if sec_type:
                        parts.append(sec_type)
                    if emitent:
                        parts.append(f"—ç–º–∏—Ç–µ–Ω—Ç: {emitent}")

                    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å
                    quantity = sec.get("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ", "")
                    value = sec.get("–¢–µ–∫—É—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")

                    if quantity:
                        parts.append(f"–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: {quantity}")
                    if value:
                        parts.append(f"—Å—Ç–æ–∏–º–æ—Å—Ç—å: {value}")

                    # ISIN
                    isin = sec.get("ISIN", "")
                    if isin:
                        parts.append(f"ISIN: {isin}")

                    if parts:
                        descriptions.append(", ".join(parts))

            # –ï—Å–ª–∏ –Ω–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –µ—Å—Ç—å –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            if not descriptions and (depositary or total_value):
                parts = []
                if depositary:
                    parts.append(f"–¥–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π: {depositary}")
                if account:
                    parts.append(f"—Å—á–µ—Ç: {account}")
                if total_value:
                    parts.append(f"–æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è: {total_value}")
                if parts:
                    descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_cash_valuables(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏ –∏–Ω–æ–µ —Ü–µ–Ω–Ω–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ (–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ, –∫–æ–ª–ª–µ–∫—Ü–∏–∏)."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []

        for data in data_list:
            # –ù–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
            cash = data.get("–ù–∞–ª–∏—á–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞", {})
            if isinstance(cash, dict):
                cash_parts = []
                for currency, amount in cash.items():
                    if amount:
                        if currency == "RUB":
                            cash_parts.append(f"{amount} —Ä—É–±.")
                        elif currency == "USD":
                            cash_parts.append(f"{amount} –¥–æ–ª–ª–∞—Ä–æ–≤ –°–®–ê")
                        elif currency == "EUR":
                            cash_parts.append(f"{amount} –µ–≤—Ä–æ")
                        else:
                            cash_parts.append(f"{amount} ({currency})")

                if cash_parts:
                    descriptions.append("–Ω–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞: " + ", ".join(cash_parts))

            # –ò–º—É—â–µ—Å—Ç–≤–æ (–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ —Ç.–¥.)
            items = data.get("–ò–º—É—â–µ—Å—Ç–≤–æ", [])
            for item in items:
                parts = []

                category = item.get("–ö–∞—Ç–µ–≥–æ—Ä–∏—è", "")
                description = item.get("–û–ø–∏—Å–∞–Ω–∏–µ", "")
                characteristics = item.get("–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏", "")
                value = item.get("–û—Ü–µ–Ω–æ—á–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")

                # –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
                if category:
                    parts.append(category)
                if description:
                    parts.append(description)

                # –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
                if characteristics:
                    parts.append(characteristics)

                # –°—Ç–æ–∏–º–æ—Å—Ç—å
                if value:
                    parts.append(f"–æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {value}")

                if parts:
                    descriptions.append(", ".join(parts))

            # –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ)
            total = data.get("–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")
            if total and not items:  # –ï—Å–ª–∏ –Ω–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –µ—Å—Ç—å –æ–±—â–∞—è —Å—É–º–º–∞
                descriptions.append(f"–∏–º—É—â–µ—Å—Ç–≤–æ –Ω–∞ –æ–±—â—É—é —Å—É–º–º—É: {total}")

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_property_rights(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ (–¥–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å).

        –í–ê–ñ–ù–û: –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –≥–¥–µ –≤–ª–∞–¥–µ–ª–µ—Ü = –ö–†–ï–î–ò–¢–û–†.
        –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü = –î–û–õ–ñ–ù–ò–ö, —ç—Ç–æ –Ω–µ –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ, –∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ!
        """
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
            # –ò–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ = –≤–ª–∞–¥–µ–ª–µ—Ü —è–≤–ª—è–µ—Ç—Å—è –ö–†–ï–î–ò–¢–û–†–û–ú (–µ–º—É –¥–æ–ª–∂–Ω—ã)
            # –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü = –¥–æ–ª–∂–Ω–∏–∫/–∑–∞—ë–º—â–∏–∫ - —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –Ω–µ –ø—Ä–∞–≤–æ!
            role = data.get("–†–æ–ª—å_–≤–ª–∞–¥–µ–ª—å—Ü–∞_–¥–æ–∫—É–º–µ–Ω—Ç–∞", "")
            if role:
                role_lower = role.lower()
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü - –¥–æ–ª–∂–Ω–∏–∫ –∏–ª–∏ –∑–∞—ë–º—â–∏–∫ (—ç—Ç–æ –µ–≥–æ –¥–æ–ª–≥, –Ω–µ –ø—Ä–∞–≤–æ)
                if any(keyword in role_lower for keyword in ["–¥–æ–ª–∂–Ω–∏–∫", "–∑–∞–µ–º—â–∏–∫", "–∑–∞—ë–º—â–∏–∫"]):
                    continue
                # –ü—Ä–∏–Ω–∏–º–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü - –∫—Ä–µ–¥–∏—Ç–æ—Ä (–µ–º—É –¥–æ–ª–∂–Ω—ã)
                if "–∫—Ä–µ–¥–∏—Ç–æ—Ä" not in role_lower:
                    continue

            parts = []

            # –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
            doc_type = data.get("–¢–∏–ø", "")
            if doc_type:
                parts.append(doc_type)

            # –î–æ–ª–∂–Ω–∏–∫ (–∫—Ç–æ –¥–æ–ª–∂–µ–Ω)
            debtor = data.get("–î–æ–ª–∂–Ω–∏–∫", "")
            if debtor:
                parts.append(f"–¥–æ–ª–∂–Ω–∏–∫: {debtor}")

            # –°—É–º–º–∞
            amount = data.get("–°—É–º–º–∞", "")
            if amount:
                parts.append(f"—Å—É–º–º–∞: {amount}")

            # –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞/–¥–µ–ª–∞
            doc_num = data.get("–ù–æ–º–µ—Ä", "")
            doc_date = data.get("–î–∞—Ç–∞", "")
            if doc_num:
                if doc_date:
                    parts.append(f"–¥–æ–∫—É–º–µ–Ω—Ç: {doc_num} –æ—Ç {doc_date}")
                else:
                    parts.append(f"–¥–æ–∫—É–º–µ–Ω—Ç: {doc_num}")

            # –°—Ä–æ–∫
            term = data.get("–°—Ä–æ–∫", "")
            if term:
                parts.append(f"—Å—Ä–æ–∫: {term}")

            if parts:
                descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_other_income(pension_data: List[Dict[str, Any]], payment_data: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—ã—Ö –¥–æ—Ö–æ–¥–∞—Ö (–ø–æ—Å–æ–±–∏—è, –ï–î–í, –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∏)."""
        descriptions = []

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ "–ø–µ–Ω—Å–∏–∏" (–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã)
        for doc in pension_data:
            benefits = doc.get("–í—ã–ø–ª–∞—Ç—ã", [])
            if not benefits:
                continue

            for benefit in benefits:
                benefit_type = benefit.get("–í–∏–¥", "")
                amount = benefit.get("–†–∞–∑–º–µ—Ä", "")

                if benefit_type and amount:
                    # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ –≤—ã–ø–ª–∞—Ç—ã
                    benefit_lower = benefit_type.lower()

                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É
                    if "–µ–¥–≤" in benefit_lower or "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞" in benefit_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –¥–µ–Ω–µ–∂–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã"
                        # –£—Ç–æ—á–Ω—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞
                        if "–≤–µ—Ç–µ—Ä–∞–Ω" in benefit_lower:
                            desc += " –≤–µ—Ç–µ—Ä–∞–Ω–∞–º"
                        elif "–∏–Ω–≤–∞–ª–∏–¥" in benefit_lower:
                            desc += " –∏–Ω–≤–∞–ª–∏–¥–∞–º"
                        elif "—Ä–∞–¥–∏–∞—Ü" in benefit_lower:
                            desc += " –≤–µ—Ç–µ—Ä–∞–Ω–∞–º, –∏–Ω–≤–∞–ª–∏–¥–∞–º –∏ –≥—Ä–∞–∂–¥–∞–Ω–∞–º, –ø–æ–¥–≤–µ—Ä–≥—à–∏–º—Å—è –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—é —Ä–∞–¥–∏–∞—Ü–∏–∏"
                    elif "–ø–æ—Å–æ–±–∏" in benefit_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–æ–±–∏–µ ({benefit_type})"
                    elif "–ø–µ–Ω—Å–∏" in benefit_lower:
                        # –ü–µ–Ω—Å–∏—é –Ω–µ –≤–∫–ª—é—á–∞–µ–º –≤ –∏–Ω—ã–µ –¥–æ—Ö–æ–¥—ã - –æ–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
                        continue
                    else:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—É: {benefit_type}"

                    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–º–µ—Ä
                    desc += f" –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}"

                    # –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–∏–æ–¥, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω
                    period = benefit.get("–ü–µ—Ä–∏–æ–¥", {})
                    if isinstance(period, dict):
                        period_from = period.get("–°", "")
                        period_to = period.get("–ü–æ", "")
                        if period_from or period_to:
                            if period_to and period_to.lower() == "–±–µ—Å—Å—Ä–æ—á–Ω–æ":
                                desc += " (–±–µ—Å—Å—Ä–æ—á–Ω–æ)"
                            elif period_from and period_to:
                                desc += f" (—Å {period_from} –ø–æ {period_to})"

                    desc += "."
                    descriptions.append(desc)

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ "–≤—ã–ø–ª–∞—Ç—ã" (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥)
        for doc in payment_data:
            payments = doc.get("–í—ã–ø–ª–∞—Ç—ã", [])
            if not payments:
                continue

            for payment in payments:
                payment_name = payment.get("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ", "")
                amount = payment.get("–†–∞–∑–º–µ—Ä", "")

                if payment_name and amount:
                    payment_lower = payment_name.lower()

                    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ–Ω—Å–∏–∏
                    if "–ø–µ–Ω—Å–∏" in payment_lower:
                        continue

                    # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ
                    if "–µ–¥–≤" in payment_lower or "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞" in payment_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω—É—é –¥–µ–Ω–µ–∂–Ω—É—é –≤—ã–ø–ª–∞—Ç—É –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}."
                    elif "–ø–æ—Å–æ–±–∏" in payment_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–æ–±–∏–µ ({payment_name}) –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}."
                    else:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—É: {payment_name} –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}."

                    descriptions.append(desc)

        # –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã - —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ —Ç–∏–ø—É –≤—ã–ø–ª–∞—Ç—ã –∏ —Å—É–º–º–µ
        unique_descriptions = []
        seen_benefits = []

        import re

        for desc in descriptions:
            # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
            desc_lower = desc.lower()

            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–∏–ø –≤—ã–ø–ª–∞—Ç—ã –∏–∑ –û–¢–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ù–û–ì–û –æ–ø–∏—Å–∞–Ω–∏—è
            benefit_type = ""
            if "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞" in desc_lower:
                benefit_type = "–µ–¥–≤"
            elif "–ø–æ—Å–æ–±–∏" in desc_lower:
                benefit_type = "–ø–æ—Å–æ–±–∏–µ"
            elif "–≤—ã–ø–ª–∞—Ç—É:" in desc_lower:
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ "–≤—ã–ø–ª–∞—Ç—É:"
                match = re.search(r'–≤—ã–ø–ª–∞—Ç—É:\s*([^–≤]+?)\s+–≤ —Ä–∞–∑–º–µ—Ä–µ', desc_lower)
                if match:
                    benefit_type = match.group(1).strip()
                else:
                    benefit_type = "–ø—Ä–æ—á–∞—è_–≤—ã–ø–ª–∞—Ç–∞"
            else:
                benefit_type = "–ø—Ä–æ—á–∞—è_–≤—ã–ø–ª–∞—Ç–∞"

            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å—É–º–º—É –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –µ—ë
            # –ò—â–µ–º –≤—Å–µ —á–∏—Å–ª–∞ –≤ —Å—Ç—Ä–æ–∫–µ
            amounts = re.findall(r'\d+', desc)
            if amounts:
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —á–∏—Å–ª–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é —Å—É–º–º—É (—Ä—É–±–ª–∏ –∏ –∫–æ–ø–µ–π–∫–∏)
                if len(amounts) >= 2:
                    normalized_amount = f"{amounts[0]}.{amounts[1]}"
                else:
                    normalized_amount = amounts[0]
            else:
                normalized_amount = ""

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤–∏–¥–µ–ª–∏ –ª–∏ –º—ã —É–∂–µ —Ç–∞–∫—É—é –≤—ã–ø–ª–∞—Ç—É
            benefit_signature = (benefit_type, normalized_amount)
            if benefit_signature not in seen_benefits:
                seen_benefits.append(benefit_signature)
                unique_descriptions.append(desc)

        # –§–æ—Ä–º–∏—Ä—É–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ç–µ–∫—Å—Ç
        if unique_descriptions:
            result = " ".join(unique_descriptions)
            result += " –ò–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –Ω–µ –∏–º–µ–µ—Ç."
            return result
        else:
            return "–ò–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –Ω–µ –∏–º–µ–µ—Ç."

    @staticmethod
    def number_to_words_rubles(amount: Decimal) -> str:
        """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–æ –≤ —Ç–µ–∫—Å—Ç –ø—Ä–æ–ø–∏—Å—å—é –¥–ª—è —Ä—É–±–ª–µ–π –∏ –∫–æ–ø–µ–µ–∫."""
        try:
            from num2words import num2words
            
            rubles = int(amount)
            kopeks = int((amount - rubles) * 100)

            # –ò—Å–ø–æ–ª—å–∑—É–µ–º num2words –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Å–ª–æ–≤–∞
            words = num2words(rubles, lang='ru')

            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            rubles_formatted = f"{rubles:,}".replace(",", " ")
            result = f"{rubles_formatted} ({words}) —Ä—É–±. {kopeks:02d} –∫–æ–ø."
            return result
        except Exception as e:
            # Fallback: –µ—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ
            rubles = int(amount)
            kopeks = int((amount - rubles) * 100)
            rubles_formatted = f"{rubles:,}".replace(",", " ")
            return f"{rubles_formatted} —Ä—É–±. {kopeks:02d} –∫–æ–ø."

    @staticmethod
    def check_marital_and_children_status(passport: Dict[str, Any], data_map: Dict[str, List[Dict[str, Any]]] = None) -> str:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∞–ª–∏—á–∏–µ –¥–µ—Ç–µ–π.
        
        Args:
            passport: –¥–∞–Ω–Ω—ã–µ –ø–∞—Å–ø–æ—Ä—Ç–∞
            data_map: —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤)
        """
        marital_status = (passport.get("–°–µ–º–µ–π–Ω–æ–µ_–ø–æ–ª–æ–∂–µ–Ω–∏–µ") or "").lower() if passport else ""
        children = passport.get("–î–µ—Ç–∏", []) if passport else []

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
        has_minors = False
        passport_children_count = 0
        
        if children:
            today = date.today()
            for child in children:
                if not isinstance(child, dict):
                    continue
                passport_children_count += 1
                dob_str = child.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                if dob_str:
                    try:
                        dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                        age_years = (today - dob).days / 365.25
                        print(f"[CHILDREN] –†–µ–±–µ–Ω–æ–∫ –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞: –î–†={dob_str}, –≤–æ–∑—Ä–∞—Å—Ç={age_years:.1f} –ª–µ—Ç")
                        if age_years < 18:
                            has_minors = True
                            print(f"[CHILDREN] –ù–∞–π–¥–µ–Ω –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π —Ä–µ–±–µ–Ω–æ–∫ (–≤–æ–∑—Ä–∞—Å—Ç {age_years:.1f} –ª–µ—Ç)")
                    except ValueError as e:
                        print(f"[CHILDREN] –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç—ã '{dob_str}': {e}")
                        continue

        # –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π
        if data_map:
            birth_certificates = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–æ–∂–¥–µ–Ω–∏–∏", [])
            print(f"[CHILDREN] –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏: {len(birth_certificates)}")
            if birth_certificates:
                today = date.today()
                for cert in birth_certificates:
                    if not isinstance(cert, dict):
                        continue
                    
                    # 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ù–û–í–´–ô —Ñ–æ—Ä–º–∞—Ç (–º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏")
                    children_array = cert.get("–î–µ—Ç–∏")
                    if children_array and isinstance(children_array, list):
                        for child_data in children_array:
                            if not isinstance(child_data, dict):
                                continue
                            dob_str = child_data.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                            if dob_str:
                                try:
                                    dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                                    age_years = (today - dob).days / 365.25
                                    print(f"[CHILDREN] –†–µ–±–µ–Ω–æ–∫ –∏–∑ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ (–ù–û–í–´–ô —Ñ–æ—Ä–º–∞—Ç): –î–†={dob_str}, –≤–æ–∑—Ä–∞—Å—Ç={age_years:.1f} –ª–µ—Ç")
                                    if age_years < 18:
                                        has_minors = True
                                        print(f"[CHILDREN] –ù–∞–π–¥–µ–Ω –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π (–ù–û–í–´–ô —Ñ–æ—Ä–º–∞—Ç)")
                                except ValueError as e:
                                    continue
                    
                    # 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –°–¢–ê–†–´–ô —Ñ–æ—Ä–º–∞—Ç (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)
                    dob_str = cert.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                    if dob_str:
                        try:
                            dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                            age_years = (today - dob).days / 365.25
                            print(f"[CHILDREN] –†–µ–±–µ–Ω–æ–∫ –∏–∑ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞: –î–†={dob_str}, –≤–æ–∑—Ä–∞—Å—Ç={age_years:.1f} –ª–µ—Ç")
                            if age_years < 18:
                                has_minors = True
                                print(f"[CHILDREN] –ù–∞–π–¥–µ–Ω –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π —Ä–µ–±–µ–Ω–æ–∫ –∏–∑ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ (–≤–æ–∑—Ä–∞—Å—Ç {age_years:.1f} –ª–µ—Ç)")
                        except ValueError as e:
                            print(f"[CHILDREN] –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞—Ç—ã –∏–∑ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ '{dob_str}': {e}")
                            continue
        
        print(f"[CHILDREN] –ò—Ç–æ–≥–æ: has_minors={has_minors}, –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞={passport_children_count} –¥–µ—Ç–µ–π")

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ
        has_marriage = False
        if data_map:
            marriage_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ", [])
            marriage_certs_new = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–∑–∞–∫–ª—é—á–µ–Ω–∏–∏_–±—Ä–∞–∫–∞", [])
            if marriage_certs or marriage_certs_new:
                has_marriage = True

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞
        has_divorce = False
        if data_map:
            divorce_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞–∑–≤–æ–¥–µ", [])
            if divorce_certs:
                has_divorce = True

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤ –±—Ä–∞–∫–µ –ª–∏
        not_married = "–Ω–µ –∂–µ–Ω–∞—Ç" in marital_status or "–Ω–µ –∑–∞–º—É–∂–µ–º" in marital_status or (has_divorce and not has_marriage)

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –æ —Å–µ–º–µ–π–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏
        parts = []

        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞–∫–µ
        if not_married:
            parts.append("–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤ –±—Ä–∞–∫–µ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç")
        else:
            # –ï—Å–ª–∏ –≤ –±—Ä–∞–∫–µ (–µ—Å—Ç—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –∏–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ)
            if has_marriage or "–∂–µ–Ω–∞—Ç" in marital_status or "–∑–∞–º—É–∂–µ–º" in marital_status:
                parts.append("–î–æ–ª–∂–Ω–∏–∫ —Å–æ—Å—Ç–æ–∏—Ç –≤ –±—Ä–∞–∫–µ")
            elif "—Ä–∞–∑–≤–µ–¥–µ–Ω" in marital_status or "—Ä–∞–∑–≤–µ–¥–µ–Ω–∞" in marital_status:
                parts.append("–î–æ–ª–∂–Ω–∏–∫ —Ä–∞–∑–≤–µ–¥–µ–Ω")

        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ—Ç—è—Ö
        if not has_minors:
            parts.append("–Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π –Ω–∞ –∏–∂–¥–∏–≤–µ–Ω–∏–∏ –Ω–µ –∏–º–µ–µ—Ç")
        else:
            parts.append("–∏–º–µ–µ—Ç –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π –Ω–∞ –∏–∂–¥–∏–≤–µ–Ω–∏–∏")

        if parts:
            result = ", ".join(parts) + "."
            return result

        return ""

    @staticmethod
    def calculate_average_income(data_list: List[Dict[str, Any]]) -> Optional[Decimal]:
        latest_year: Optional[int] = None
        latest_amount: Optional[Decimal] = None
        for data in data_list:
            for statement in data.get("–°–ø—Ä–∞–≤–∫–∏", []) or []:
                year_raw = statement.get("–ì–æ–¥")
                try:
                    year = int(str(year_raw))
                except (TypeError, ValueError):
                    year = None
                amount = DocumentProcessor.parse_decimal(statement.get("–û–±—â–∞—è_—Å—É–º–º–∞_–¥–æ—Ö–æ–¥–∞"))
                if amount is None:
                    continue
                if latest_year is None or (year is not None and year > latest_year):
                    latest_year = year
                    latest_amount = amount
        if latest_amount is None:
            return None
        months = Decimal(12)
        return (latest_amount / months) if months else None

    @staticmethod
    def format_creditors_table(data_map: Dict[str, List[Dict[str, Any]]], debtor_fio: str = "", debtor_inn: str = "", debtor_snils: str = "", debtor_address: str = "") -> Dict[str, str]:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã '–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞'.

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —à–∞–±–ª–æ–Ω Word.

        –í–ê–ñ–ù–û: –ù–ï –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥—É–±–ª–∏ - –∫–∞–∂–¥—ã–π –∫—Ä–µ–¥–∏—Ç –∏–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.
        –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–º–µ—Ä–∞—Ü–∏–∏ (1.1, 1.2 –æ—Ç –æ–¥–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞).

        Args:
            data_map: —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            debtor_fio: –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ (–∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞)
            debtor_inn: –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞
            debtor_snils: –°–ù–ò–õ–° –¥–æ–ª–∂–Ω–∏–∫–∞
            debtor_address: –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞
        """
        from collections import defaultdict

        # –ò–°–ü–û–õ–¨–ó–£–ï–ú merge_credit_reports –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Å —É—á–µ—Ç–æ–º —Å–ø—Ä–∞–≤–æ–∫
        merged_credits = DocumentProcessor.merge_credit_reports(data_map)
        
        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã
        all_credits_list = []
        
        for entry in merged_credits:
            if not isinstance(entry, dict):
                continue

            –∫—Ä–µ–¥–∏—Ç–æ—Ä = entry.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "").strip()
            if not –∫—Ä–µ–¥–∏—Ç–æ—Ä:
                continue

            # –î–∞–Ω–Ω—ã–µ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤ merge_credit_reports
            —Å—É–º–º–∞ = entry.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
            if —Å—É–º–º–∞ <= 0:
                continue

            # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–µ–Ω–∏
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = DocumentProcessor.normalize_bank_name(–∫—Ä–µ–¥–∏—Ç–æ—Ä)

            # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ (—É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤ merge_credit_reports)
            –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = entry.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = entry.get("–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            
            # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: GPT –∏–Ω–æ–≥–¥–∞ –ø—É—Ç–∞–µ—Ç –ò–ù–ù –∏ –û–ì–†–ù
            # –ò–ù–ù = 10 —Ü–∏—Ñ—Ä, –û–ì–†–ù = 13 —Ü–∏—Ñ—Ä (–∏–ª–∏ 15)
            if –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ and (len(–∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞) == 13 or len(–∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞) == 15):
                # –≠—Ç–æ –û–ì–†–ù, –∞ –Ω–µ –ò–ù–ù!
                if not –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
                    –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
                –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = ""
            
            # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –°–ù–ê–ß–ê–õ–ê (—ç—Ç–æ –≤—ã–∑–æ–≤–µ—Ç RusProfile –∏ –∑–∞–∫–µ—à–∏—Ä—É–µ—Ç –ò–ù–ù + –∞–¥—Ä–µ—Å)
            –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = entry.get("–ê–¥—Ä–µ—Å") or entry.get("–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            
            # –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ–º –ò–ù–ù –≤ get_bank_address –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
            –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical, inn=–∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ if DocumentProcessor.validate_inn(–∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞) else None)
            
            # –ü–û–¢–û–ú –ø—Ä–æ–≤–µ—Ä—è–µ–º –ò–ù–ù (—Ç–µ–ø–µ—Ä—å get_bank_inn –Ω–∞–π–¥–µ—Ç –ò–ù–ù –≤ –∫–µ—à–µ RusProfile)
            if not –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
                –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = DocumentProcessor.get_bank_inn(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)

            # –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ "–≥. –ú–æ—Å–∫–≤–∞" (—Ñ–æ–ª–ª–±—ç–∫ get_bank_address), —Å—á–∏—Ç–∞–µ–º –µ–≥–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º
            if –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ and –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞.strip().lower() == "–≥. –º–æ—Å–∫–≤–∞":
                –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = ""
            
            # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –¢-–ë–∞–Ω–∫–∞ - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ (–ú–æ—Å–∫–≤–∞)
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ –≤—Å–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º –∏–º–µ–Ω–∏
            is_t_bank = (
                "–¢-–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or 
                "–¢ –ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or
                "–¢–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or
                "–¢–ò–ù–¨–ö–û–§–§" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or
                "–¢-–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä.upper() or
                "TBANK" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper()
            )
            
            if is_t_bank:
                –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ or "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26"
            else:
                # –õ–û–ì–ò–ö–ê –í–´–ë–û–†–ê –ê–î–†–ï–°–ê 2.0 (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è)
                # 1. –ï—Å–ª–∏ –µ—Å—Ç—å –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ (RusProfile) –∏ –æ–Ω –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π (–¥–ª–∏–Ω–Ω–µ–µ 15 —Å–∏–º–≤–æ–ª–æ–≤) - –±–µ—Ä–µ–º –µ–≥–æ
                if –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ and len(–∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞) > 15:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞
                # 2. –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π - –±–µ—Ä–µ–º –µ–≥–æ
                elif –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ and len(–∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞) > 15:
                     –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞
                # 3. –ï—Å–ª–∏ –æ–±–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ/–ø–ª–æ—Ö–∏–µ - –±–µ—Ä–µ–º —Ö–æ—Ç—å —á—Ç–æ-—Ç–æ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ–µ—Å—Ç—Ä—É)
                else:
                     –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ or –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞

            —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = entry.get("–í–∏–¥") or entry.get("–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞") or "–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç"
            –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ = entry.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or ""
            —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ = entry.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞") or Decimal(0)
            —Ç–µ–∫—É—â–∞—è = entry.get("–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å") or Decimal(0)
            –ø—Ä–æ—Å—Ä–æ—á–∫–∞ = entry.get("–ü—Ä–æ—Å—Ä–æ—á–∫–∞") or entry.get("–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞") or Decimal(0)

            all_credits_list.append({
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä,
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized": –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized,
                "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞,
                "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞,
                "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞,
                "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞,
                "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è,
                "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                "–°—É–º–º–∞": —Å—É–º–º–∞,
                "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
            })

        # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∫–ª—é—á—É
        # –ö–ª—é—á: –∫—Ä–µ–¥–∏—Ç–æ—Ä + –¥–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ + —Å—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ + —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
        unique_credits = {}
        for credit in all_credits_list:
            # –§–æ—Ä–º–∏—Ä—É–µ–º –∫–ª—é—á —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            key = (
                credit['–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized'],
                credit['–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞'],
                float(credit.get('–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞', 0)),
                float(credit.get('–°—É–º–º–∞', 0))
            )
            
            # –ï—Å–ª–∏ —Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞ –µ—â–µ –Ω–µ—Ç - –¥–æ–±–∞–≤–ª—è–µ–º
            # –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å - –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ—Ç, —á—Ç–æ —Å –±–æ–ª—å—à–µ–π —Å—É–º–º–æ–π –¥–æ–ª–≥–∞ (–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π)
            if key not in unique_credits:
                unique_credits[key] = credit
            else:
                existing = unique_credits[key]
                if credit.get('–°—É–º–º–∞', 0) > existing.get('–°—É–º–º–∞', 0):
                    unique_credits[key] = credit

        # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –ø–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
        credits_by_creditor = defaultdict(list)
        for credit in unique_credits.values():
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized = credit["–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized"]
            credits_by_creditor[–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized].append(credit)

        # === –û–ë–†–ê–ë–û–¢–ö–ê –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ô –ü–†–ò–°–¢–ê–í–û–í - –î–û –°–û–†–¢–ò–†–û–í–ö–ò ===
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞–º –∏–ª–∏ –∫–∞–∫ –Ω–æ–≤—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        other_debts = []  # –ù–æ–≤—ã–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä—ã –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π (–Ω–µ –≤ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö)
        
        # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å—É–¥–µ–±–Ω—ã–µ –∞–∫—Ç—ã –∏–∑ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
        court_acts_from_reports = set()
        for –æ—Ç—á–µ—Ç_–æ–∫–± in data_map.get("–æ—Ç—á–µ—Ç_–æ–∫–±", []):
            —Å—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã = –æ—Ç—á–µ—Ç_–æ–∫–±.get("–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã", [])
            for –∞–∫—Ç in —Å—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã:
                –Ω–æ–º–µ—Ä = –∞–∫—Ç.get("–ù–æ–º–µ—Ä_–¥–µ–ª–∞", "").strip()
                if –Ω–æ–º–µ—Ä:
                    # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–æ–º–µ—Ä –¥–µ–ª–∞: —É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã, –ø—Ä–∏–≤–æ–¥–∏–º –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
                    –Ω–æ–º–µ—Ä_normalized = –Ω–æ–º–µ—Ä.replace(" ", "").lower()
                    court_acts_from_reports.add(–Ω–æ–º–µ—Ä_normalized)
                    print(f"[COURT_ACT_OKB] –ò–∑–≤–ª–µ—á–µ–Ω —Å—É–¥–µ–±–Ω—ã–π –∞–∫—Ç: {–Ω–æ–º–µ—Ä}")
        
        for –æ—Ç—á–µ—Ç_–±–∫–∏ in data_map.get("–æ—Ç—á–µ—Ç_–±–∫–∏", []):
            —Å—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã = –æ—Ç—á–µ—Ç_–±–∫–∏.get("–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã", [])
            for –∞–∫—Ç in —Å—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã:
                –Ω–æ–º–µ—Ä = –∞–∫—Ç.get("–ù–æ–º–µ—Ä_–¥–µ–ª–∞", "").strip()
                if –Ω–æ–º–µ—Ä:
                    –Ω–æ–º–µ—Ä_normalized = –Ω–æ–º–µ—Ä.replace(" ", "").lower()
                    court_acts_from_reports.add(–Ω–æ–º–µ—Ä_normalized)
                    print(f"[COURT_ACT_BKI] –ò–∑–≤–ª–µ—á–µ–Ω —Å—É–¥–µ–±–Ω—ã–π –∞–∫—Ç: {–Ω–æ–º–µ—Ä}")
        
        for –æ—Ç—á–µ—Ç_–Ω–±–∫–∏ in data_map.get("–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", []):
            —Å—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã = –æ—Ç—á–µ—Ç_–Ω–±–∫–∏.get("–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã", [])
            for –∞–∫—Ç in —Å—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã:
                –Ω–æ–º–µ—Ä = –∞–∫—Ç.get("–ù–æ–º–µ—Ä_–¥–µ–ª–∞", "").strip()
                if –Ω–æ–º–µ—Ä:
                    –Ω–æ–º–µ—Ä_normalized = –Ω–æ–º–µ—Ä.replace(" ", "").lower()
                    court_acts_from_reports.add(–Ω–æ–º–µ—Ä_normalized)
                    print(f"[COURT_ACT_NBKI] –ò–∑–≤–ª–µ—á–µ–Ω —Å—É–¥–µ–±–Ω—ã–π –∞–∫—Ç: {–Ω–æ–º–µ—Ä}")
        
        print(f"[COURT_ACTS] –í—Å–µ–≥–æ —Å—É–¥–µ–±–Ω—ã—Ö –∞–∫—Ç–æ–≤ –≤ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö: {len(court_acts_from_reports)}")
        
        # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É –ò–ü
        seen_ip_numbers = set()
        
        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in data_map.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", []):
            # –§–ò–õ–¨–¢–† 1: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–∫—Ä—ã—Ç—ã–µ/–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –ò–ü
            –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è")
            if –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è and –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è not in ["", "null", None]:
                print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–∫—Ä—ã—Ç–æ–µ –ò–ü: {–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get('–ù–æ–º–µ—Ä_–ò–ü')} (–∑–∞–∫—Ä—ã—Ç–æ {–¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è})")
                continue
            
            # –§–ò–õ–¨–¢–† 2: –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É –ò–ü
            –Ω–æ–º–µ—Ä_–∏–ø = (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä_–ò–ü") or "").strip()
            if –Ω–æ–º–µ—Ä_–∏–ø:
                if –Ω–æ–º–µ—Ä_–∏–ø in seen_ip_numbers:
                    print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥—É–±–ª—å –ò–ü: {–Ω–æ–º–µ—Ä_–∏–ø}")
                    continue
                seen_ip_numbers.add(–Ω–æ–º–µ—Ä_–∏–ø)
            
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å = (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å") or "").strip()
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower = –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.lower()

            —Å—É–º–º–∞_str = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–°—É–º–º–∞_–¥–æ–ª–≥–∞") or ""
            —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(—Å—É–º–º–∞_str) or Decimal(0)

            if —Å—É–º–º–∞ <= 0:
                continue

            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–∞–ª–æ–≥–∏ (–æ–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∏–∂–µ)
            if any(kw in –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower for kw in ["–Ω–∞–ª–æ–≥", "–∏—Ñ–Ω—Å", "—Ñ–Ω—Å", "–∏–Ω—Å–ø–µ–∫—Ü–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã"]):
                continue

            # –ü–æ–ª—É—á–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            –Ω–æ–º–µ—Ä_–∏–ø = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä_–ò–ü") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä") or ""
            –¥–∞—Ç–∞_–∏–ø = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–≤–æ–∑–±—É–∂–¥–µ–Ω–∏—è") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞") or ""
            
            # –ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (—Ç–∏–ø –¥–æ–ª–≥–∞)
            –ø—Ä–µ–¥–º–µ—Ç = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è") or "–í–∑—ã—Å–∫–∞–Ω–∏–µ –ø–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –§–°–°–ü"
            
            # –í–ê–ñ–ù–û: –ï—Å–ª–∏ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω (—Ç–∞–±–ª–∏—Ü–∞ –§–°–°–ü), –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥–º–µ—Ç –∫–∞–∫ –Ω–∞–∑–≤–∞–Ω–∏–µ
            # –Ω–æ –ù–ï –≥—Ä—É–ø–ø–∏—Ä—É–µ–º –≤—Å–µ –≤–º–µ—Å—Ç–µ - –∫–∞–∂–¥–æ–µ –ò–ü –æ—Ç–¥–µ–ª—å–Ω–æ
            if not –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å or –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å in ["null", "None"]:
                –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å = f"–í–∑—ã—Å–∫–∞—Ç–µ–ª—å –ø–æ –ò–ü {–Ω–æ–º–µ—Ä_–∏–ø}" if –Ω–æ–º–µ—Ä_–∏–ø else –ø—Ä–µ–¥–º–µ—Ç
                print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –í–∑—ã—Å–∫–∞—Ç–µ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º: {–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å}")
            
            # –ê–¥—Ä–µ—Å –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è
            –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ê–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è") or ""
            if –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è:
                –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = ", ".join(filter(None, [x.strip() for x in –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è.split(",")]))
            
            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–≥–∞–Ω–µ, –≤—ã–¥–∞–≤—à–µ–º –¥–æ–∫—É–º–µ–Ω—Ç + –Ω–æ–º–µ—Ä –¥–µ–ª–∞
            –æ—Ä–≥–∞–Ω = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π") or ""
            –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞ = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞") or ""
            –Ω–æ–º–µ—Ä_–¥–µ–ª–∞ = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä_–¥–µ–ª–∞") or ""
            
            # –§–ò–õ–¨–¢–† 3: –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Å —Å—É–¥–µ–±–Ω—ã–º–∏ –∞–∫—Ç–∞–º–∏ –∏–∑ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
            if –Ω–æ–º–µ—Ä_–¥–µ–ª–∞:
                –Ω–æ–º–µ—Ä_–¥–µ–ª–∞_normalized = –Ω–æ–º–µ—Ä_–¥–µ–ª–∞.replace(" ", "").lower()
                if –Ω–æ–º–µ—Ä_–¥–µ–ª–∞_normalized in court_acts_from_reports:
                    print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï_DEDUP] –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ - —Å—É–¥–µ–±–Ω—ã–π –∞–∫—Ç —É–∂–µ –≤ –∫—Ä–µ–¥–∏—Ç–Ω–æ–º –æ—Ç—á–µ—Ç–µ: {–Ω–æ–º–µ—Ä_–¥–µ–ª–∞}")
                    continue
            
            # –§–æ—Ä–º–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—è "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞"
            –¥–∞—Ç–∞_display = []
            if –æ—Ä–≥–∞–Ω:
                –æ—Ä–≥–∞–Ω_clean = ", ".join(filter(None, [x.strip() for x in –æ—Ä–≥–∞–Ω.split(",")]))
                –¥–∞—Ç–∞_display.append(–æ—Ä–≥–∞–Ω_clean)
            if –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞:
                –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞_clean = ", ".join(filter(None, [x.strip() for x in –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞.split(",")]))
                –¥–∞—Ç–∞_display.append(f"–ê–¥—Ä–µ—Å: {–∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞_clean}")
            if –Ω–æ–º–µ—Ä_–¥–µ–ª–∞:
                –¥–∞—Ç–∞_display.append(f"–ø–æ –¥–µ–ª—É ‚Ññ {–Ω–æ–º–µ—Ä_–¥–µ–ª–∞}")
            
            –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_text = " ".join(–¥–∞—Ç–∞_display) if –¥–∞—Ç–∞_display else –¥–∞—Ç–∞_–∏–ø

            # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized, –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical = DocumentProcessor.normalize_bank_name(–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å)

            # –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –ò–ù–ù –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–Ω —è–≤–Ω–æ)
            –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò–ù–ù_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            if not –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è and –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å and not –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.startswith("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å –ø–æ –ò–ü"):
                # –ï—Å–ª–∏ –ò–ù–ù –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ - –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —á–µ—Ä–µ–∑ get_bank_inn
                –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = DocumentProcessor.get_bank_inn(–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical)

            # –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –ò–ù–ù –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å —É–∫–∞–∑–∞–Ω —è–≤–Ω–æ)
            –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò–ù–ù_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            if not –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è and –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å and not –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.startswith("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å –ø–æ –ò–ü"):
                # –ï—Å–ª–∏ –ò–ù–ù –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ - –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —á–µ—Ä–µ–∑ get_bank_inn
                –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = DocumentProcessor.get_bank_inn(–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical)

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—Ç–æ–∏—Ç –ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫—Ä–µ–¥–∏—Ç–æ—Ä—É
            # –ù–ï –≥—Ä—É–ø–ø–∏—Ä—É–µ–º –µ—Å–ª–∏ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω (—Ç–∞–±–ª–∏—Ü–∞ –§–°–°–ü)
            should_group = (
                –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized in credits_by_creditor and 
                not –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.startswith("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å –ø–æ –ò–ü")
            )
            
            if should_group:
                # –ö—Ä–µ–¥–∏—Ç–æ—Ä —É–∂–µ –µ—Å—Ç—å - –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä –∫ –Ω–µ–º—É
                print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –î–æ–±–∞–≤–ª—è–µ–º –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫—Ä–µ–¥–∏—Ç–æ—Ä—É: {–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical}")
                credits_by_creditor[–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized].append({
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized,
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è,
                    "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "",
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": –ø—Ä–µ–¥–º–µ—Ç,
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_text,
                    "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞,
                    "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è,
                    "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Å—É–º–º–∞,
                    "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": Decimal(0),
                    "–°—É–º–º–∞": —Å—É–º–º–∞,
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏": Decimal(0),
                })
            else:
                # –ù–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç–æ—Ä - –¥–æ–±–∞–≤–ª—è–µ–º –≤ other_debts –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
                # –î–ª—è –ò–ü –±–µ–∑ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è - –∫—Ä–µ–¥–∏—Ç–æ—Ä –ø—É—Å—Ç–æ–π, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
                –∫—Ä–µ–¥–∏—Ç–æ—Ä_display = "" if –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.startswith("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å –ø–æ –ò–ü") else –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical
                print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –ù–æ–≤—ã–π –¥–æ–ª–≥: {–ø—Ä–µ–¥–º–µ—Ç} (–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å: {–∫—Ä–µ–¥–∏—Ç–æ—Ä_display or '(–Ω–µ —É–∫–∞–∑–∞–Ω)'})")
                other_debts.append({
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical": –∫—Ä–µ–¥–∏—Ç–æ—Ä_display,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized,
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è,
                    "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è,
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": –ø—Ä–µ–¥–º–µ—Ç,
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_text,
                    "–ù–æ–º–µ—Ä_–ò–ü": –Ω–æ–º–µ—Ä_–∏–ø,
                    "–°—É–º–º–∞": —Å—É–º–º–∞,
                })

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –ø–æ –æ–±—â–µ–π —Å—É–º–º–µ –≤—Å–µ—Ö –∏—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ (—É–±—ã–≤–∞–Ω–∏–µ)
        sorted_creditors = sorted(
            credits_by_creditor.items(),
            key=lambda x: sum(c["–°—É–º–º–∞"] for c in x[1]),
            reverse=True
        )

        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã - –ì–†–£–ü–ü–ò–†–£–ï–ú –ü–û –ë–ê–ù–ö–ê–ú
        table_rows = []
        counter = 1

        for –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, credits_list in sorted_creditors:
            # –ö–∞–∂–¥—ã–π –¥–æ–≥–æ–≤–æ—Ä = –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ
            –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç = credits_list[0]
            
            # –ò–°–ü–û–õ–¨–ó–£–ï–ú –ö–ê–ù–û–ù–ò–ß–ï–°–ö–û–ï –ù–ê–ó–í–ê–ù–ò–ï (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_display = –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç["–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical"]
            
            # --- –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: –°–Ω–∞—á–∞–ª–∞ –Ω–∞–π—Ç–∏ –ò–ù–ù, –ø–æ—Ç–æ–º –ê–¥—Ä–µ—Å ---
            # 1. –ü–æ–∏—Å–∫ –ò–ù–ù –ø–æ –≤—Å–µ–º –∫—Ä–µ–¥–∏—Ç–∞–º —ç—Ç–æ–π –≥—Ä—É–ø–ø—ã (–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –ø–µ—Ä–≤–æ–º)
            found_inn = None
            for credit in credits_list:
                cand = credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞")
                if cand and str(cand).strip() and str(cand).strip().replace(' ', '').isdigit():
                    cand_clean = str(cand).strip().replace(' ', '')
                    # –í–ê–õ–ò–î–ê–¶–ò–Ø: –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Å—É–º–º—É –ò–ù–ù
                    if DocumentProcessor.validate_inn(cand_clean):
                        found_inn = cand_clean
                        print(f"[DEBUG_INN] –ù–∞—à–µ–ª –≤–∞–ª–∏–¥–Ω—ã–π –ò–ù–ù –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã (–∫—Ä–µ–¥–∏—Ç –æ—Ç {credit.get('–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞')}): {found_inn}")
                        break
                    else:
                        print(f"[DEBUG_INN] –ò–ù–ù –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ù–ï –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é (–∫—Ä–µ–¥–∏—Ç –æ—Ç {credit.get('–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞')}): {cand_clean} - –∏–≥–Ω–æ—Ä–∏—Ä—É—é")

            # –ê–¥—Ä–µ—Å: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–ª–Ω–æ–º—É –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¶–ë –†–§, –Ω–æ –° –£–ß–ï–¢–û–ú –ò–ù–ù
            # –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π –ò–ù–ù, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –Ω–∞–π—Ç–∏ –∞–¥—Ä–µ—Å —Ç–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, —á–µ–π –ò–ù–ù –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
            –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–∫—Ä–µ–¥–∏—Ç–æ—Ä_display, inn=found_inn)
            –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç["–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"]
            
            # 2. –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ –≥—Ä—É–ø–ø–µ (–∏–ª–∏ –æ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π), –∏—â–µ–º —á–µ—Ä–µ–∑ RusProfile
            # –î–∞–∂–µ –µ—Å–ª–∏ –Ω–∞—à–ª–∏, –µ—Å–ª–∏ —ç—Ç–æ –±–∞–Ω–∫, –ª—É—á—à–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ RusProfile (—Ç–∞–º —Ç–æ—á–Ω–µ–µ)
            should_check_rusprofile = getattr(DocumentProcessor, "SHOULD_CHECK_RUSPROFILE", False)
            
            # –ï—Å–ª–∏ –ò–ù–ù –Ω–µ—Ç –∏–ª–∏ –æ–Ω –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π
            if not found_inn:
                should_check_rusprofile = True
            elif len(found_inn) not in [10, 12]:
                 print(f"[DEBUG_INN] –ò–ù–ù –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å—Ç—Ä–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã ({len(found_inn)}), –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è–µ–º: {found_inn}")
                 should_check_rusprofile = True
            
            # –§–ò–õ–¨–¢–†: –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –ò–ù–ù —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ - —ç—Ç–æ –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–∞—Ä—Å–µ—Ä–∞
            if found_inn and str(found_inn) == str(debtor_inn):
                 print(f"[DEBUG_INN] –ù–∞–π–¥–µ–Ω–Ω—ã–π –ò–ù–ù —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ ({found_inn}). –ò—â–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞...")
                 should_check_rusprofile = True
                 found_inn = None

            if should_check_rusprofile:
                print(f"[DEBUG_INN] –ò–ù–ù –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–º–Ω–µ–Ω–∏—è, –∏—â—É –≤ —Ä–µ–µ—Å—Ç—Ä–µ/RusProfile –¥–ª—è '{–∫—Ä–µ–¥–∏—Ç–æ—Ä_display}'...")
                rus_inn = DocumentProcessor.get_bank_inn(–∫—Ä–µ–¥–∏—Ç–æ—Ä_display)
                if rus_inn:
                     found_inn = rus_inn
                     print(f"[DEBUG_INN] –ù–∞—à–µ–ª –ò–ù–ù —á–µ—Ä–µ–∑ RusProfile: {found_inn}")
            
            raw_inn = found_inn
            
            # –û—á–∏—â–∞–µ–º –ò–ù–ù –æ—Ç –º—É—Å–æ—Ä–∞
            if raw_inn:
                raw_inn = str(raw_inn).strip()
            
            print(f"[DEBUG_INN] –ò—Ç–æ–≥–æ–≤—ã–π –ò–ù–ù: {raw_inn}")
            
            # –í–ê–ñ–ù–û: –ï—Å–ª–∏ –Ω–∞—à–ª–∏ –ò–ù–ù —á–µ—Ä–µ–∑ RusProfile –∏–ª–∏ –≤ –¥—Ä—É–≥–æ–º –∫—Ä–µ–¥–∏—Ç–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤–æ –í–°–ï –∫—Ä–µ–¥–∏—Ç—ã –≥—Ä—É–ø–ø—ã
            if raw_inn:
                for cr in credits_list:
                    cr["–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"] = raw_inn
            
            # –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—É—é —Å—Ç—Ä–æ–∫—É
            inn_val_safe = ""
            if raw_inn:
                inn_val_safe = f"–ò–ù–ù {raw_inn}"
                print(f"[DEBUG_INN] –ò–ù–ù —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º: {inn_val_safe}")

            # –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞
            for contract_idx, credit in enumerate(credits_list):
                is_first_contract = (contract_idx == 0)
                
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = credit["–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞"]
                
                # –û—á–∏—â–∞–µ–º —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ –æ—Ç —Å—É–º–º—ã –≤ —Ä—É–±–ª—è—Ö
                import re
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = re.sub(r'\s+–≤\s+—Ä–∞–∑–º–µ—Ä–µ[:\s]+[\d\s,.]+\s*—Ä—É–±\.?', '', —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞, flags=re.IGNORECASE)
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = re.sub(r'\s+–Ω–∞\s+—Å—É–º–º—É[:\s]+[\d\s,.]+\s*—Ä—É–±\.?', '', —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞, flags=re.IGNORECASE)
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = re.sub(r'\s+-\s*[\d\s,.]+\s*—Ä—É–±\.?$', '', —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞)
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞.strip()
                
                –¥–∞—Ç–∞_—Ç–µ–∫—Å—Ç = f"–î–æ–≥–æ–≤–æ—Ä –æ—Ç {credit['–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞']}" if credit['–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞'] else ""
                —Å—É–º–º–∞_—Ç–µ–∫—Å—Ç = f"{credit['–°—É–º–º–∞']:.2f}"
                
                –ø–ø = f"1.{counter}" if is_first_contract else ""

                # --- FIX: –£–±–µ–∂–¥–∞–µ–º—Å—è —á—Ç–æ –ò–ù–ù –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Å–µ —è—á–µ–π–∫–∏ ---
                final_inn_value = inn_val_safe if is_first_contract or inn_val_safe else ""
                
                row_data = {
                    "–ø–ø_–∫—Ä–µ–¥–∏—Ç": –ø–ø,
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_display if is_first_contract else "",
                    
                    # –ò–ù–ù —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "–ò–ù–ù " (–¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ –∑–∞—è–≤–ª–µ–Ω–∏—è—Ö)
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": inn_val_safe,
                    "–ò–ù–ù_–ö—Ä–µ–¥–∏—Ç–æ—Ä–∞": inn_val_safe,  # –° –∑–∞–≥–ª–∞–≤–Ω–æ–π –ö –¥–ª—è —à–∞–±–ª–æ–Ω–∞
                    "–ò–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": inn_val_safe,
                    "–ò–ù–ù": inn_val_safe,
                    "inn_creditor": inn_val_safe,
                    "Inn_creditor": inn_val_safe,
                    
                    # –ò–ù–ù –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ - —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä (–¥–ª—è —Ç–∞–±–ª–∏—Ü)
                    "–ò–ù–ù_–Ω–æ–º–µ—Ä": raw_inn if raw_inn else "",
                    "–ò–Ω–Ω_–Ω–æ–º–µ—Ä": raw_inn if raw_inn else "",
                    "Inn_number": raw_inn if raw_inn else "",

                    "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å if is_first_contract else "",
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_—Ç–µ–∫—Å—Ç,
                    "–ü–æ–ª–Ω–∞—è_—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_—Ç–µ–∫—Å—Ç,
                    "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ": —Å—É–º–º–∞_—Ç–µ–∫—Å—Ç,
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ": "0.00",
                    # –§–ª–∞–≥ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —è—á–µ–µ–∫
                    "is_first_contract": is_first_contract,
                    # –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–∏–∫–∞
                    "–§–∞–º–∏–ª–∏—è": debtor_fio.split()[0] if debtor_fio and len(debtor_fio.split()) > 0 else "",
                    "–ò–º—è": debtor_fio.split()[1] if debtor_fio and len(debtor_fio.split()) > 1 else "",
                    "–û—Ç—á–µ—Å—Ç–≤–æ": debtor_fio.split()[2] if debtor_fio and len(debtor_fio.split()) > 2 else "",
                    "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": debtor_inn, # –Ø–≤–Ω—ã–π –∫–ª—é—á –¥–ª—è –¥–æ–ª–∂–Ω–∏–∫–∞
                    # "–ò–ù–ù": debtor_inn, # –û–¢–ö–õ–Æ–ß–ï–ù–û: –ù–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞. –ò–ù–ù –≤ —Å—Ç—Ä–æ–∫–µ –∫—Ä–µ–¥–∏—Ç–∞ = –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
                    "–°–Ω–∏–ª—Å": debtor_snils,
                    "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–¥–æ–ª–∂–Ω–∏–∫–∞": debtor_address,
                }
                
                # –õ–û–ì–ò–†–£–ï–ú —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –¥–æ–±–∞–≤–∏–ª–∏ (–í–°–ï –ö–õ–Æ–ß–ò)
                if is_first_contract:
                    print(f"[DEBUG_TABLE_ROW] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ 1.{counter}:") 
                    print(f"   –ö—Ä–µ–¥–∏—Ç–æ—Ä='{row_data['–ö—Ä–µ–¥–∏—Ç–æ—Ä']}'")
                    print(f"   –ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º)='{row_data['–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞']}'")
                    print(f"   –ò–ù–ù_–Ω–æ–º–µ—Ä (—á–∏—Å—Ç—ã–π)='{row_data['–ò–ù–ù_–Ω–æ–º–µ—Ä']}'")
                    print(f"   –ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞='{row_data['–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞']}'")
                
                table_rows.append(row_data)
            
            counter += 1

        # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–Ω–∞–ª–æ–≥–∏, —Å–±–æ—Ä—ã –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
        # –í–ê–ñ–ù–û: –ù–∞–ª–æ–≥–∏ –∏–¥—É—Ç –≤ —Ä–∞–∑–¥–µ–ª–µ 2 (2.1, 2.2, 2.3...)
        tax_rows = []
        tax_counter = 1

        # 1. –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–ª–æ–≥–∏ –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏—Å—Ç–∞–≤–∞
        seen_tax_ip_numbers = set()
        
        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in data_map.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", []):
            # –§–ò–õ–¨–¢–†: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–∫—Ä—ã—Ç—ã–µ/–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –ò–ü
            –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è")
            if –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è and –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è not in ["", "null", None]:
                continue
            
            # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –Ω–æ–º–µ—Ä—É –ò–ü –¥–ª—è –Ω–∞–ª–æ–≥–æ–≤
            –Ω–æ–º–µ—Ä_–∏–ø = (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä_–ò–ü") or "").strip()
            if –Ω–æ–º–µ—Ä_–∏–ø and –Ω–æ–º–µ—Ä_–∏–ø in seen_tax_ip_numbers:
                continue
            if –Ω–æ–º–µ—Ä_–∏–ø:
                seen_tax_ip_numbers.add(–Ω–æ–º–µ—Ä_–∏–ø)
            
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å = (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å") or "").strip()
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower = –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.lower()

            —Å—É–º–º–∞_str = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–°—É–º–º–∞_–¥–æ–ª–≥–∞") or ""
            —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(—Å—É–º–º–∞_str) or Decimal(0)

            if —Å—É–º–º–∞ <= 0:
                continue

            # –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞–ª–æ–≥–∏ –≤ —Ä–∞–∑–¥–µ–ª 2
            if any(kw in –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower for kw in ["–Ω–∞–ª–æ–≥", "–∏—Ñ–Ω—Å", "—Ñ–Ω—Å", "–∏–Ω—Å–ø–µ–∫—Ü–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã"]):
                tax_rows.append({
                    "–ø–ø_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": f"2.{tax_counter}",
                    "–ù–∞–ª–æ–≥_—Å–±–æ—Ä_–∏–ª–∏_–∏–Ω–æ–π_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å,
                    "–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": f"{—Å—É–º–º–∞:.2f}",
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": "0.00",
                })
                tax_counter += 1

        # 2. –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–ª–æ–≥–∏ –∏–∑ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        for —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ in data_map.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", []):
            –Ω–∞–ª–æ–≥–∏ = —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–ù–∞–ª–æ–≥–∏", [])
            
            # –ï—Å–ª–∏ –µ—Å—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –Ω–∞–ª–æ–≥–∞–º - –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë
            if –Ω–∞–ª–æ–≥–∏ and len(–Ω–∞–ª–æ–≥–∏) > 0:
                for –Ω–∞–ª–æ–≥ in –Ω–∞–ª–æ–≥–∏:
                    if not isinstance(–Ω–∞–ª–æ–≥, dict):
                        continue

                    —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(–Ω–∞–ª–æ–≥.get("–°—É–º–º–∞")) or Decimal(0)
                    if —Å—É–º–º–∞ <= 0:
                        continue

                    –≤–∏–¥ = –Ω–∞–ª–æ–≥.get("–í–∏–¥", "–ù–∞–ª–æ–≥")
                    –ø–µ—Ä–∏–æ–¥ = –Ω–∞–ª–æ–≥.get("–ü–µ—Ä–∏–æ–¥", "")

                    # –§–æ—Ä–º–∏—Ä—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ
                    if –ø–µ—Ä–∏–æ–¥:
                        –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{–≤–∏–¥} –∑–∞ {–ø–µ—Ä–∏–æ–¥} –≥."
                    else:
                        –Ω–∞–∑–≤–∞–Ω–∏–µ = –≤–∏–¥

                    tax_rows.append({
                        "–ø–ø_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": f"2.{tax_counter}",
                        "–ù–∞–ª–æ–≥_—Å–±–æ—Ä_–∏–ª–∏_–∏–Ω–æ–π_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                        "–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": f"{—Å—É–º–º–∞:.2f}",
                        "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": "0.00",
                    })
                    tax_counter += 1
            else:
                # –ï—Å–ª–∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ—Ç (–ì–æ—Å—É—Å–ª—É–≥–∏/–ï–ù–°), –Ω–æ –µ—Å—Ç—å –æ–±—â–∞—è —Å—É–º–º–∞ - –¥–æ–±–∞–≤–ª—è–µ–º –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π
                –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ = DocumentProcessor.parse_decimal(—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ"))
                if –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ and –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ > 0:
                    –¥–∞—Ç–∞ = —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞", "")
                    –Ω–∞–∑–≤–∞–Ω–∏–µ = f"–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –Ω–∞–ª–æ–≥–∞–º –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ {–¥–∞—Ç–∞}" if –¥–∞—Ç–∞ else "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –Ω–∞–ª–æ–≥–∞–º"
                    
                    tax_rows.append({
                        "–ø–ø_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": f"2.{tax_counter}",
                        "–ù–∞–ª–æ–≥_—Å–±–æ—Ä_–∏–ª–∏_–∏–Ω–æ–π_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                        "–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": f"{–≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ:.2f}",
                        "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": "0.00",
                    })
                    tax_counter += 1

        # 3. –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–∏–µ –¥–æ–ª–≥–∏ (–∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π, –Ω–µ –Ω–∞–ª–æ–≥–∏) –≤ —Ä–∞–∑–¥–µ–ª 1 –ü–û–°–õ–ï –±–∞–Ω–∫–æ–≤
        # –≠—Ç–∏ –¥–æ–ª–≥–∏ - –Ω–æ–≤—ã–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –≤ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö
        for debt in other_debts:
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = debt["–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical"]
            
            # –î–ª—è –ò–ü –±–µ–∑ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (–∫—Ä–µ–¥–∏—Ç–æ—Ä –ø—É—Å—Ç–æ–π) - –Ω–µ –∏—â–µ–º –ò–ù–ù –∏ –∞–¥—Ä–µ—Å
            if –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical:
                # –ê–¥—Ä–µ—Å: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¶–ë –†–§
                –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)
                –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = debt["–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"]
                –∞–¥—Ä–µ—Å = –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ or –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞
                
                # –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞: –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ—Ç - –∏—â–µ–º —Å–Ω–æ–≤–∞
                raw_inn = debt.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or DocumentProcessor.get_bank_inn(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)
                –∏–Ω–Ω_display = f"–ò–ù–ù {raw_inn}" if raw_inn else ""
            else:
                # –î–ª—è –ò–ü –±–µ–∑ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è - –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º–∏
                –∞–¥—Ä–µ—Å = ""
                raw_inn = ""
                –∏–Ω–Ω_display = ""
            
            table_rows.append({
                "–ø–ø_–∫—Ä–µ–¥–∏—Ç": f"1.{counter}",
                "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": debt["–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞"],
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                
                # –ò–ù–ù —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "–ò–ù–ù " (–¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π)
                "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_display,
                "–ò–ù–ù_–ö—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_display,  # –° –∑–∞–≥–ª–∞–≤–Ω–æ–π –ö –¥–ª—è —à–∞–±–ª–æ–Ω–∞
                "–ò–ù–ù": –∏–Ω–Ω_display,
                
                # –ò–ù–ù –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ - —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä (–¥–ª—è —Ç–∞–±–ª–∏—Ü)
                "–ò–ù–ù_–Ω–æ–º–µ—Ä": raw_inn if raw_inn else "",
                "–ò–Ω–Ω_–Ω–æ–º–µ—Ä": raw_inn if raw_inn else "",
                "Inn_number": raw_inn if raw_inn else "",
                
                "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å,
                "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": debt["–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞"],
                "–ü–æ–ª–Ω–∞—è_—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": f"{debt['–°—É–º–º–∞']:.2f}",
                "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ": f"{debt['–°—É–º–º–∞']:.2f}",
                "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ": "0.00",
                # –§–ª–∞–≥ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —è—á–µ–µ–∫ (–ø–µ—Ä–≤—ã–π –¥–æ–≥–æ–≤–æ—Ä –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞)
                "is_first_contract": True,
                # –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–∏–∫–∞
                "–§–∞–º–∏–ª–∏—è": debtor_fio.split()[0] if debtor_fio and len(debtor_fio.split()) > 0 else "",
                "–ò–º—è": debtor_fio.split()[1] if debtor_fio and len(debtor_fio.split()) > 1 else "",
                "–û—Ç—á–µ—Å—Ç–≤–æ": debtor_fio.split()[2] if debtor_fio and len(debtor_fio.split()) > 2 else "",
                "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": debtor_inn,
                "–°–Ω–∏–ª—Å": debtor_snils,
                "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–¥–æ–ª–∂–Ω–∏–∫–∞": debtor_address,
            })
            counter += 1

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        result = {}

        # –î–õ–Ø –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–• –¢–ê–ë–õ–ò–¶: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ø–∏—Å–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
        result["credits"] = table_rows  # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
        result["taxes"] = tax_rows      # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–ª–æ–≥–æ–≤

        # –°–¢–ê–†–´–ô –§–û–†–ú–ê–¢: –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –ø—Ä–æ—Å—Ç—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏
        # –î–æ–±–∞–≤–ª—è–µ–º –í–°–ï –∫—Ä–µ–¥–∏—Ç—ã —Å –Ω–æ–º–µ—Ä–∞–º–∏
        for i, row in enumerate(table_rows):
            for key, value in row.items():
                # –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏
                # –ù–∞–ø—Ä–∏–º–µ—Ä: –ø–ø_–∫—Ä–µ–¥–∏—Ç_1, –ø–ø_–∫—Ä–µ–¥–∏—Ç_2, ...
                result[f"{key}_{i+1}"] = value

        # –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–π –∫—Ä–µ–¥–∏—Ç –ë–ï–ó –Ω–æ–º–µ—Ä–∞ (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
        if table_rows:
            for key, value in table_rows[0].items():
                result[key] = value

        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
        result["–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∫—Ä–µ–¥–∏—Ç–æ–≤"] = str(len(table_rows))

        # –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–∞–ª–æ–≥–∏ - –¥–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ
        for i, row in enumerate(tax_rows):
            for key, value in row.items():
                result[f"{key}_{i+1}"] = value

        # –ü–µ—Ä–≤—ã–π –Ω–∞–ª–æ–≥ –ë–ï–ó –Ω–æ–º–µ—Ä–∞
        if tax_rows:
            for key, value in tax_rows[0].items():
                result[key] = value

        result["–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–Ω–∞–ª–æ–≥–æ–≤"] = str(len(tax_rows))

        return result

    @staticmethod
    def format_bank_accounts_table(—Å—á–µ—Ç–∞_docs: List[Dict[str, Any]]) -> Dict[str, Any]:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.

        Args:
            —Å—á–µ—Ç–∞_docs: —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "—Å—á–µ—Ç–∞"

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–æ–º "—Å—á–µ—Ç–∞" (—Å–ø–∏—Å–æ–∫ –¥–ª—è Jinja2)
        """
        —Å—á–µ—Ç–∞_rows = []
        counter = 1

        for doc in —Å—á–µ—Ç–∞_docs:
            —Å—á–µ—Ç–∞_list = doc.get("–°—á–µ—Ç–∞", [])

            for —Å—á–µ—Ç in —Å—á–µ—Ç–∞_list:
                if not isinstance(—Å—á–µ—Ç, dict):
                    continue

                –±–∞–Ω–∫ = —Å—á–µ—Ç.get("–ë–∞–Ω–∫") or ""
                if not –±–∞–Ω–∫:
                    continue

                # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (GPT –¥–æ–ª–∂–µ–Ω –∏–∑–≤–ª–µ—á—å –æ—Ç–¥–µ–ª—å–Ω–æ)
                –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = (—Å—á–µ—Ç.get("–ê–¥—Ä–µ—Å_–±–∞–Ω–∫–∞") or "").strip()

                # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏)
                _, –±–∞–Ω–∫_canonical = DocumentProcessor.normalize_bank_name(–±–∞–Ω–∫)
                
                # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¶–ë –†–§
                –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–±–∞–Ω–∫_canonical)
                
                # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∞–¥—Ä–µ—Å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–µ—Å–ª–∏ GPT –∏–∑–≤–ª—ë–∫), –∏–Ω–∞—á–µ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
                if –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = f"{–±–∞–Ω–∫_canonical}, {–∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞}"
                elif –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = f"{–±–∞–Ω–∫_canonical}, {–∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞}"
                else:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –±–∞–Ω–∫_canonical

                —Ç–∏–ø_—Å—á–µ—Ç–∞ = —Å—á–µ—Ç.get("–¢–∏–ø") or —Å—á–µ—Ç.get("–°—Ç–∞—Ç—É—Å") or ""
                –Ω–æ–º–µ—Ä = —Å—á–µ—Ç.get("–ù–æ–º–µ—Ä") or ""
                –¥–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è = —Å—á–µ—Ç.get("–î–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è") or ""
                –æ—Å—Ç–∞—Ç–æ–∫ = —Å—á–µ—Ç.get("–û—Å—Ç–∞—Ç–æ–∫") or ""

                # –ï—Å–ª–∏ –æ—Å—Ç–∞—Ç–æ–∫ "0.00" –∏–ª–∏ "0" - –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º
                if –æ—Å—Ç–∞—Ç–æ–∫ in ("0.00", "0", "None"):
                    –æ—Å—Ç–∞—Ç–æ–∫ = ""

                —Å—á–µ—Ç–∞_rows.append({
                    "—Å—á–µ—Ç–∞_–ø–ø": f"3.{counter}",
                    "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∏_–∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞_–∏–ª–∏_–∏–Ω–æ–π_–∫—Ä–µ–¥–∏—Ç–Ω–æ–π_–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏": –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞,
                    "–í–∏–¥_—Å—á–µ—Ç–∞": —Ç–∏–ø_—Å—á–µ—Ç–∞,
                    "–î–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è_—Å—á–µ—Ç–∞": –¥–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è,
                    "–û—Å—Ç–∞—Ç–æ–∫_–Ω–∞_—Å—á–µ—Ç–µ": –æ—Å—Ç–∞—Ç–æ–∫,
                })
                counter += 1

        return {"—Å—á–µ—Ç–∞": —Å—á–µ—Ç–∞_rows}

    @staticmethod
    def format_realty_table(–µ–≥—Ä–Ω_docs: List[Dict[str, Any]], owner_fio: str = "", inventory_list: Optional[List[Dict[str, Any]]] = None) -> Dict[str, Any]:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.

        Args:
            –µ–≥—Ä–Ω_docs: —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞"
            owner_fio: –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞) –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
            inventory_list: –¥–∞–Ω–Ω—ã–µ –∏–∑ "–û–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞" (–¥–ª—è fallback –µ—Å–ª–∏ –Ω–µ—Ç –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù)

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
        """
        –∑–µ–º–µ–ª—å–Ω—ã–µ = []
        –∂–∏–ª—ã–µ_–¥–æ–º–∞ = []
        –∫–≤–∞—Ä—Ç–∏—Ä—ã = []
        –≥–∞—Ä–∞–∂–∏ = []
        –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ = []
        
        # –°–ø–∏—Å–æ–∫ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ (–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ –∏ –∞–¥—Ä–µ—Å–∞)
        processed_cadastral = set()
        processed_addresses = set()
        
        # --- –§–£–ù–ö–¶–ò–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø –í –°–ü–ò–°–ö–ò ---
        def add_to_category(obj_data, category_counters):
            —Ç–∏–ø_lower = (obj_data.get("–¢–∏–ø") or "").lower()
            –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ_lower = (obj_data.get("–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ") or "").lower()
            –∞–¥—Ä–µ—Å_lower = (obj_data.get("–ê–¥—Ä–µ—Å") or "").lower()
            —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ = obj_data.get("–¢–∏–ø") or obj_data.get("–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ") or "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"

            base_obj = {
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": obj_data.get("–í–∏–¥_–ø—Ä–∞–≤–∞", "—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å"),
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": obj_data.get("–ê–¥—Ä–µ—Å", ""),
                "–ü–ª–æ—â–∞–¥—å": obj_data.get("–ü–ª–æ—â–∞–¥—å", ""),
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": obj_data.get("–û—Å–Ω–æ–≤–∞–Ω–∏–µ", ""),
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": obj_data.get("–ó–∞–ª–æ–≥", ""),
            }

            if "–∑–µ–º–µ–ª—å–Ω" in —Ç–∏–ø_lower or "—É—á–∞—Å—Ç–æ–∫" in —Ç–∏–ø_lower:
                –∑–µ–º–µ–ª—å–Ω—ã–µ.append({
                    **base_obj,
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": obj_data.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", ""),
                    "–ù–æ–º–µ—Ä_–≤_—Å–ø–∏—Å–∫–µ": category_counters['–∑–µ–º–ª—è'],
                })
                category_counters['–∑–µ–º–ª—è'] += 1

            elif ("–∂–∏–ª" in —Ç–∏–ø_lower and "–¥–æ–º" in —Ç–∏–ø_lower) or "–¥–∞—á–∞" in —Ç–∏–ø_lower or "—Å–∞–¥–æ–≤—ã–π –¥–æ–º" in —Ç–∏–ø_lower:
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{category_counters['–¥–æ–º']}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞}" if category_counters['–¥–æ–º'] > 1 else —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞
                –∂–∏–ª—ã–µ_–¥–æ–º–∞.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                category_counters['–¥–æ–º'] += 1

            elif (
                "–∫–≤–∞—Ä—Ç–∏—Ä" in —Ç–∏–ø_lower or 
                "–∫–æ–º–Ω–∞—Ç" in —Ç–∏–ø_lower or 
                "–∫–≤." in —Ç–∏–ø_lower or
                "–∫–≤–∞—Ä—Ç–∏—Ä–∞" in –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ_lower or
                ("–ø–æ–º–µ—â–µ–Ω–∏–µ" in —Ç–∏–ø_lower and "–∂–∏–ª" in –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ_lower)
            ):
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{category_counters['–∫–≤–∞—Ä—Ç–∏—Ä–∞']}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞}" if category_counters['–∫–≤–∞—Ä—Ç–∏—Ä–∞'] > 1 else —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞
                –∫–≤–∞—Ä—Ç–∏—Ä—ã.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                category_counters['–∫–≤–∞—Ä—Ç–∏—Ä–∞'] += 1

            elif "–≥–∞—Ä–∞–∂" in —Ç–∏–ø_lower or "–±–æ–∫—Å" in —Ç–∏–ø_lower or "–º–∞—à–∏–Ω–æ-–º–µ—Å—Ç–æ" in —Ç–∏–ø_lower:
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{category_counters['–≥–∞—Ä–∞–∂']}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞}" if category_counters['–≥–∞—Ä–∞–∂'] > 1 else —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞
                –≥–∞—Ä–∞–∂–∏.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                category_counters['–≥–∞—Ä–∞–∂'] += 1

            else:
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{category_counters['–∏–Ω–æ–µ']}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞}" if category_counters['–∏–Ω–æ–µ'] > 1 else —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞
                –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∏–º—É—â–µ—Å—Ç–≤–∞": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                category_counters['–∏–Ω–æ–µ'] += 1
        
        category_counters = {
            '–∑–µ–º–ª—è': 1, '–¥–æ–º': 1, '–∫–≤–∞—Ä—Ç–∏—Ä–∞': 1, '–≥–∞—Ä–∞–∂': 1, '–∏–Ω–æ–µ': 1
        }

        for doc in –µ–≥—Ä–Ω_docs:
            if not isinstance(doc, dict):
                continue

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —ç—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
            if not doc.get("–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", True):
                continue
            if doc.get("–†–µ–∑—É–ª—å—Ç–∞—Ç") == "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                continue

            # –ù–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê: –º–∞—Å—Å–∏–≤ "–û–±—ä–µ–∫—Ç—ã"
            –æ–±—ä–µ–∫—Ç—ã_—Å–ø–∏—Å–æ–∫ = doc.get("–û–±—ä–µ–∫—Ç—ã", [])
            if not –æ–±—ä–µ–∫—Ç—ã_—Å–ø–∏—Å–æ–∫:
                –æ–±—ä–µ–∫—Ç—ã_—Å–ø–∏—Å–æ–∫ = [doc]
            
            for obj in –æ–±—ä–µ–∫—Ç—ã_—Å–ø–∏—Å–æ–∫:
                # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π
                –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏ = obj.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏", [])

                # –§–ò–õ–¨–¢–†: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
                has_active_ownership = False
                for –ø—Ä–∞–≤–æ in –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏:
                    –¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è = –ø—Ä–∞–≤–æ.get("–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or –ø—Ä–∞–≤–æ.get("–¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or –ø—Ä–∞–≤–æ.get("–¥–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or –ø—Ä–∞–≤–æ.get("–î–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or ""
                    if not –¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è or –¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è.strip().lower() == "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                        has_active_ownership = True
                        break
                
                if not has_active_ownership:
                    continue

                # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –Ω–∞—à —á–µ–ª–æ–≤–µ–∫ —Å—Ä–µ–¥–∏ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π
                owner_found = False
                owner_data = None

                if owner_fio:
                    for –ø—Ä–∞–≤–æ in –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏:
                        —Ñ–∏–æ = –ø—Ä–∞–≤–æ.get("–§–ò–û", "")
                        if owner_fio and —Ñ–∏–æ and owner_fio in —Ñ–∏–æ:
                            owner_found = True
                            owner_data = –ø—Ä–∞–≤–æ
                            break
                    if not owner_found:
                        continue
                else:
                    if –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏:
                        owner_data = –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏[0]
                        owner_found = True

                # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞
                –æ–±—ä–µ–∫—Ç = obj.get("–û–±—ä–µ–∫—Ç", {})

                –∫–∞–¥–∞—Å—Ç—Ä = obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", "")
                –∞–¥—Ä–µ—Å = –æ–±—ä–µ–∫—Ç.get("–ê–¥—Ä–µ—Å") or obj.get("–ê–¥—Ä–µ—Å", "")
                –ø–ª–æ—â–∞–¥—å = –æ–±—ä–µ–∫—Ç.get("–ü–ª–æ—â–∞–¥—å") or obj.get("–ü–ª–æ—â–∞–¥—å", "")
                —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ = –æ–±—ä–µ–∫—Ç.get("–í–∏–¥") or obj.get("–¢–∏–ø_–æ–±—ä–µ–∫—Ç–∞", "")
                –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ = –æ–±—ä–µ–∫—Ç.get("–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ", "")

                # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–º—É
                if –∫–∞–¥–∞—Å—Ç—Ä and –∫–∞–¥–∞—Å—Ç—Ä in processed_cadastral:
                    continue
                if –∫–∞–¥–∞—Å—Ç—Ä:
                    processed_cadastral.add(–∫–∞–¥–∞—Å—Ç—Ä)
                
                # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∞–¥—Ä–µ—Å—É 
                if –∞–¥—Ä–µ—Å:
                    # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä + —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤
                    addr_clean = " ".join(–∞–¥—Ä–µ—Å.lower().split())
                    if addr_clean in processed_addresses:
                        continue
                    processed_addresses.add(addr_clean)

                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∏–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –¥–æ–ª—é
                –≤–∏–¥_–ø—Ä–∞–≤–∞ = ""
                –¥–æ–ª—è = ""
                –¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ = ""
                —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = ""
                
                if owner_data:
                    –≤–∏–¥_–ø—Ä–∞–≤–∞ = owner_data.get("–í–∏–¥_–ø—Ä–∞–≤–∞", "")
                    –¥–æ–ª—è = owner_data.get("–î–æ–ª—è", "")
                    –¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ = owner_data.get("–î–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ", "") or owner_data.get("–î–æ–∫—É–º–µ–Ω—Ç", "")
                    —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = owner_data.get("–¢–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏", "")

                # –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π –≤–∏–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
                —á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = []
                
                # 1. –¢–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
                if —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
                    normalized_type = " ".join(—Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.split()).lower()
                    clean_parts = []
                    seen_parts = set()
                    for part in —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.split(","):
                        part_clean = part.strip()
                        part_lower = part_clean.lower()
                        is_common_share = "–æ–±—â–µ–¥–æ–ª–µ–≤–∞—è" in part_lower or "–æ–±—â–∞—è –¥–æ–ª–µ–≤–∞—è" in part_lower
                        if is_common_share:
                             if "common_share" in seen_parts: continue
                             seen_parts.add("common_share")
                        clean_parts.append(part_clean)
                    —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏_fixed = ", ".join(clean_parts)
                    if —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏_fixed: —á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.append(—Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏_fixed)

                # 2. –í–∏–¥ –ø—Ä–∞–≤–∞
                if –≤–∏–¥_–ø—Ä–∞–≤–∞:
                    –≤–∏–¥_–ø—Ä–∞–≤–∞_lower = –≤–∏–¥_–ø—Ä–∞–≤–∞.lower()
                    —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏_lower = —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.lower() if —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ else ""
                    if not (–≤–∏–¥_–ø—Ä–∞–≤–∞_lower in —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏_lower or —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏_lower in –≤–∏–¥_–ø—Ä–∞–≤–∞_lower):
                        —á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.append(–≤–∏–¥_–ø—Ä–∞–≤–∞)
                
                # 3. –î–æ–ª—è
                if –¥–æ–ª—è and –¥–æ–ª—è != "1/1":
                    —á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.append(f"–¥–æ–ª—è –≤ –ø—Ä–∞–≤–µ: {–¥–æ–ª—è}")
                
                # 4. –î—Ä—É–≥–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏
                if —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ and "—Å–æ–≤–º–µ—Å—Ç–Ω" in —Ç–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.lower() and len(–ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏) > 1:
                    –¥—Ä—É–≥–∏–µ = [–ø.get("–§–ò–û", "") for –ø in –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏ if –ø != owner_data]
                    if –¥—Ä—É–≥–∏–µ:
                        —á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.append(f"—Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å: {', '.join(–¥—Ä—É–≥–∏–µ)}")
                
                –∏—Ç–æ–≥_–≤–∏–¥_–ø—Ä–∞–≤–∞ = ", ".join(—á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏) if —á–∞—Å—Ç–∏_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ else ""

                # –û—Å–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å
                —á–∞—Å—Ç–∏_–æ—Å–Ω–æ–≤–∞–Ω–∏—è = []
                if –¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:
                    —á–∞—Å—Ç–∏_–æ—Å–Ω–æ–≤–∞–Ω–∏—è.append(–¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ)
                
                –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å = obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")
                if –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å:
                    —á–∞—Å—Ç–∏_–æ—Å–Ω–æ–≤–∞–Ω–∏—è.append(f"–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {–∫–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å}")
                
                –∏—Ç–æ–≥_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ = "; ".join(—á–∞—Å—Ç–∏_–æ—Å–Ω–æ–≤–∞–Ω–∏—è) if —á–∞—Å—Ç–∏_–æ—Å–Ω–æ–≤–∞–Ω–∏—è else ""

                # –û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è
                –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è = obj.get("–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è", [])
                –∑–∞–ª–æ–≥–∏ = []
                if isinstance(–æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è, list):
                    for –æ–±—Ä in –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è:
                        if not isinstance(–æ–±—Ä, dict): continue
                        if –æ–±—Ä.get("–ü–æ–≥–∞—à–µ–Ω–æ"): continue
                        –≤–∏–¥ = –æ–±—Ä.get("–í–∏–¥", "")
                        –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å_–∏–º—è = –æ–±—Ä.get("–ó–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å", "")
                        if ("–∏–ø–æ—Ç–µ–∫" in –≤–∏–¥.lower() or "–∑–∞–ª–æ–≥" in –≤–∏–¥.lower()) and –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å_–∏–º—è:
                            –∑–∞–ª–æ–≥–∏.append(f"{–≤–∏–¥} ({–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å_–∏–º—è})")
                
                –∏—Ç–æ–≥_–∑–∞–ª–æ–≥ = "; ".join(–∑–∞–ª–æ–≥–∏) if –∑–∞–ª–æ–≥–∏ else ""

                # –ü–û–î–ì–û–¢–û–í–ö–ê –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø
                prepared_data = {
                    "–¢–∏–ø": —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞,
                    "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ": –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ,
                    "–ê–¥—Ä–µ—Å": –∞–¥—Ä–µ—Å,
                    "–í–∏–¥_–ø—Ä–∞–≤–∞": –∏—Ç–æ–≥_–≤–∏–¥_–ø—Ä–∞–≤–∞,
                    "–ü–ª–æ—â–∞–¥—å": –ø–ª–æ—â–∞–¥—å,
                    "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": –∏—Ç–æ–≥_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ,
                    "–ó–∞–ª–æ–≥": –∏—Ç–æ–≥_–∑–∞–ª–æ–≥,
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": –∫–∞–¥–∞—Å—Ç—Ä
                }
                
                add_to_category(prepared_data, category_counters)

        # –î–û–ë–ê–í–õ–ï–ù–ò–ï –ò–ó –ò–ù–í–ï–ù–¢–ê–†–Ø (–ï–°–õ–ò –ï–°–¢–¨)
        if inventory_list:
            flat_items = []
            for item in inventory_list:
                # –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: [{"–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": [...]}, ...]
                if item.get("–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å") and isinstance(item.get("–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"), list):
                    flat_items.extend(item["–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"])
                # –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–æ—Å–∫–∞—è –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç
                elif item.get("–í–∏–¥") or item.get("–¢–∏–ø") or item.get("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ"):
                     flat_items.append(item)

            for item in flat_items:
                raw_type = item.get("–í–∏–¥") or item.get("–¢–∏–ø") or item.get("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ") or "–ò–º—É—â–µ—Å—Ç–≤–æ"
                # –§–∏–ª—å—Ç—Ä: –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –µ—Å–ª–∏ –æ–Ω –ø–æ–ø–∞–ª –≤ —Å–ø–∏—Å–æ–∫
                if "–∞–≤—Ç–æ" in raw_type.lower() or "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç" in raw_type.lower():
                    continue

                raw_addr = item.get("–ê–¥—Ä–µ—Å") or item.get("–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ") or item.get("–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ") or ""
                raw_cadastral = item.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä") or item.get("–ö–∞–¥–∞—Å—Ç—Ä") or ""
                
                # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
                if raw_cadastral and raw_cadastral in processed_cadastral:
                    continue
                if raw_addr:
                    addr_clean = " ".join(raw_addr.lower().split())
                    if addr_clean in processed_addresses:
                        continue
                    processed_addresses.add(addr_clean)
                
                # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
                prepared_inv = {
                    "–¢–∏–ø": raw_type,
                    "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ": raw_type, # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∏–ø –∫–∞–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç –¥—Ä—É–≥–æ–≥–æ
                    "–ê–¥—Ä–µ—Å": raw_addr,
                    "–í–∏–¥_–ø—Ä–∞–≤–∞": item.get("–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏") or item.get("–ü—Ä–∞–≤–æ") or "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                    "–ü–ª–æ—â–∞–¥—å": item.get("–ü–ª–æ—â–∞–¥—å", ""),
                    "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": item.get("–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è") or item.get("–î–æ–∫—É–º–µ–Ω—Ç—ã_–æ—Å–Ω–æ–≤–∞–Ω–∏—è") or item.get("–û—Å–Ω–æ–≤–∞–Ω–∏–µ", ""),
                    "–ó–∞–ª–æ–≥": item.get("–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ") or item.get("–ó–∞–ª–æ–≥", ""),
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": raw_cadastral
                }
                
                add_to_category(prepared_inv, category_counters)

        # –ï—Å–ª–∏ —Å–ø–∏—Å–∫–∏ –ø—É—Å—Ç—ã–µ, –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ –æ–¥–Ω–æ–º—É –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—é —Å –ø—É—Å—Ç—ã–º–∏ –ø–æ–ª—è–º–∏.
        # –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ —à–∞–±–ª–æ–Ω–µ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ docxtpl
        # ‚Äî –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –±—É–¥–µ—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–∞ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –º–∞–∫–µ—Ç.
        if not –∑–µ–º–µ–ª—å–Ω—ã–µ:
            –∑–µ–º–µ–ª—å–Ω—ã–µ.append({
                "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
                "–ù–æ–º–µ—Ä_–≤_—Å–ø–∏—Å–∫–µ": "",
            })

        if not –∂–∏–ª—ã–µ_–¥–æ–º–∞:
            –∂–∏–ª—ã–µ_–¥–æ–º–∞.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        if not –∫–≤–∞—Ä—Ç–∏—Ä—ã:
            –∫–≤–∞—Ä—Ç–∏—Ä—ã.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        if not –≥–∞—Ä–∞–∂–∏:
            –≥–∞—Ä–∞–∂–∏.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        if not –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ:
            –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∏–º—É—â–µ—Å—Ç–≤–∞": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        return {
            "–∑–µ–º–µ–ª—å–Ω—ã–µ_—É—á–∞—Å—Ç–∫–∏": –∑–µ–º–µ–ª—å–Ω—ã–µ,
            "–∂–∏–ª—ã–µ_–¥–æ–º–∞": –∂–∏–ª—ã–µ_–¥–æ–º–∞,
            "–∫–≤–∞—Ä—Ç–∏—Ä—ã": –∫–≤–∞—Ä—Ç–∏—Ä—ã,
            "–≥–∞—Ä–∞–∂–∏": –≥–∞—Ä–∞–∂–∏,
            "–∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ": –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ,
        }

    @staticmethod
    def format_vehicles_table(–≥–∏–±–¥–¥_docs: List[Dict[str, Any]]) -> Dict[str, Any]:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.

        Args:
            –≥–∏–±–¥–¥_docs: —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "–≥–∏–±–¥–¥"

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ "–ù–µ—Ç—É_–≥–∏–±–¥–¥" (—Ç–µ–∫—Å—Ç –µ—Å–ª–∏ —Å–ø—Ä–∞–≤–∫–∏ –Ω–µ—Ç)
        """
        print(f"[VEHICLES_TABLE] –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {len(–≥–∏–±–¥–¥_docs)}")
        
        # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –º–∞—Å—Å–∏–≤–æ–º –≤ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
        all_vehicles = []
        for data in –≥–∏–±–¥–¥_docs:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç: {"–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç": true, "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞": [...]}
            if "–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç" in data:
                if data.get("–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç") is True and "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞" in data:
                    # –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –¢–° –∏–∑ –º–∞—Å—Å–∏–≤–∞
                    vehicles_array = data.get("–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞", [])
                    if isinstance(vehicles_array, list):
                        all_vehicles.extend(vehicles_array)
                # –ï—Å–ª–∏ –ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç = false, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º (—Å–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏)
            else:
                # –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç: –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç = –æ–¥–Ω–æ –¢–°
                all_vehicles.append(data)
        
        print(f"[VEHICLES_TABLE] –ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤: {len(all_vehicles)} –¢–°")
        
        # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ VIN (–≤–∫–ª—é—á–∞—è –Ω–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫)
        seen_vins = {} # Map cleaned_vin -> data
        deduplicated = []
        
        for data in all_vehicles:
            raw_vin = data.get("VIN", "")
            
            # –ï—Å–ª–∏ VIN –Ω–µ—Ç, –¥–æ–±–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
            if not raw_vin:
                deduplicated.append(data)
                continue
                
            # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è VIN (—É–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã, —Ç–∏—Ä–µ –∏ –ø—Ä–∏–≤–æ–¥–∏–º –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É)
            current_vin = re.sub(r'[^A-Z0-9]', '', raw_vin.upper())
            if not current_vin:
                deduplicated.append(data)
                continue
            
            is_duplicate = False
            best_match_vin = None
            
            # 1. –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
            if current_vin in seen_vins:
                is_duplicate = True
                best_match_vin = current_vin
            else:
                # 2. –ù–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫ (–¥–ª—è –±–æ—Ä—å–±—ã —Å –æ—à–∏–±–∫–∞–º–∏ OCR: 8 vs 3, D vs 0, 8 vs 6)
                # –ü–æ—Ä–æ–≥ 0.8 –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–π—Ç–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø—Ä–∏ ~3 —Ä–∞–∑–ª–∏—á–∏—è—Ö –≤ 17 —Å–∏–º–≤–æ–ª–∞—Ö
                best_ratio = 0.0
                for seen_vin in seen_vins:
                    ratio = difflib.SequenceMatcher(None, current_vin, seen_vin).ratio()
                    if ratio > best_ratio:
                        best_ratio = ratio
                        best_match_vin = seen_vin
                
                if best_ratio > 0.8:
                    is_duplicate = True
                    print(f"      [DEDUP] –ù–∞–π–¥–µ–Ω –Ω–µ—á–µ—Ç–∫–∏–π –¥—É–±–ª–∏–∫–∞—Ç VIN: {current_vin} ~ {best_match_vin} (ratio: {best_ratio:.2f})")
            
            if is_duplicate and best_match_vin:
                # –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–∏
                existing_data = seen_vins[best_match_vin]
                
                existing_doc_type = str(existing_data.get("–î–æ–∫—É–º–µ–Ω—Ç", {}).get("–¢–∏–ø", "")).upper()
                current_doc_type = str(data.get("–î–æ–∫—É–º–µ–Ω—Ç", {}).get("–¢–∏–ø", "")).upper()
                
                # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–¢–° > –ü–¢–° > –î–æ–≥–æ–≤–æ—Ä
                def get_priority(doc_type):
                    if "–°–¢–°" in doc_type or "–°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–û" in doc_type: return 3
                    if "–ü–¢–°" in doc_type or "–ü–ê–°–ü–û–†–¢" in doc_type: return 2
                    return 1
                
                current_prio = get_priority(current_doc_type)
                existing_prio = get_priority(existing_doc_type)
                
                if current_prio > existing_prio:
                    # –ó–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—É—é –∑–∞–ø–∏—Å—å –Ω–∞ –Ω–æ–≤—É—é, –±–æ–ª–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—É—é
                    deduplicated.remove(existing_data)
                    deduplicated.append(data)
                    # –û–±–Ω–æ–≤–ª—è–µ–º –º–∞–ø–ø–∏–Ω–≥. –ï—Å–ª–∏ VIN –±—ã–ª —Ä–∞–∑–Ω—ã–π (fuzzy), —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –∫–ª—é—á, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π
                    if best_match_vin != current_vin:
                        del seen_vins[best_match_vin]
                    seen_vins[current_vin] = data
                    print(f"      [DEDUP] –û–±–Ω–æ–≤–ª–µ–Ω–æ: {existing_doc_type} -> {current_doc_type}")
                else:
                    print(f"      [DEDUP] –û—Å—Ç–∞–≤–ª–µ–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ: {existing_doc_type} (vs {current_doc_type})")
            else:
                # –ù–æ–≤–µ–Ω—å–∫–∏–π
                seen_vins[current_vin] = data
                deduplicated.append(data)
        
        print(f"[VEHICLES_TABLE] –ü–æ—Å–ª–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: {len(deduplicated)} –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
        for i, doc in enumerate(deduplicated):
            print(f"[VEHICLES_TABLE] –î–æ–∫—É–º–µ–Ω—Ç {i}: {doc}")
        
        –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ = []  # –ª–µ–≥–∫–æ–≤—ã–µ
        –≥—Ä—É–∑–æ–≤–∏–∫–∏ = []
        –º–æ—Ç–æ = []
        —Å–µ–ª—å—Ö–æ–∑ = []
        –≤–æ–¥–Ω—ã–π = []
        –≤–æ–∑–¥—É—à–Ω—ã–π = []
        
        counter_auto = 1
        counter_truck = 1
        counter_moto = 1
        counter_agro = 1
        counter_water = 1
        counter_air = 1
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–ø—Ä–∞–≤–∫–∞ –ì–ò–ë–î–î
        has_gibdd = len(–≥–∏–±–¥–¥_docs) > 0

        for doc in deduplicated:
            if not isinstance(doc, dict):
                continue

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–æ–±—ã–µ –æ—Ç–º–µ—Ç–∫–∏
            special_notes = doc.get("–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏", "")
            if special_notes:
                special_lower = special_notes.lower()
                # –£–î–ê–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" –¥–∞–≤–∞–ª–∞ –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä "–ê—Ä–µ—Å—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç")
                
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ/—Å–Ω—è—Ç—ã–µ —Å —É—á–µ—Ç–∞
                if any(keyword in special_lower for keyword in 
                       ["—Å–Ω—è—Ç–æ —Å —É—á–µ—Ç–∞", "–ø—Ä–æ–¥–∞–∂", "–ø—Ä–æ–¥–∞–Ω", "–ø–µ—Ä–µ–¥–∞—á", "—É—Ç–∏–ª–∏–∑–∞—Ü"]):
                    continue

            –º–∞—Ä–∫–∞ = doc.get("–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å") or ""
            –≤–∏–Ω = doc.get("VIN") or ""
            –≥–æ–¥ = doc.get("–ì–æ–¥_–≤—ã–ø—É—Å–∫–∞") or ""
            –Ω–æ–º–µ—Ä = doc.get("–ì–æ—Å_–Ω–æ–º–µ—Ä") or doc.get("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π_–∑–Ω–∞–∫") or doc.get("–ù–æ–º–µ—Ä") or ""
            —Ç–∏–ø_—Ç—Å = (doc.get("–¢–∏–ø_–¢–°") or "").lower()

            # –û—Ç–ª–∞–¥–∫–∞: –≤—ã–≤–æ–¥–∏–º —á—Ç–æ –∏–∑–≤–ª–µ—á–µ–Ω–æ
            print(f"[VEHICLES_TABLE] –û–±—Ä–∞–±–æ—Ç–∫–∞ –¢–°:")
            print(f"  –¢–∏–ø_–¢–°: '{—Ç–∏–ø_—Ç—Å}'")
            print(f"  –ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å: '{–º–∞—Ä–∫–∞}'")
            print(f"  VIN: '{–≤–∏–Ω}'")
            print(f"  –ì–æ–¥_–≤—ã–ø—É—Å–∫–∞: '{–≥–æ–¥}'")
            print(f"  –ì–æ—Å_–Ω–æ–º–µ—Ä: '{–Ω–æ–º–µ—Ä}'")

            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –µ—Å–ª–∏ –Ω–µ—Ç –º–∞—Ä–∫–∏, VIN –∏ –Ω–æ–º–µ—Ä–∞ (–ø—É—Å—Ç–æ–π –¥–æ–∫—É–º–µ–Ω—Ç)
            if not –º–∞—Ä–∫–∞ and not –≤–∏–Ω and not –Ω–æ–º–µ—Ä:
                print(f"  [SKIP] –ü—Ä–æ–ø—É—â–µ–Ω–æ: –Ω–µ—Ç –º–∞—Ä–∫–∏, VIN –∏ –≥–æ—Å. –Ω–æ–º–µ—Ä–∞")
                continue

            # –ï–¥–∏–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≤–∏–¥–∞ –∏ –º–∞—Ä–∫–∏
            –≤–∏–¥_–º–∞—Ä–∫–∞ = –º–∞—Ä–∫–∞
            if not –≤–∏–¥_–º–∞—Ä–∫–∞ and —Ç–∏–ø_—Ç—Å:
                –≤–∏–¥_–º–∞—Ä–∫–∞ = —Ç–∏–ø_—Ç—Å.capitalize()
            if not –≤–∏–¥_–º–∞—Ä–∫–∞ and –Ω–æ–º–µ—Ä:
                –≤–∏–¥_–º–∞—Ä–∫–∞ = f"–¢–° –≥–æ—Å. –Ω–æ–º–µ—Ä {–Ω–æ–º–µ—Ä}"
            
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

            # –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä - —ç—Ç–æ VIN
            id_–Ω–æ–º–µ—Ä = –≤–∏–Ω

            # –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
            –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = doc.get("–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏") or ""
            —Å—Ç–æ–∏–º–æ—Å—Ç—å = doc.get("–°—Ç–æ–∏–º–æ—Å—Ç—å") or ""
            –∑–∞–ª–æ–≥ = doc.get("–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ") or ""

            vehicle_entry = {
                "–í–∏–¥_–º–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å": –≤–∏–¥_–º–∞—Ä–∫–∞,
                "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π_–Ω–æ–º–µ—Ä": id_–Ω–æ–º–µ—Ä,
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏,
                "–ú–µ—Å—Ç–æ_–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è": "",
                "–°—Ç–æ–∏–º–æ—Å—Ç—å": —Å—Ç–æ–∏–º–æ—Å—Ç—å,
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ": –∑–∞–ª–æ–≥,
            }

            # –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –¢–°
            if "–≥—Ä—É–∑–æ–≤" in —Ç–∏–ø_—Ç—Å or "truck" in —Ç–∏–ø_—Ç—Å:
                vehicle_entry["–∞–≤—Ç–æ_–ø–ø"] = str(counter_truck)
                –≥—Ä—É–∑–æ–≤–∏–∫–∏.append(vehicle_entry)
                counter_truck += 1
            elif "–º–æ—Ç–æ" in —Ç–∏–ø_—Ç—Å or "motorcycle" in —Ç–∏–ø_—Ç—Å or "–º–æ—Ç–æ—Ü–∏–∫–ª" in —Ç–∏–ø_—Ç—Å:
                vehicle_entry["–∞–≤—Ç–æ_–ø–ø"] = str(counter_moto)
                –º–æ—Ç–æ.append(vehicle_entry)
                counter_moto += 1
            elif "—Å–µ–ª—å—Å–∫" in —Ç–∏–ø_—Ç—Å or "—Ç—Ä–∞–∫—Ç–æ—Ä" in —Ç–∏–ø_—Ç—Å or "–∫–æ–º–±–∞–π–Ω" in —Ç–∏–ø_—Ç—Å:
                vehicle_entry["–∞–≤—Ç–æ_–ø–ø"] = str(counter_agro)
                —Å–µ–ª—å—Ö–æ–∑.append(vehicle_entry)
                counter_agro += 1
            elif "–≤–æ–¥–Ω" in —Ç–∏–ø_—Ç—Å or "–ª–æ–¥–∫" in —Ç–∏–ø_—Ç—Å or "–∫–∞—Ç–µ—Ä" in —Ç–∏–ø_—Ç—Å or "—è—Ö—Ç" in —Ç–∏–ø_—Ç—Å:
                vehicle_entry["–∞–≤—Ç–æ_–ø–ø"] = str(counter_water)
                –≤–æ–¥–Ω—ã–π.append(vehicle_entry)
                counter_water += 1
            elif "–≤–æ–∑–¥—É—à" in —Ç–∏–ø_—Ç—Å or "—Å–∞–º–æ–ª–µ—Ç" in —Ç–∏–ø_—Ç—Å or "–≤–µ—Ä—Ç–æ–ª–µ—Ç" in —Ç–∏–ø_—Ç—Å:
                vehicle_entry["–∞–≤—Ç–æ_–ø–ø"] = str(counter_air)
                –≤–æ–∑–¥—É—à–Ω—ã–π.append(vehicle_entry)
                counter_air += 1
            else:
                # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ª–µ–≥–∫–æ–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å
                vehicle_entry["–∞–≤—Ç–æ_–ø–ø"] = str(counter_auto)
                –∞–≤—Ç–æ–º–æ–±–∏–ª–∏.append(vehicle_entry)
                counter_auto += 1
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è —Å–ª—É—á–∞—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–ø—Ä–∞–≤–∫–∏ –ì–ò–ë–î–î
        # –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
        # - –ï—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç —Å "–Ø–≤–ª—è–µ—Ç—Å—è_—Å–ø—Ä–∞–≤–∫–æ–π_–ì–ò–ë–î–î": true ‚Üí —Ç–µ–∫—Å—Ç –ù–ï –≤—ã–≤–æ–¥–∏—Ç—Å—è
        # - –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –ü–¢–°/–°–¢–° (–±–µ–∑ —Å–ø—Ä–∞–≤–∫–∏) ‚Üí —Ç–µ–∫—Å—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è
        # - –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤–æ–æ–±—â–µ –Ω–µ—Ç ‚Üí —Ç–µ–∫—Å—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è
        gibdd_notice = ""
        has_gibdd_spravka = any(doc.get("–Ø–≤–ª—è–µ—Ç—Å—è_—Å–ø—Ä–∞–≤–∫–æ–π_–ì–ò–ë–î–î") == True for doc in deduplicated)
        
        if not has_gibdd_spravka:
            gibdd_notice = "–î–æ–ª–∂–Ω–∏–∫ –Ω–∞–ø—Ä–∞–≤–∏–ª –∑–∞—è–≤–ª–µ–Ω–∏–µ –≤ –ì–ò–ë–î–î –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö, –Ω–∞ –¥–∞—Ç—É –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∞ –Ω–µ –ø–æ–ª—É—á–µ–Ω–∞, –æ–±—è–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ —Å—É–¥–µ–±–Ω–æ–≥–æ –∑–∞—Å–µ–¥–∞–Ω–∏—è."

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ø–∏—Å–∫–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∫–∞–∫ –µ—Å—Ç—å (–∫–∞–∂–¥–æ–µ –¢–° - –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç)
        # –®–∞–±–ª–æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–∏–∫–ª—ã {% for –∞–≤—Ç–æ in –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ %} –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
        return {
            "–∞–≤—Ç–æ–º–æ–±–∏–ª–∏": –∞–≤—Ç–æ–º–æ–±–∏–ª–∏,
            "–≥—Ä—É–∑–æ–≤–∏–∫–∏": –≥—Ä—É–∑–æ–≤–∏–∫–∏,
            "–º–æ—Ç–æ": –º–æ—Ç–æ,
            "—Å–µ–ª—å—Ö–æ–∑": —Å–µ–ª—å—Ö–æ–∑,
            "–≤–æ–¥–Ω—ã–π": –≤–æ–¥–Ω—ã–π,
            "–≤–æ–∑–¥—É—à–Ω—ã–π": –≤–æ–∑–¥—É—à–Ω—ã–π,
            "–ù–µ—Ç—É_–≥–∏–±–¥–¥": gibdd_notice
        }

    @staticmethod
    def normalize_date(date_str: str) -> str:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞—Ç—É –∫ —Ñ–æ—Ä–º–∞—Ç—É –î–î.–ú–ú.–ì–ì–ì–ì.
        
        –ü—Ä–∏–º–µ—Ä—ã:
        - "09-09-2009" ‚Üí "09.09.2009"
        - "09/09/2009" ‚Üí "09.09.2009"
        - "09.09.2009" ‚Üí "09.09.2009"
        """
        if not date_str:
            return ""
        
        # –ó–∞–º–µ–Ω—è–µ–º –¥–µ—Ñ–∏—Å—ã –∏ —Å–ª—ç—à–∏ –Ω–∞ —Ç–æ—á–∫–∏
        normalized = date_str.replace("-", ".").replace("/", ".")
        
        return normalized.strip()
    
    @staticmethod
    def merge_credit_reports(data_map: Dict[str, List[Dict[str, Any]]]) -> List[Dict[str, Any]]:
        """–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ –û–ö–ë, –ë–ö–ò, –ù–ë–ö–ò –æ—Ç—á–µ—Ç–æ–≤, —É–±–∏—Ä–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.

        –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –ò–ù–ù/–û–ì–†–ù + –¥–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞).
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤".
        """
        all_credits = {}  # {–∫–ª—é—á_–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: –¥–∞–Ω–Ω—ã–µ_–∫—Ä–µ–¥–∏—Ç–∞}
        seen_keys = set()  # –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

        print("\n" + "="*80)
        print("–î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–Ø –ö–†–ï–î–ò–¢–û–í")
        print("="*80)

        for key in ("–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"):
            reports_count = len(data_map.get(key, []))
            if reports_count > 0:
                print(f"\nüìÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—á–µ—Ç–∞: {key.upper()} ({reports_count} —à—Ç.)")
            
            for report in data_map.get(key, []):
                # DEBUG: –ü–æ–∫–∞–∂–µ–º –≤—Å–µ –∫–ª—é—á–∏ –≤ –æ—Ç—á–µ—Ç–µ
                print(f"   [DEBUG] –ö–ª—é—á–∏ –≤ –æ—Ç—á–µ—Ç–µ {key}: {list(report.keys())}")
                
                collection = (
                    report.get("–ö—Ä–µ–¥–∏—Ç—ã")
                    or report.get("–î–æ–≥–æ–≤–æ—Ä—ã")
                    or []
                )
                
                if not collection:
                    print(f"   [WARNING] –ö—Ä–µ–¥–∏—Ç—ã/–î–æ–≥–æ–≤–æ—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –æ—Ç—á–µ—Ç–µ {key}")
                else:
                    print(f"   [DEBUG] –ù–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏: {len(collection)}")

                for entry in collection:
                    if not isinstance(entry, dict):
                        continue

                    –∫—Ä–µ–¥–∏—Ç–æ—Ä = (entry.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä") or "").strip()
                    if not –∫—Ä–µ–¥–∏—Ç–æ—Ä:
                        continue
                    
                    print(f"\n   ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω: {–∫—Ä–µ–¥–∏—Ç–æ—Ä}")

                    # –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø: –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
                    –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = DocumentProcessor.normalize_bank_name(–∫—Ä–µ–¥–∏—Ç–æ—Ä)

                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
                    –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower = –∫—Ä–µ–¥–∏—Ç–æ—Ä.lower()
                    if any(word in –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower for word in ["–º—Ñ–æ", "–º–∫–∫", "–º—Ñ–∫", "–º–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å", "–º–∏–∫—Ä–æ–∫—Ä–µ–¥–∏—Ç"]):
                        —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ú–§–û"
                    else:
                        —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ë–ê–ù–ö"

                    # –í—ã—á–∏—Å–ª—è–µ–º —Å—É–º–º—É –¥–æ–ª–≥–∞
                    –æ—Å–Ω–æ–≤–Ω–æ–π = DocumentProcessor.parse_decimal(entry.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥"))
                    –ø—Ä–æ—Ü–µ–Ω—Ç—ã = DocumentProcessor.parse_decimal(entry.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã"))
                    —à—Ç—Ä–∞—Ñ—ã = DocumentProcessor.parse_decimal(entry.get("–®—Ç—Ä–∞—Ñ—ã"))
                    
                    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ä–æ—á–∫–∏
                    —Ç–µ–∫—É—â–∞—è = DocumentProcessor.parse_decimal(entry.get("–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"))
                    –ø—Ä–æ—Å—Ä–æ—á–∫–∞ = DocumentProcessor.parse_decimal(entry.get("–ü—Ä–æ—Å—Ä–æ—á–∫–∞") or entry.get("–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞"))

                    if –æ—Å–Ω–æ–≤–Ω–æ–π or –ø—Ä–æ—Ü–µ–Ω—Ç—ã or —à—Ç—Ä–∞—Ñ—ã:
                        —Å—É–º–º–∞ = (–æ—Å–Ω–æ–≤–Ω–æ–π or Decimal(0)) + (–ø—Ä–æ—Ü–µ–Ω—Ç—ã or Decimal(0)) + (—à—Ç—Ä–∞—Ñ—ã or Decimal(0))
                    else:
                        # –î–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤: –±–µ—Ä–µ–º –ø–æ–ª–µ "–°—É–º–º–∞" (—É–∂–µ —Å–ª–æ–∂–µ–Ω–Ω—É—é –Ω–µ–π—Ä–æ–Ω–∫–æ–π)
                        # –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–ª—é—á–∏
                        —Å—É–º–º–∞ = (
                            DocumentProcessor.parse_decimal(entry.get("–°—É–º–º–∞")) or 
                            DocumentProcessor.parse_decimal(entry.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏")) or
                            DocumentProcessor.parse_decimal(entry.get("–û–±—â–∞—è_—Å—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏")) or
                            DocumentProcessor.parse_decimal(entry.get("–¢–µ–∫—É—â–∏–π_–¥–æ–ª–≥")) or
                            Decimal(0)
                        )
                        
                        # –ï—Å–ª–∏ –ø–æ–ª—è "–°—É–º–º–∞" –Ω–µ—Ç, —Å–∫–ª–∞–¥—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∏ –ø—Ä–æ—Å—Ä–æ—á–∫—É
                        if —Å—É–º–º–∞ <= 0:
                            —Å—É–º–º–∞ = (—Ç–µ–∫—É—â–∞—è or Decimal(0)) + (–ø—Ä–æ—Å—Ä–æ—á–∫–∞ or Decimal(0))

                    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫—Ä–µ–¥–∏—Ç—ã —Å –Ω—É–ª–µ–≤–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é
                    if —Å—É–º–º–∞ <= 0:
                        print(f"      [SKIP] –ö—Ä–µ–¥–∏—Ç {–∫—Ä–µ–¥–∏—Ç–æ—Ä} –ø—Ä–æ–ø—É—â–µ–Ω: –°—É–º–º–∞={—Å—É–º–º–∞} (–û—Å–Ω={–æ—Å–Ω–æ–≤–Ω–æ–π}, –ü—Ä–æ—Ü={–ø—Ä–æ—Ü–µ–Ω—Ç—ã}, –®—Ç—Ä={—à—Ç—Ä–∞—Ñ—ã}, –î—Ä.–∫–ª—é—á–∏={entry.get('–û–±—â–∞—è_—Å—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏')}/{entry.get('–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏')})")
                        continue

                    # === –õ–û–ì–ò–ö–ê –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–ò: –ù–ê–ó–í–ê–ù–ò–ï + –î–ê–¢–ê –î–û–ì–û–í–û–†–ê + –ü–ï–†–í–û–ù–ê–ß–ê–õ–¨–ù–ê–Ø –°–£–ú–ú–ê ===
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞—Ç—É –¥–æ–≥–æ–≤–æ—Ä–∞ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–µ–π
                    –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_raw = (entry.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏") or entry.get("–î–∞—Ç–∞_–Ω–∞—á–∞–ª–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or entry.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or "").strip()
                    
                    # –ù–û–†–ú–ê–õ–ò–ó–£–ï–ú –î–ê–¢–£: 09-09-2009 ‚Üí 09.09.2009
                    –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ = DocumentProcessor.normalize_date(–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_raw)
                    
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –ò–ù–ù/–û–ì–†–ù –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–Ω–æ –Ω–µ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏)
                    –∏–Ω–Ω = (entry.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or entry.get("–ò–ù–ù") or "").strip()
                    –æ–≥—Ä–Ω = (entry.get("–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or entry.get("–û–ì–†–ù") or "").strip()
                    
                    # –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞ (—Å–∫–æ–ª—å–∫–æ –≤–∑—è–ª–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ)
                    —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ = DocumentProcessor.parse_decimal(entry.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞")) or Decimal(0)
                    
                    print(f"      ‚Ä¢ –î–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞: {–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or '–ù–ï–¢'} (–∏—Å—Ö–æ–¥–Ω–∞—è: {–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_raw})")
                    if –∏–Ω–Ω:
                        print(f"      ‚Ä¢ –ò–ù–ù: {–∏–Ω–Ω}")
                    print(f"      ‚Ä¢ –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞: {—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ if —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 0 else '–ù–ï–¢'}")
                    print(f"      ‚Ä¢ –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥: {—Å—É–º–º–∞}")

                    # –§–æ—Ä–º–∏—Ä—É–µ–º –∫–ª—é—á –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏:
                    # –ö–õ–Æ–ß: –∫—Ä–µ–¥–∏—Ç–æ—Ä + –¥–∞—Ç–∞ + –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (–ë–ï–ó —Ç–µ–∫—É—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞!)
                    # –¢–µ–∫—É—â–∞—è —Å—É–º–º–∞ –¥–æ–ª–≥–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –û–ö–ë –∏ –ë–ö–ò, –ø–æ—ç—Ç–æ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –≤ –∫–ª—é—á–µ
                    if —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 100:
                        —Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞ = int(—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
                        dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞}|{—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"
                    elif –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞:
                        # –ï—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ - –¥–æ–≤–µ—Ä—è–µ–º –µ–π –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é —Å—É–º–º—É (–æ–Ω–∞ –º–æ–∂–µ—Ç "–ø–ª–∞–≤–∞—Ç—å")
                        dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞}|NO_INIT"
                    else:
                        # –ù–µ—Ç –Ω–∏ –¥–∞—Ç—ã, –Ω–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —Å—É–º–º—ã - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥ –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è
                        —Ç–µ–∫—É—â–∞—è_—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞ = f"{—Å—É–º–º–∞:.2f}"
                        dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|NO_DATE|NO_INIT|{—Ç–µ–∫—É—â–∞—è_—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã —Å —É—á—ë—Ç–æ–º –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –¥–∞—Ç (¬±1 –¥–µ–Ω—å)
                    # –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ –û–ö–ë –∏ –ë–ö–ò —É–∫–∞–∑—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞
                    found_similar = False
                    similar_key = None
                    
                    if –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ and —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 100:
                        from datetime import datetime, timedelta
                        try:
                            base_date = datetime.strptime(–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞, "%d.%m.%Y")
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º ¬±1 –¥–µ–Ω—å –ø–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä—É + –¥–∞—Ç–∞ + –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞
                            for delta in [-1, 0, 1]:
                                check_date = (base_date + timedelta(days=delta)).strftime("%d.%m.%Y")
                                check_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{check_date}|{—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"
                                if check_key in all_credits and check_key != dedup_key:
                                    found_similar = True
                                    similar_key = check_key
                                    break
                        except:
                            pass

                    # 3. –ï—Å–ª–∏ —Å ¬±1 –¥–µ–Ω—å –Ω–µ –Ω–∞—à–ª–∏, –∏—â–µ–º –ø–æ fuzzy-—Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–∞—é—â–µ–π –¥–∞—Ç–µ –∏ —Å—É–º–º–µ
                    if not found_similar and –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ and —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 100:
                        for ex_key in list(all_credits.keys()):
                                try:
                                    ex_parts = ex_key.split('|')
                                    if len(ex_parts) < 3: continue
                                    
                                    ex_name_norm = ex_parts[0]
                                    
                                    # –ï—Å–ª–∏ –¥–∞—Ç–∞ –∏ —Å—É–º–º–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç
                                    # –§–æ—Ä–º–∞—Ç –∫–ª—é—á–∞: "–Ω–∞–∑–≤–∞–Ω–∏–µ_–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ|–¥–∞—Ç–∞|—Å—É–º–º–∞"
                                    # ex_key –º–æ–∂–µ—Ç –±—ã—Ç—å: "–¢—Ä—É–º–≤–∏—Ä–∞—Ç|01.01.2025|10000"
                                    # dedup_key: "–¢—Ä–∏—É–º–≤–∏—Ä–∞—Ç|01.01.2025|10000" (–±–µ–∑ –¥–∞—Ç—ã - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º)
                                    
                                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ "—Ö–≤–æ—Å—Ç–∞" –∫–ª—é—á–∞ (–¥–∞—Ç–∞|—Å—É–º–º–∞)
                                    # dedup_key = "–¢—Ä–∏—É–º–≤–∏—Ä–∞—Ç|01.01.2025|10000" -> tail = "01.01.2025|10000"
                                    tail_current = "|".join(dedup_key.split('|')[1:])
                                    tail_existing = "|".join(ex_parts[1:])
                                    
                                    if tail_current == tail_existing:
                                        # –î–∞—Ç–∞ –∏ —Å—É–º–º–∞ —Å–æ–≤–ø–∞–ª–∏. –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ
                                        name_ratio = difflib.SequenceMatcher(None, ex_name_norm, –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized).ratio()
                                        if name_ratio > 0.85: # –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è —Å—Ö–æ–∂–µ—Å—Ç–∏
                                            print(f"      [DEBUG] Fuzzy-—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤: '{ex_name_norm}' <-> '{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}' ({name_ratio:.2f})")
                                            found_similar = True
                                            similar_key = ex_key
                                            break
                                except Exception as e:
                                    pass

                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å—Ç—Ä–µ—á–∞–ª—Å—è –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π –∫—Ä–µ–¥–∏—Ç (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, ¬±1 –¥–µ–Ω—å –∏–ª–∏ fuzzy-name)
                    target_key = similar_key if found_similar else dedup_key
                    
                    if target_key in all_credits:
                        # –î—É–±–ª–∏–∫–∞—Ç –Ω–∞–π–¥–µ–Ω ‚Äî –±–µ—Ä—ë–º –∑–∞–ø–∏—Å—å —Å –±–æ–ª—å—à–µ–π —Å—É–º–º–æ–π (–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
                        existing_sum = all_credits[target_key].get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
                        if —Å—É–º–º–∞ > existing_sum:
                            if found_similar and target_key != dedup_key:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ ¬±1–¥–µ–Ω—å (–æ–±–Ω–æ–≤–ª—ë–Ω): {existing_sum} ‚Üí {—Å—É–º–º–∞}")
                            else:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ (–æ–±–Ω–æ–≤–ª—ë–Ω): {existing_sum} ‚Üí {—Å—É–º–º–∞}")
                            print(f"      –ö–ª—é—á: {target_key}")
                            all_credits[target_key] = {
                                "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                                "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω or None,
                                "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or None,
                                "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or None,
                                "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞,
                                "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": —Å—É–º–º–∞,
                                "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                                "–í–∏–¥": entry.get("–í–∏–¥") or entry.get("–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞") or None,
                                "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è,
                                "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                                "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": –æ—Å–Ω–æ–≤–Ω–æ–π,
                                "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": –ø—Ä–æ—Ü–µ–Ω—Ç—ã,
                                "–®—Ç—Ä–∞—Ñ—ã": —à—Ç—Ä–∞—Ñ—ã,
                                "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                                "–ò—Å—Ç–æ—á–Ω–∏–∫": key,
                            }
                        else:
                            # –î–∞–∂–µ –µ—Å–ª–∏ —Å—É–º–º–∞ —Ç–∞–∫–∞—è –∂–µ/–º–µ–Ω—å—à–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
                            existing_v = all_credits[target_key]
                            existing_inn = existing_v.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞")
                            
                            should_force_update = False
                            
                            # 1. –ï—Å–ª–∏ —É –Ω–æ–≤–æ–≥–æ –µ—Å—Ç—å –ò–ù–ù, –∞ —É —Å—Ç–∞—Ä–æ–≥–æ –Ω–µ—Ç - –æ–±–Ω–æ–≤–ª—è–µ–º
                            if (–∏–Ω–Ω and DocumentProcessor.validate_inn(str(–∏–Ω–Ω))) and (not existing_inn or not DocumentProcessor.validate_inn(str(existing_inn))):
                                should_force_update = True
                                print(f"      ‚úì –û–ë–ù–û–í–õ–ï–ù–ò–ï (–Ω–∞–π–¥–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π –ò–ù–ù): {existing_inn or '–Ω–µ—Ç'} -> {–∏–Ω–Ω}")
                            
                            # 2. –ï—Å–ª–∏ –Ω–∞—à–ª–∏ fuzzy-–¥—É–±–ª–∏–∫–∞—Ç (–ø–æ—Ö–æ–∂–µ–µ –∏–º—è), –≤–æ–∑–º–æ–∂–Ω–æ –Ω–æ–≤–æ–µ –∏–º—è –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ?
                            # –ù–∞–ø—Ä–∏–º–µ—Ä "–¢—Ä—É–º–≤–∏—Ä–∞—Ç" (–±–µ–∑ –ò–ù–ù) -> "–¢—Ä–∏—É–º–≤–∏—Ä–∞—Ç" (—Å –ò–ù–ù)
                            elif found_similar and –∏–Ω–Ω and not existing_inn:
                                should_force_update = True
                                print(f"      ‚úì –û–ë–ù–û–í–õ–ï–ù–ò–ï (fuzzy-match —Å –ª—É—á—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏): {existing_v['–ö—Ä–µ–¥–∏—Ç–æ—Ä']} -> {–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical}")

                            if should_force_update:
                                all_credits[target_key] = {
                                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω,
                                    "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or existing_v.get("–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"),
                                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or existing_v.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞"),
                                    "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": max(—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞, existing_v.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", Decimal(0))),
                                    "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": max(—Å—É–º–º–∞, existing_sum),
                                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                                    "–í–∏–¥": entry.get("–í–∏–¥") or entry.get("–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞") or existing_v.get("–í–∏–¥"),
                                    "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è or existing_v.get("–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"),
                                    "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞ or existing_v.get("–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞"),
                                    "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": –æ—Å–Ω–æ–≤–Ω–æ–π or existing_v.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥"),
                                    "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": –ø—Ä–æ—Ü–µ–Ω—Ç—ã or existing_v.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã"),
                                    "–®—Ç—Ä–∞—Ñ—ã": —à—Ç—Ä–∞—Ñ—ã or existing_v.get("–®—Ç—Ä–∞—Ñ—ã"),
                                    "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞ or existing_v.get("–ü—Ä–æ—Å—Ä–æ—á–∫–∞"),
                                    "–ò—Å—Ç–æ—á–Ω–∏–∫": key,
                                }
                            else:
                                if found_similar and target_key != dedup_key:
                                    print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ ¬±1–¥–µ–Ω—å/fuzzy (–ø—Ä–æ–ø—É—â–µ–Ω): {—Å—É–º–º–∞} <= {existing_sum}")
                                else:
                                    print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ (–ø—Ä–æ–ø—É—â–µ–Ω): {—Å—É–º–º–∞} <= {existing_sum}")
                                print(f"      –ö–ª—é—á: {target_key}")
                    else:
                        # –ù–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç? –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã (—Ä–∞–∑–Ω—ã–µ –¥–∞—Ç—ã, –Ω–æ –æ–¥–Ω–∞ —Å—É—Ç—å)
                        heuristic_dup_key = None
                        
                        for existing_k, existing_v in all_credits.items():
                            if existing_v["–ö—Ä–µ–¥–∏—Ç–æ—Ä"] == –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical:
                                # 1. –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —Å—É–º–º–µ (–æ—á–µ–Ω—å –Ω–∞–¥–µ–∂–Ω–æ)
                                ex_init = existing_v.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", Decimal(0))
                                if —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 100 and abs(ex_init - —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞) < Decimal('1.0'):
                                    heuristic_dup_key = existing_k
                                    break
                                
                                # 2. –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ —Ç–µ–∫—É—â–µ–π —Å—É–º–º–µ (—Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –¥—É–±–ª–µ–π "–ò–Ω–æ–π" vs "–ü–æ—Ç—Ä–µ–±")
                                ex_curr = existing_v.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
                                if abs(ex_curr - —Å—É–º–º–∞) < Decimal('1.0'):
                                    heuristic_dup_key = existing_k
                                    break
                        
                        credit_data_new = {
                            "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                            "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω or None,
                            "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or None,
                            "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or None,
                            "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞,
                            "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": —Å—É–º–º–∞,
                            "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                            "–í–∏–¥": entry.get("–í–∏–¥") or entry.get("–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞") or None,
                            "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è,
                            "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                            "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": –æ—Å–Ω–æ–≤–Ω–æ–π,
                            "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": –ø—Ä–æ—Ü–µ–Ω—Ç—ã,
                            "–®—Ç—Ä–∞—Ñ—ã": —à—Ç—Ä–∞—Ñ—ã,
                            "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                            "–ò—Å—Ç–æ—á–Ω–∏–∫": key,
                        }

                        if heuristic_dup_key:
                            # –ù–∞—à–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç –ø–æ —ç–≤—Ä–∏—Å—Ç–∏–∫–µ!
                            existing_v = all_credits[heuristic_dup_key]
                            existing_sum = existing_v.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
                            
                            should_replace = False
                            reason = ""
                            
                            if —Å—É–º–º–∞ > existing_sum:
                                should_replace = True
                                reason = f"—Å—É–º–º–∞ –±–æ–ª—å—à–µ ({—Å—É–º–º–∞} > {existing_sum})"
                            elif —Å—É–º–º–∞ < existing_sum:
                                should_replace = False
                                reason = f"—Å—É–º–º–∞ –º–µ–Ω—å—à–µ ({—Å—É–º–º–∞} < {existing_sum})"
                            else:
                                # –°—É–º–º—ã —Ä–∞–≤–Ω—ã. –°–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞—Ç—ã.
                                ex_date = existing_v.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞")
                                is_ex_bad = not ex_date or "9999" in ex_date
                                is_new_good = –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ and "9999" not in –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞
                                
                                if is_ex_bad and is_new_good:
                                    should_replace = True
                                    reason = f"–ª—É—á—à–µ –¥–∞—Ç–∞ ({–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞} vs {ex_date})"
                                else:
                                    should_replace = False
                                    reason = "–¥—É–±–ª–∏–∫–∞—Ç (–ø—Ä–æ–ø—É—â–µ–Ω)"

                            if should_replace:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞, –û–ë–ù–û–í–õ–ï–ù): {reason}")
                                print(f"        –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π: {heuristic_dup_key}")
                                del all_credits[heuristic_dup_key]
                                
                                print(f"      ‚úì –ù–û–í–´–ô –∫—Ä–µ–¥–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω (–∑–∞–º–µ–Ω–∞)")
                                print(f"      –ö–ª—é—á: {dedup_key}")
                                all_credits[dedup_key] = credit_data_new
                            else:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞, –ø—Ä–æ–ø—É—â–µ–Ω): {reason}")
                        else:
                            # –°–æ–≤—Å–µ–º –Ω–æ–≤—ã–π
                            print(f"      ‚úì –ù–û–í–´–ô –∫—Ä–µ–¥–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω")
                            print(f"      –ö–ª—é—á: {dedup_key}")
                            all_credits[dedup_key] = credit_data_new

        # === –î–û–ë–ê–í–õ–Ø–ï–ú –°–ü–†–ê–í–ö–ò –û –ó–ê–î–û–õ–ñ–ï–ù–ù–û–°–¢–ò ===
        # –°–ø—Ä–∞–≤–∫–∏ - —ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π –¥–æ–ª–≥–∞
        for —Å–ø—Ä–∞–≤–∫–∞ in data_map.get("—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", []):
            –∫—Ä–µ–¥–∏—Ç–æ—Ä = (—Å–ø—Ä–∞–≤–∫–∞.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä") or "").strip()
            if not –∫—Ä–µ–¥–∏—Ç–æ—Ä:
                continue

            –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = DocumentProcessor.normalize_bank_name(–∫—Ä–µ–¥–∏—Ç–æ—Ä)

            # –ò–∑–≤–ª–µ–∫–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏–∑ —Å–ø—Ä–∞–≤–∫–∏
            –∏—Ç–æ–≥–æ = —Å–ø—Ä–∞–≤–∫–∞.get("–ò—Ç–æ–≥–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å") or —Å–ø—Ä–∞–≤–∫–∞.get("–í—Å–µ–≥–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å") or —Å–ø—Ä–∞–≤–∫–∞.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏")
            —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(–∏—Ç–æ–≥–æ)
            
            if not —Å—É–º–º–∞ or —Å—É–º–º–∞ <= 0:
                # –ï—Å–ª–∏ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã –Ω–µ—Ç, –ø—Ä–æ–±—É–µ–º —Å–ª–æ–∂–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
                –æ—Å–Ω–æ–≤–Ω–æ–π = DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥"))
                –ø—Ä–æ—Ü–µ–Ω—Ç—ã = DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã"))
                —à—Ç—Ä–∞—Ñ—ã = DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–®—Ç—Ä–∞—Ñ—ã"))
                —Å—É–º–º–∞ = (–æ—Å–Ω–æ–≤–Ω–æ–π or Decimal(0)) + (–ø—Ä–æ—Ü–µ–Ω—Ç—ã or Decimal(0)) + (—à—Ç—Ä–∞—Ñ—ã or Decimal(0))

            if —Å—É–º–º–∞ <= 0:
                continue

            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower = –∫—Ä–µ–¥–∏—Ç–æ—Ä.lower()
            if any(word in –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower for word in ["–º—Ñ–æ", "–º–∫–∫", "–º—Ñ–∫", "–º–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å", "–º–∏–∫—Ä–æ–∫—Ä–µ–¥–∏—Ç"]):
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ú–§–û"
            else:
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ë–ê–ù–ö"

            –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ = (—Å–ø—Ä–∞–≤–∫–∞.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or —Å–ø—Ä–∞–≤–∫–∞.get("–î–∞—Ç–∞") or "").strip()
            –∏–Ω–Ω = (—Å–ø—Ä–∞–≤–∫–∞.get("–ò–ù–ù") or "").strip()
            –æ–≥—Ä–Ω = (—Å–ø—Ä–∞–≤–∫–∞.get("–û–ì–†–ù") or "").strip()
            
            # –î–ª—è —Å–ø—Ä–∞–≤–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –≤ –∫–ª—é—á–µ
            —Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞ = int(—Å—É–º–º–∞) if —Å—É–º–º–∞ else 0

            # –ö–ª—é—á –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ + –¥–∞—Ç–∞ + —Ç–µ–∫—É—â–∞—è —Å—É–º–º–∞
            dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞}|{—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"

            # –°–ø—Ä–∞–≤–∫–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
            if dedup_key not in all_credits:
                print(f"      [–°–ü–†–ê–í–ö–ê] –î–æ–±–∞–≤–ª–µ–Ω {–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical}: {—Å—É–º–º–∞} —Ä—É–±. (–¥–∞—Ç–∞: {–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞})")
                all_credits[dedup_key] = {
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω or None,
                    "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or None,
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or None,
                    "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": —Å—É–º–º–∞,
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                    "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥")),
                    "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": None,
                    "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥")),
                    "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã")),
                    "–®—Ç—Ä–∞—Ñ—ã": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–®—Ç—Ä–∞—Ñ—ã")),
                    "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": None,
                    "–ò—Å—Ç–æ—á–Ω–∏–∫": "—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
                }
            else:
                # –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –≤ –æ—Ç—á–µ—Ç–∞—Ö, –æ–±–Ω–æ–≤–ª—è–µ–º –µ—Å–ª–∏ —Å—É–º–º–∞ –±–æ–ª—å—à–µ (—Å–ø—Ä–∞–≤–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–µ–µ)
                existing_sum = all_credits[dedup_key].get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
                if —Å—É–º–º–∞ > existing_sum:
                    print(f"      [–°–ü–†–ê–í–ö–ê] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ {–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical}: {existing_sum} ‚Üí {—Å—É–º–º–∞} —Ä—É–±.")
                    all_credits[dedup_key]["–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"] = —Å—É–º–º–∞
                    all_credits[dedup_key]["–ò—Å—Ç–æ—á–Ω–∏–∫"] = "—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é —Å—É–º–º—ã
        result = sorted(all_credits.values(), key=lambda x: x["–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"], reverse=True)
        
        print("\n" + "="*80)
        print(f"–ò–¢–û–ì–û –£–ù–ò–ö–ê–õ–¨–ù–´–• –ö–†–ï–î–ò–¢–û–í: {len(result)}")
        print("="*80)
        
        return result

    @staticmethod
    def calculate_total_debt(data_map: Dict[str, List[Dict[str, Any]]]) -> Optional[Decimal]:
        """–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ –í–°–ï–• –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

        –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏:
        1. –ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (–û–ö–ë, –ë–ö–ò) - –æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã
        2. –°–ø—Ä–∞–≤–∫–∏ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        3. –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏—Å—Ç–∞–≤–æ–≤ (–§–°–°–ü)

        –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
        1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç: —Å—É–º–º–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
        """

        total = Decimal(0)
        has_value = False

        # === 1. –ö–†–ï–î–ò–¢–ù–´–ï –û–¢–ß–ï–¢–´ (–û–ö–ë + –ë–ö–ò) ===
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ –æ–±–æ–∏—Ö –æ—Ç—á–µ—Ç–æ–≤
        merged_credits = DocumentProcessor.merge_credit_reports(data_map)

        if merged_credits:
            # –°—É–º–º–∏—Ä—É–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã
            credits_total = sum(
                credit.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0)) 
                for credit in merged_credits
            )
            if credits_total > 0:
                total += credits_total
                has_value = True

        # === 2. –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –ü–†–ò–°–¢–ê–í–û–í ===
        # === 2. –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –ü–†–ò–°–¢–ê–í–û–í ===
        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in data_map.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", []):
            # –§–ò–õ–¨–¢–†: –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–∫—Ä—ã—Ç—ã–µ/–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –ò–ü
            –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è")
            if –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è and –¥–∞—Ç–∞_–æ–∫–æ–Ω—á–∞–Ω–∏—è not in ["", "null", None]:
                continue
            
            # –ë–µ—Ä–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É –≤–∑—ã—Å–∫–∞–Ω–∏—è
            –≤–∑—ã—Å–∫–∞–Ω–∏–µ = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–û—Å—Ç–∞—Ç–æ–∫_–¥–æ–ª–≥–∞") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–°—É–º–º–∞_–¥–æ–ª–≥–∞")
            if –≤–∑—ã—Å–∫–∞–Ω–∏–µ:
                parsed = DocumentProcessor.parse_decimal(–≤–∑—ã—Å–∫–∞–Ω–∏–µ)
                if parsed and parsed > 0:
                    total += parsed
                    has_value = True

        # === 3. –ù–ê–õ–û–ì–û–í–´–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ===
        for —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ in data_map.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", []):
            # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –≤–∑—è—Ç—å –æ–±—â—É—é —Å—É–º–º—É "–í—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ"
            –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ = DocumentProcessor.parse_decimal(—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ"))
            if –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ and –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ > 0:
                total += –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ
                has_value = True
                print(f"      [TAX] –ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: –≤—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ {–≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ}")
            else:
                # –ï—Å–ª–∏ –æ–±—â–µ–π —Å—É–º–º—ã –Ω–µ—Ç, —Å—É–º–º–∏—Ä—É–µ–º –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ª–æ–≥—É
                –Ω–∞–ª–æ–≥–∏ = —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–ù–∞–ª–æ–≥–∏", [])
                for –Ω–∞–ª–æ–≥ in –Ω–∞–ª–æ–≥–∏:
                    if isinstance(–Ω–∞–ª–æ–≥, dict):
                        —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(–Ω–∞–ª–æ–≥.get("–°—É–º–º–∞"))
                        if —Å—É–º–º–∞ and —Å—É–º–º–∞ > 0:
                            total += —Å—É–º–º–∞
                            has_value = True

        return total if has_value else None

    @staticmethod
    def convert_to_genitive_initials(full_name: str) -> str:
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ —Ñ–æ—Ä–º—É '–§–∞–º–∏–ª–∏–∏ –ò.–û.' –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_genitive_full(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}\n"
            "–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_dative_initials(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ —Ñ–æ—Ä–º—É '–§–∞–º–∏–ª–∏–∏ –ò.–û.' –≤ –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∫–æ–º—É?)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ —Ñ–æ—Ä–º—É '–§–∞–º–∏–ª–∏–∏ –ò.–û.' –≤ –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∫–æ–º—É?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_dative_full(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É? - –ö—É–∑—å–º–∏—á—É –ù–∏–∫–æ–ª–∞—é –ü–∞–≤–ª–æ–≤–∏—á—É)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}\n"
            "–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω–æ–≤—É –ò–≤–∞–Ω—É –ò–≤–∞–Ω–æ–≤–∏—á—É"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_accusative_full(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}\n"
            "–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def detect_gender(full_name: str) -> str:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª –ø–æ –§–ò–û. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç '–º' –∏–ª–∏ '–∂'."""
        if not full_name:
            return "–º"

        # –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞: –µ—Å–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ '–≤–Ω–∞' –∏–ª–∏ '—á–Ω–∞' - –∂–µ–Ω—Å–∫–∏–π
        parts = full_name.split()
        if len(parts) >= 3:
            patronymic = parts[2].lower()
            if patronymic.endswith('–≤–Ω–∞') or patronymic.endswith('–∏—á–Ω–∞'):
                return "–∂"

        # –ï—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –ø–æ –æ—Ç—á–µ—Å—Ç–≤—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º GPT
        prompt = (
            "–û–ø—Ä–µ–¥–µ–ª–∏ –ø–æ–ª —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ –§–ò–û. –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –æ–¥–Ω—É –±—É–∫–≤—É: '–º' –¥–ª—è –º—É–∂—Å–∫–æ–≥–æ –∏–ª–∏ '–∂' –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –ø–æ–ª–∞."
            " –ù–∏–∫–∞–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ –±—É–∫–≤–∞.\n\n"
            f"–§–ò–û: {full_name}"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip().lower()
            if '–∂' in result:
                return "–∂"
            else:
                return "–º"
        except Exception:
            return "–º"

    @staticmethod
    def get_gender_pronoun(gender: str, case: str = "accusative") -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª–∞ –∏ –ø–∞–¥–µ–∂–∞."""
        if case == "accusative":  # –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–ø—Ä–∏–∑–Ω–∞–Ω–∏–∏ –µ–≥–æ/–µ—ë)
            return "–µ—ë" if gender == "–∂" else "–µ–≥–æ"
        elif case == "genitive":  # —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (—É –Ω–µ–≥–æ/–Ω–µ—ë, –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –Ω–µ–≥–æ/–Ω–µ—ë)
            return "–Ω–µ—ë" if gender == "–∂" else "–Ω–µ–≥–æ"
        elif case == "dative":  # –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–µ–º—É/–µ–π)
            return "–µ–π" if gender == "–∂" else "–µ–º—É"
        else:
            return "–µ–≥–æ" if gender == "–º" else "–µ—ë"

    @staticmethod
    def parse_address_with_gpt(full_address: str, openai_client) -> Dict[str, str]:
        """–ü–∞—Ä—Å–∏—Ç –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ GPT."""
        result = {
            "—Å—É–±—ä–µ–∫—Ç": "",
            "—Ä–∞–π–æ–Ω": "",
            "–≥–æ—Ä–æ–¥": "",
            "–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç": "",
            "—É–ª–∏—Ü–∞": "",
            "–¥–æ–º": "",
            "–∫–æ—Ä–ø—É—Å": "",
            "–∫–≤–∞—Ä—Ç–∏—Ä–∞": "",
        }

        if not full_address or not openai_client:
            return result

        prompt = f"""–†–∞–∑–±–µ—Ä–∏ –∞–¥—Ä–µ—Å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

–ê–¥—Ä–µ—Å: {full_address}

JSON —Ñ–æ—Ä–º–∞—Ç:
{{
  "—Å—É–±—ä–µ–∫—Ç": "–æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π/—Ä–µ—Å–ø—É–±–ª–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π)",
  "—Ä–∞–π–æ–Ω": "—Ä–∞–π–æ–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω)",
  "–≥–æ—Ä–æ–¥": "–≥–æ—Ä–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞)",
  "–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç": "–ø–æ—Å–µ–ª–æ–∫/—Å–µ–ª–æ/–¥–µ—Ä–µ–≤–Ω—è (–µ—Å–ª–∏ –µ—Å—Ç—å –≤–º–µ—Å—Ç–æ –≥–æ—Ä–æ–¥–∞)",
  "—É–ª–∏—Ü–∞": "—É–ª–∏—Ü–∞/–ø—Ä–æ—Å–ø–µ–∫—Ç/–ø–µ—Ä–µ—É–ª–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä: —É–ª. –õ–µ–Ω–∏–Ω–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç –ú–∏—Ä–∞)",
  "–¥–æ–º": "–Ω–æ–º–µ—Ä –¥–æ–º–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ –±—É–∫–≤—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: 10, 5–ê)",
  "–∫–æ—Ä–ø—É—Å": "–Ω–æ–º–µ—Ä –∫–æ—Ä–ø—É—Å–∞/—Å—Ç—Ä–æ–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: 2, 1–ê)",
  "–∫–≤–∞—Ä—Ç–∏—Ä–∞": "–Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: 45)"
}}

–ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ—Ç –≤ –∞–¥—Ä–µ—Å–µ - –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É "".
"""

        try:
            response = openai_client.chat.completions.create(
                model="gpt-4o-mini",
                messages=[{"role": "user", "content": prompt}],
            )
            
            response_text = response.choices[0].message.content.strip()
            
            # –û—á–∏—Å—Ç–∫–∞ JSON
            cleaned = DocumentProcessor.clean_json_response(response_text)
            if cleaned:
                parsed = json.loads(cleaned)
                for key in result.keys():
                    if key in parsed and parsed[key]:
                        result[key] = str(parsed[key]).strip()
        except Exception as e:
            print(f"      [WARNING] –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∞–¥—Ä–µ—Å —á–µ—Ä–µ–∑ GPT: {e}")
            # Fallback –Ω–∞ regex –ø–∞—Ä—Å–∏–Ω–≥
            return DocumentProcessor.parse_address(full_address)

        return result

    @staticmethod
    def parse_address(full_address: str) -> Dict[str, str]:
        """–ü–∞—Ä—Å–∏—Ç –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã."""
        import re

        result = {
            "—Å—É–±—ä–µ–∫—Ç": "",
            "—Ä–∞–π–æ–Ω": "",
            "–≥–æ—Ä–æ–¥": "",
            "–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç": "",
            "—É–ª–∏—Ü–∞": "",
            "–¥–æ–º": "",
            "–∫–æ—Ä–ø—É—Å": "",
            "–∫–≤–∞—Ä—Ç–∏—Ä–∞": "",
        }

        if not full_address:
            return result

        # –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
        addr = full_address

        # –°—É–±—ä–µ–∫—Ç (–æ–±–ª–∞—Å—Ç—å, –∫—Ä–∞–π, —Ä–µ—Å–ø—É–±–ª–∏–∫–∞)
        if "–æ–±–ª–∞—Å—Ç—å" in addr.lower():
            match = re.search(r'([^,]+–æ–±–ª–∞—Å—Ç—å)', addr, re.IGNORECASE)
            if match:
                result["—Å—É–±—ä–µ–∫—Ç"] = match.group(1).strip()
        elif "–∫—Ä–∞–π" in addr.lower():
            match = re.search(r'([^,]+–∫—Ä–∞–π)', addr, re.IGNORECASE)
            if match:
                result["—Å—É–±—ä–µ–∫—Ç"] = match.group(1).strip()
        elif "—Ä–µ—Å–ø—É–±–ª–∏–∫–∞" in addr.lower():
            match = re.search(r'([^,]+–†–µ—Å–ø—É–±–ª–∏–∫–∞[^,]*)', addr, re.IGNORECASE)
            if match:
                result["—Å—É–±—ä–µ–∫—Ç"] = match.group(1).strip()

        # –†–∞–π–æ–Ω
        if "—Ä–∞–π–æ–Ω" in addr.lower():
            match = re.search(r'([^,]*—Ä–∞–π–æ–Ω[^,]*)', addr, re.IGNORECASE)
            if match:
                result["—Ä–∞–π–æ–Ω"] = match.group(1).strip()

        # –ì–æ—Ä–æ–¥
        if re.search(r'\b–≥–æ—Ä–æ–¥\b|\b–≥–æ—Ä\.|–≥\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–≥–æ—Ä–æ–¥|–≥–æ—Ä\.|–≥\.)\s*([^,]+)', addr, re.IGNORECASE)
            if match:
                result["–≥–æ—Ä–æ–¥"] = match.group(1).strip()
        elif re.search(r'\b[–ì–≥]–æ—Ä–æ–¥\s+\w+', addr):
            match = re.search(r'[–ì–≥]–æ—Ä–æ–¥\s+(\w+)', addr)
            if match:
                result["–≥–æ—Ä–æ–¥"] = match.group(1).strip()

        # –£–ª–∏—Ü–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç, –ø–µ—Ä–µ—É–ª–æ–∫
        if re.search(r'\b(?:—É–ª–∏—Ü–∞|—É–ª\.|–ø—Ä–æ—Å–ø–µ–∫—Ç|–ø—Ä-–∫—Ç|–ø—Ä\.|–ø–µ—Ä–µ—É–ª–æ–∫|–ø–µ—Ä\.)', addr, re.IGNORECASE):
            match = re.search(r'(?:—É–ª–∏—Ü–∞|—É–ª\.|–ø—Ä–æ—Å–ø–µ–∫—Ç|–ø—Ä-–∫—Ç|–ø—Ä\.|–ø–µ—Ä–µ—É–ª–æ–∫|–ø–µ—Ä\.)\s*([^,]+)', addr, re.IGNORECASE)
            if match:
                result["—É–ª–∏—Ü–∞"] = match.group(1).strip()

        # –î–æ–º
        if re.search(r'\b–¥–æ–º\b|\b–¥\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–¥–æ–º|–¥\.)\s*(\d+[–∞-—è–ê-–Ø]?)', addr, re.IGNORECASE)
            if match:
                result["–¥–æ–º"] = match.group(1).strip()

        # –ö–æ—Ä–ø—É—Å
        if re.search(r'\b–∫–æ—Ä–ø—É—Å\b|\b–∫–æ—Ä–ø\.|–∫\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–∫–æ—Ä–ø—É—Å|–∫–æ—Ä–ø\.|–∫\.)\s*(\d+[–∞-—è–ê-–Ø]?)', addr, re.IGNORECASE)
            if match:
                result["–∫–æ—Ä–ø—É—Å"] = match.group(1).strip()

        # –ö–≤–∞—Ä—Ç–∏—Ä–∞
        if re.search(r'\b–∫–≤–∞—Ä—Ç–∏—Ä–∞\b|\b–∫–≤\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–∫–≤–∞—Ä—Ç–∏—Ä–∞|–∫–≤\.)\s*(\d+)', addr, re.IGNORECASE)
            if match:
                result["–∫–≤–∞—Ä—Ç–∏—Ä–∞"] = match.group(1).strip()

        return result

    @staticmethod
    def extract_deals_from_all_documents(data_map: Dict[str, List[Dict[str, Any]]], owner_fio: str = "") -> List[Dict[str, Any]]:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–¥–µ–ª–∫–∞—Ö –∏–∑ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

        –°–æ–±–∏—Ä–∞–µ—Ç —Å–¥–µ–ª–∫–∏ –∏–∑:
        - –î–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "—Å–¥–µ–ª–∫–∏" (–¥–æ–≥–æ–≤–æ—Ä—ã –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, –¥–∞—Ä–µ–Ω–∏—è)
        - –ì–ò–ë–î–î (–ø—Ä–æ–¥–∞–∂–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
        - –ï–ì–†–ù (–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏)
        - –î—Ä—É–≥–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–¥–µ–ª–∫–∞—Ö

        Args:
            data_map: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            owner_fio: –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –µ–≥–æ —Ä–æ–ª–∏ –≤ —Å–¥–µ–ª–∫–µ

        Returns:
            –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞
        """
        all_deals = []

        # 1. –°–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "—Å–¥–µ–ª–∫–∏"
        for deal in data_map.get("—Å–¥–µ–ª–∫–∏", []):
            if isinstance(deal, dict):
                all_deals.append(deal)

        # 2. –°–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ì–ò–ë–î–î (–ø—Ä–æ–¥–∞–∂–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
        for gibdd_doc in data_map.get("–≥–∏–±–¥–¥", []):
            if not isinstance(gibdd_doc, dict):
                continue

            # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Å –º–∞—Å—Å–∏–≤–æ–º
            vehicles_to_process = []
            if "–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç" in gibdd_doc:
                if gibdd_doc.get("–ï—Å—Ç—å_—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç") is True and "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞" in gibdd_doc:
                    vehicles_array = gibdd_doc.get("–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞", [])
                    if isinstance(vehicles_array, list):
                        vehicles_to_process.extend(vehicles_array)
            else:
                # –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç: –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç = –æ–¥–Ω–æ –¢–°
                vehicles_to_process.append(gibdd_doc)

            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥–æ–µ –¢–°
            for vehicle in vehicles_to_process:
                if not isinstance(vehicle, dict):
                    continue

                sdelka = vehicle.get("–°–¥–µ–ª–∫–∞")
                if sdelka and isinstance(sdelka, dict) and sdelka.get("–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞"):
                    # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–¥–µ–ª–∫–∏
                    deal = {
                        "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": sdelka.get("–¢–∏–ø_—Å–¥–µ–ª–∫–∏", "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞"),
                        "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": sdelka.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏"),
                        "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": None,
                        "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": "–∞–≤—Ç–æ–º–æ–±–∏–ª—å",
                        "–û–ø–∏—Å–∞–Ω–∏–µ": vehicle.get("–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å", ""),
                        "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": f"VIN: {vehicle.get('VIN', '')}, –ì–æ—Å. –Ω–æ–º–µ—Ä: {vehicle.get('–ì–æ—Å_–Ω–æ–º–µ—Ä', '')}",
                        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": None,
                        "–°—Ç–æ–∏–º–æ—Å—Ç—å": sdelka.get("–°—Ç–æ–∏–º–æ—Å—Ç—å"),
                        "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": None,
                        "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": vehicle.get("–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏")
                    }

                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å –¥–æ–ª–∂–Ω–∏–∫–∞
                    seller = sdelka.get("–ü—Ä–æ–¥–∞–≤–µ—Ü_–§–ò–û", "")
                    buyer = sdelka.get("–ü–æ–∫—É–ø–∞—Ç–µ–ª—å_–§–ò–û", "")

                    if owner_fio and seller and owner_fio.lower() in seller.lower():
                        deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü"
                        deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = buyer
                    elif owner_fio and buyer and owner_fio.lower() in buyer.lower():
                        deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                        deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = seller
                    else:
                        # –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å - –±–µ—Ä–µ–º –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
                        deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü" if seller else "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                        deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = buyer or seller

                    all_deals.append(deal)

        # 3. –°–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ï–ì–†–ù
        # –ê) –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ –ø–æ–ª—è "–°–¥–µ–ª–∫–∞" (–µ—Å–ª–∏ GPT –∑–∞–ø–æ–ª–Ω–∏–ª)
        print(f"[DEALS_EGRN] Extracting deals from –°–¥–µ–ª–∫–∞ field (GPT-provided)")
        for egrn_doc in data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []):
            if not isinstance(egrn_doc, dict):
                continue

            objects = egrn_doc.get("–û–±—ä–µ–∫—Ç—ã", [])
            if not objects:
                old_sdelka = egrn_doc.get("–°–¥–µ–ª–∫–∞")
                old_obj = egrn_doc.get("–û–±—ä–µ–∫—Ç", {})
                if old_sdelka:
                    objects = [{"–û–±—ä–µ–∫—Ç": old_obj, "–°–¥–µ–ª–∫–∞": old_sdelka}]
            
            for idx, obj_item in enumerate(objects):
                if not isinstance(obj_item, dict):
                    continue

                sdelka = obj_item.get("–°–¥–µ–ª–∫–∞")
                if not (sdelka and isinstance(sdelka, dict) and sdelka.get("–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞")):
                    continue

                obj = obj_item.get("–û–±—ä–µ–∫—Ç", {})
                predmet = obj.get("–í–∏–¥", "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å")
                vid_lower = predmet.lower() if predmet else ""
                
                if "–∫–≤–∞—Ä—Ç–∏—Ä" in vid_lower or "–ø–æ–º–µ—â–µ–Ω" in vid_lower:
                    predmet_type = "–∫–≤–∞—Ä—Ç–∏—Ä–∞"
                elif "–¥–æ–º" in vid_lower or "–∑–¥–∞–Ω–∏–µ" in vid_lower:
                    predmet_type = "–¥–æ–º"
                elif "–∑–µ–º–µ–ª" in vid_lower or "—É—á–∞—Å—Ç–æ–∫" in vid_lower:
                    predmet_type = "–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫"
                else:
                    predmet_type = predmet or "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"

                deal = {
                    "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": sdelka.get("–¢–∏–ø_—Å–¥–µ–ª–∫–∏", "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞"),
                    "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": sdelka.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏"),
                    "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": None,
                    "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": predmet_type,
                    "–û–ø–∏—Å–∞–Ω–∏–µ": f"{predmet}, –ø–ª–æ—â–∞–¥—å: {obj.get('–ü–ª–æ—â–∞–¥—å', '')}",
                    "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": obj.get("–ê–¥—Ä–µ—Å", ""),
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä") or egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä"),
                    "–°—Ç–æ–∏–º–æ—Å—Ç—å": sdelka.get("–°—Ç–æ–∏–º–æ—Å—Ç—å") or obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å") or egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å"),
                    "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": None,
                    "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": None
                }

                prev_owner = sdelka.get("–ü—Ä–µ–¥—ã–¥—É—â–∏–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫", "")
                new_owner = sdelka.get("–ù–æ–≤—ã–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫", "")

                if owner_fio and prev_owner and owner_fio.lower() in prev_owner.lower():
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = new_owner
                elif owner_fio and new_owner and owner_fio.lower() in new_owner.lower():
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = prev_owner
                else:
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü" if prev_owner else "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = new_owner or prev_owner

                all_deals.append(deal)
                print(f"[DEALS_EGRN] Added deal from –°–¥–µ–ª–∫–∞ field: {predmet_type} on {deal['–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏']}")
        
        # –ë) –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û: –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –¥–∞—Ç –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π
        # –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ –¥–∞—Ç–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ ‚Üí —ç—Ç–æ —Å–¥–µ–ª–∫–∞
        from datetime import datetime, timedelta
        three_years_ago = datetime.now() - timedelta(days=3*365)
        
        for egrn_doc in data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []):
            if not isinstance(egrn_doc, dict):
                continue
            
            objects = egrn_doc.get("–û–±—ä–µ–∫—Ç—ã", [])
            if not objects:
                # Fallback –¥–ª—è —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
                old_obj = egrn_doc.get("–û–±—ä–µ–∫—Ç", {})
                if old_obj:
                    objects = [{"–û–±—ä–µ–∫—Ç": old_obj}]
            
            for idx, obj_item in enumerate(objects):
                if not isinstance(obj_item, dict):
                    continue
                
                owners = obj_item.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏", [])
                obj = obj_item.get("–û–±—ä–µ–∫—Ç", {})
                cadastral = obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä") or egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä")
                
                print(f"[DEALS_EGRN_DATES] Object {idx} (cadastral: {cadastral}): Checking {len(owners)} owners for deals")
                
                # –§–ª–∞–≥–∏ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: —Ç–æ–ª—å–∫–æ 1 —Å–¥–µ–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç
                found_sale = False
                found_purchase = False
                
                for owner_idx, owner in enumerate(owners):
                    if not isinstance(owner, dict):
                        continue
                    
                    owner_fio_str = owner.get("–§–ò–û", "N/A")
                    # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏–π –ø–æ–ª–µ–π
                    date_reg = (owner.get("–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏") or 
                               owner.get("–¥–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏") or 
                               owner.get("–î–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏") or "")
                    date_end = (owner.get("–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or 
                               owner.get("–¥–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or
                               owner.get("–¥–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or
                               owner.get("–î–∞—Ç–∞_–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞") or "")
                    
                    print(f"[DEALS_EGRN_DATES]   Owner {owner_idx}: {owner_fio_str}, reg={date_reg}, end={date_end}")
                    print(f"[DEALS_EGRN_DATES]   Owner raw data: {owner}")
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ü–†–û–î–ê–ñ–£ (–¥–∞—Ç–∞ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞ = –¥–∞—Ç–∞)
                    if not found_sale and date_end and date_end != "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                        try:
                            end_date = datetime.strptime(date_end, '%d.%m.%Y')
                            if end_date >= three_years_ago:
                                # –≠—Ç–æ –ü–†–û–î–ê–ñ–ê –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞!
                                predmet = obj.get("–í–∏–¥", "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å")
                                
                                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø—Ä–µ–¥–º–µ—Ç–∞
                                vid_lower = predmet.lower() if predmet else ""
                                if "–∫–≤–∞—Ä—Ç–∏—Ä" in vid_lower or "–ø–æ–º–µ—â–µ–Ω" in vid_lower:
                                    predmet_type = "–∫–≤–∞—Ä—Ç–∏—Ä–∞"
                                elif "–¥–æ–º" in vid_lower or "–∑–¥–∞–Ω–∏–µ" in vid_lower:
                                    predmet_type = "–¥–æ–º"
                                elif "–∑–µ–º–µ–ª" in vid_lower or "—É—á–∞—Å—Ç–æ–∫" in vid_lower:
                                    predmet_type = "–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫"
                                else:
                                    predmet_type = predmet or "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"
                                
                                sale_deal = {
                                    "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–ø—Ä–æ–¥–∞–∂–∞",
                                    "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": date_end,
                                    "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": "–ø—Ä–æ–¥–∞–≤–µ—Ü",
                                    "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": predmet_type,
                                    "–û–ø–∏—Å–∞–Ω–∏–µ": f"{predmet}, –ø–ª–æ—â–∞–¥—å: {obj.get('–ü–ª–æ—â–∞–¥—å', '')}",
                                    "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": obj.get("–ê–¥—Ä–µ—Å", ""),
                                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": cadastral,
                                    "–°—Ç–æ–∏–º–æ—Å—Ç—å": obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å") or egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å"),
                                    "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": None,
                                    "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": None
                                }
                                print(f"[DEALS_EGRN_DATES] Object {idx}: Found SALE deal - sold on {date_end}")
                                all_deals.append(sale_deal)
                                found_sale = True  # –ë–æ–ª—å—à–µ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–¥–∞–∂–∏ –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
                        except (ValueError, AttributeError) as e:
                            print(f"[DEALS_EGRN_DATES] Could not parse end date {date_end}: {e}")
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ü–û–ö–£–ü–ö–£ (–¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ + –ø—Ä–∞–≤–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç)
                    if not found_purchase and date_end == "–¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" and date_reg:
                        try:
                            reg_date = datetime.strptime(date_reg, '%d.%m.%Y')
                            
                            if reg_date >= three_years_ago:
                                # –≠—Ç–æ –ø–æ–∫—É–ø–∫–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞!
                                predmet = obj.get("–í–∏–¥", "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å")
                                
                                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø—Ä–µ–¥–º–µ—Ç–∞
                                vid_lower = predmet.lower() if predmet else ""
                                if "–∫–≤–∞—Ä—Ç–∏—Ä" in vid_lower or "–ø–æ–º–µ—â–µ–Ω" in vid_lower:
                                    predmet_type = "–∫–≤–∞—Ä—Ç–∏—Ä–∞"
                                elif "–¥–æ–º" in vid_lower or "–∑–¥–∞–Ω–∏–µ" in vid_lower:
                                    predmet_type = "–¥–æ–º"
                                elif "–∑–µ–º–µ–ª" in vid_lower or "—É—á–∞—Å—Ç–æ–∫" in vid_lower:
                                    predmet_type = "–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫"
                                else:
                                    predmet_type = predmet or "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"
                                
                                purchase_deal = {
                                    "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–ø–æ–∫—É–ø–∫–∞",
                                    "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": date_reg,
                                    "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å",
                                    "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": predmet_type,
                                    "–û–ø–∏—Å–∞–Ω–∏–µ": f"{predmet}, –ø–ª–æ—â–∞–¥—å: {obj.get('–ü–ª–æ—â–∞–¥—å', '')}",
                                    "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": obj.get("–ê–¥—Ä–µ—Å", ""),
                                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": cadastral,
                                    "–°—Ç–æ–∏–º–æ—Å—Ç—å": obj.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å") or egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å"),
                                    "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": None,
                                    "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": None
                                }
                                print(f"[DEALS_EGRN_DATES] Object {idx}: Found PURCHASE deal - bought on {date_reg}")
                                all_deals.append(purchase_deal)
                                found_purchase = True  # –ë–æ–ª—å—à–µ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–∫—É–ø–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
                        except (ValueError, AttributeError) as e:
                            print(f"[DEALS_EGRN_DATES] Could not parse date {date_reg}: {e}")

        # –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ - —Ç–æ–ª—å–∫–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞
        from datetime import datetime, timedelta
        three_years_ago = datetime.now() - timedelta(days=3*365)

        filtered_deals = []
        for deal in all_deals:
            deal_date_str = deal.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏")
            if not deal_date_str:
                # –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ—Ç, –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∫–ª—é—á–∞–µ–º
                filtered_deals.append(deal)
                continue

            try:
                # –ü–∞—Ä—Å–∏–º –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì
                deal_date = datetime.strptime(deal_date_str, '%d.%m.%Y')
                if deal_date >= three_years_ago:
                    filtered_deals.append(deal)
            except (ValueError, TypeError):
                # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –¥–∞—Ç—É, –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∫–ª—é—á–∞–µ–º
                filtered_deals.append(deal)

        # –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–Ø: –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–¥–µ–ª–æ–∫
        deduplicated_deals = []
        seen_keys = set()  # –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫
        
        for deal in filtered_deals:
            # –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
            predmet = deal.get("–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏", "")
            date_str = deal.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏", "")
            cadastral = deal.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", "")
            
            # –î–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ–º VIN
            if predmet == "–∞–≤—Ç–æ–º–æ–±–∏–ª—å":
                addr_or_char = deal.get("–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏") or ""
                vin = ""
                if "VIN:" in addr_or_char:
                    vin_start = addr_or_char.index("VIN:") + 4
                    vin_part = addr_or_char[vin_start:].split(",")[0].strip()
                    vin = vin_part
                
                if vin and date_str:
                    deal_key = (predmet, date_str, vin)
                else:
                    deal_key = (predmet, date_str, addr_or_char[:50])  # Fallback
            # –î–ª—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä
            else:
                if cadastral and date_str:
                    deal_key = (predmet, date_str, cadastral)
                else:
                    # Fallback: –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å
                    address = (deal.get("–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏") or "")[:100]
                    deal_key = (predmet, date_str, address)
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–∏ —É–∂–µ —ç—Ç–∞ —Å–¥–µ–ª–∫–∞
            if deal_key in seen_keys:
                print(f"[DEALS_DEDUP] Skipping duplicate: {predmet} on {date_str}")
                continue
            
            seen_keys.add(deal_key)
            deduplicated_deals.append(deal)

        return deduplicated_deals

    @staticmethod
    def get_arbitration_court(address: str) -> str:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞.

        Args:
            address: –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

        Returns:
            –ù–∞–∑–≤–∞–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —Å—É–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏")
        """
        if not address:
            return "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥"

        prompt = (
            "–û–ø—Ä–µ–¥–µ–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —Å—É–¥–∞ –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞."
            " –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É–¥–∞ –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π.\n\n"
            "–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:\n"
            "- –î–ª—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã', '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞'\n"
            "- –î–ª—è –æ–±–ª–∞—Å—Ç–µ–π: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ [–Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ —Å –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º] –æ–±–ª–∞—Å—Ç–∏'\n"
            "  * –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "  * –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "  * –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "  * –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "- –î–ª—è –∫—Ä–∞–µ–≤: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ [–Ω–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∞—è —Å –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º] –∫—Ä–∞—è'\n"
            "  * –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "  * –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "  * –ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ê–ª—Ç–∞–π—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "- –î–ª—è —Ä–µ—Å–ø—É–±–ª–∏–∫: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ [–Ω–∞–∑–≤–∞–Ω–∏–µ]'\n"
            "  * –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω\n"
            "  * –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω\n"
            "  * –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ö—Ä—ã–º\n\n"
            f"–ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {address}\n\n"
            "–ê–ª–≥–æ—Ä–∏—Ç–º:\n"
            "1. –ù–∞–π–¥–∏ –≤ –∞–¥—Ä–µ—Å–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É–±—ä–µ–∫—Ç–∞ –†–§ (–æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π/—Ä–µ—Å–ø—É–±–ª–∏–∫–∞/–≥–æ—Ä–æ–¥ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è)\n"
            "2. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? —á–µ–≥–æ?)\n"
            "3. –î–æ–±–∞–≤—å '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥' + –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É–±—ä–µ–∫—Ç–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ\n\n"
            "–ü—Ä–∏–º–µ—Ä—ã:\n"
            "- –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "- –≥. –ú–æ—Å–∫–≤–∞ ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã\n"
            "- –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "- –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –≥. –£—Ñ–∞ ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω"
        )

        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            # –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ GPT –¥–æ–±–∞–≤–∏—Ç –ø–æ—è—Å–Ω–µ–Ω–∏—è)
            court_name = result.splitlines()[0].strip()
            return court_name
        except Exception:
            return "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥"

    @staticmethod
    def format_attachments(pdf_paths: List[Path], openai_client=None) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–∑ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ GPT.
        
        GPT –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –Ω–∞—á–∞–ª–æ, –¥–æ–±–∞–≤–ª—è–µ—Ç "–ö–æ–ø–∏—è" –ø–µ—Ä–µ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
        (–∫—Ä–æ–º–µ –∫–≤–∏—Ç–∞–Ω—Ü–∏–π), –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.
        """
        if not pdf_paths:
            return ""

        import re
        from collections import Counter

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
        processed_names = []
        for path in pdf_paths:
            # –£–±–∏—Ä–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
            name = path.stem

            # –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω—è–µ–º –í–°–ï –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–±–µ–ª—ã (–¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)
            name = name.replace('_', ' ')

            # –£–¥–∞–ª—è–µ–º —Ü–∏—Ñ—Ä—ã –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ (—Å —Ç–æ—á–∫–æ–π –∏–ª–∏ –±–µ–∑)
            name_clean = re.sub(r'^\d+\.?\s*', '', name)

            # –£–±–∏—Ä–∞–µ–º –Ω—É–º–µ—Ä–∞—Ü–∏—é –≤ —Å–∫–æ–±–∫–∞—Ö —Ç–∏–ø–∞ (1), (2), (10) –≤ –∫–æ–Ω—Ü–µ
            name_clean = re.sub(r'\s*\(\d+\)\s*$', '', name_clean)

            # –£–±–∏—Ä–∞–µ–º –Ω—É–º–µ—Ä–∞—Ü–∏—é —Ç–∏–ø–∞ _1_, _2_ –≤ –∫–æ–Ω—Ü–µ
            name_clean = re.sub(r'\s+\d+\s*$', '', name_clean)
            
            # –£–±–∏—Ä–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
            name_clean = re.sub(r'\s+', ' ', name_clean).strip()

            processed_names.append(name_clean)

        # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        name_counts = Counter(processed_names)
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
        unique_docs = []
        seen = set()
        
        for name_clean in processed_names:
            if name_clean in seen:
                continue
            seen.add(name_clean)
            count = name_counts[name_clean]
            
            if count > 1:
                unique_docs.append(f"{name_clean} ‚Äî {count} —à—Ç.")
            else:
                unique_docs.append(name_clean)
        
        # –ï—Å–ª–∏ –Ω–µ—Ç OpenAI –∫–ª–∏–µ–Ω—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
        if not openai_client:
            # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤—Ä—É—á–Ω—É—é
            attachments = [
                "1. –ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ",
                "2. –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ",
                "3. –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞",
                "4. –°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤",
                "5. –û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞"
            ]
            
            counter = 6
            for doc in unique_docs:
                needs_copy = "–∫–≤–∏—Ç–∞–Ω—Ü" not in doc.lower()
                if needs_copy:
                    attachments.append(f"{counter}. –ö–æ–ø–∏—è {doc}")
                else:
                    attachments.append(f"{counter}. {doc}")
                counter += 1

            return "{{LINE_BREAK}}".join(attachments)
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –ø—Ä–æ–º–ø—Ç –¥–ª—è GPT
        docs_list = "\n".join([f"- {doc}" for doc in unique_docs])
        
        prompt = f"""–°—Ñ–æ—Ä–º–∏—Ä—É–π –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∫ –∑–∞—è–≤–ª–µ–Ω–∏—é –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ.

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´ –í –ù–ê–ß–ê–õ–ï (–≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π, –±–µ–∑ "–ö–æ–ø–∏—è"):
1. –ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
2. –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ
3. –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞
4. –°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤
5. –û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞

–î–û–ö–£–ú–ï–ù–¢–´ –ò–ó –°–ü–ò–°–ö–ê (–Ω–∞—á–∏–Ω–∞—è —Å –Ω–æ–º–µ—Ä–∞ 6):
{docs_list}

–ü–†–ê–í–ò–õ–ê –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–Ø:
1. –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–æ–±–∞–≤–ª—è–π —Å–ª–æ–≤–æ "–ö–æ–ø–∏—è"
2. –ò–°–ö–õ–Æ–ß–ï–ù–ò–ï: –ù–ï –¥–æ–±–∞–≤–ª—è–π "–ö–æ–ø–∏—è" –ø–µ—Ä–µ–¥ –ø–æ—á—Ç–æ–≤—ã–º–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—è–º–∏ (–µ—Å–ª–∏ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –µ—Å—Ç—å —Å–ª–æ–≤–æ "–∫–≤–∏—Ç–∞–Ω—Ü")
3. –°–æ—Ö—Ä–∞–Ω–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ "‚Äî X —à—Ç." –µ—Å–ª–∏ –æ–Ω–æ —É–∫–∞–∑–∞–Ω–æ
4. –ù—É–º–µ—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∫–≤–æ–∑–Ω–æ–π (1, 2, 3... –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤)

–ü–†–ò–ú–ï–†–´:
- "–ö–æ–ø–∏—è –ü–∞—Å–ø–æ—Ä—Ç" -> "6. –ö–æ–ø–∏—è –ü–∞—Å–ø–æ—Ä—Ç"
- "–°–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî 3 —à—Ç." -> "7. –ö–æ–ø–∏—è –°–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî 3 —à—Ç."
- "–ü–æ—á—Ç–æ–≤–∞—è –∫–≤–∏—Ç–∞–Ω—Ü–∏—è" -> "8. –ü–æ—á—Ç–æ–≤–∞—è –∫–≤–∏—Ç–∞–Ω—Ü–∏—è" (–ë–ï–ó "–ö–æ–ø–∏—è")

–í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫, –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤."""

        try:
            response = openai_client.chat.completions.create(
                model="gpt-4o-mini",
                messages=[{"role": "user", "content": prompt}],
                temperature=0.1,
                max_tokens=1500
            )
            
            result = response.choices[0].message.content.strip()
            return result.replace("\n", "{{LINE_BREAK}}")
            
        except Exception as e:
            print(f"[ERROR] Failed to format attachments with GPT: {e}")
            # Fallback –Ω–∞ —Ä—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
            attachments = [
                "1. –ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ",
                "2. –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ",
                "3. –•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞",
                "4. –°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤",
                "5. –û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞"
            ]
            counter = 6
            for doc in unique_docs:
                needs_copy = "–∫–≤–∏—Ç–∞–Ω—Ü" not in doc.lower()
                if needs_copy:
                    attachments.append(f"{counter}. –ö–æ–ø–∏—è {doc}")
                else:
                    attachments.append(f"{counter}. {doc}")
                counter += 1
            return "{{LINE_BREAK}}".join(attachments)

    @staticmethod
    def prepare_template_context(data_map: Dict[str, List[Dict[str, Any]]], pdf_paths: Optional[List[Path]] = None, openai_client=None) -> Dict[str, str]:
        # DEBUG: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –ø—Ä–∏—à–ª–æ –≤ prepare_template_context
        print(f"[DEBUG prepare_template_context] data_map keys: {list(data_map.keys())}")
        for key in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"]:
            if key in data_map:
                print(f"[DEBUG] {key}: {len(data_map[key])} –æ—Ç—á–µ—Ç–æ–≤")
                for idx, report in enumerate(data_map[key]):
                    report_keys = list(report.keys()) if isinstance(report, dict) else "NOT A DICT"
                    print(f"  [DEBUG] –û—Ç—á–µ—Ç {idx+1} –∫–ª—é—á–∏: {report_keys}")
        
        passport = DocumentProcessor.select_first_entry(data_map, "–ø–∞—Å–ø–æ—Ä—Ç")
        inn = DocumentProcessor.select_first_entry(data_map, "–∏–Ω–Ω")
        snils = DocumentProcessor.select_first_entry(data_map, "—Å–Ω–∏–ª—Å")
        labour = DocumentProcessor.select_first_entry(data_map, "—Ç—Ä—É–¥–æ–≤–∞—è")
        sziils = DocumentProcessor.select_first_entry(data_map, "—Å–∑–∏–∏–ª—Å")
        
        # –î–æ–∫—É–º–µ–Ω—Ç—ã —Å—É–ø—Ä—É–≥–∞
        passport_spouse = DocumentProcessor.select_first_entry(data_map, "–ø–∞—Å–ø–æ—Ä—Ç_—Å—É–ø—Ä—É–≥–∞")
        inn_spouse = DocumentProcessor.select_first_entry(data_map, "–∏–Ω–Ω_—Å—É–ø—Ä—É–≥–∞")
        snils_spouse = DocumentProcessor.select_first_entry(data_map, "—Å–Ω–∏–ª—Å_—Å—É–ø—Ä—É–≥–∞")
        marriage_cert = DocumentProcessor.select_first_entry(data_map, "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–∑–∞–∫–ª—é—á–µ–Ω–∏–∏_–±—Ä–∞–∫–∞")
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        criminal_record = DocumentProcessor.select_first_entry(data_map, "—Å–ø—Ä–∞–≤–∫–∞_–æ_—Å—É–¥–∏–º–æ—Å—Ç–∏")
        tax_accounts = DocumentProcessor.select_first_entry(data_map, "–Ω–∞–ª–æ–≥–æ–≤–∞—è_—Å—á–µ—Ç–∞")
        credit_history = DocumentProcessor.select_first_entry(data_map, "–æ—Ç—á–µ—Ç_–æ–∫–±")
        if not credit_history:
            credit_history = DocumentProcessor.select_first_entry(data_map, "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏")
        pension_account = DocumentProcessor.select_first_entry(data_map, "—Å–∑–∏–∏–ª—Å")

        # === –ü–û–õ–£–ß–ï–ù–ò–ï –§–ò–û ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë > —Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏ > –Ω–∞–ª–æ–≥–æ–≤–∞—è > —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Ç—Ä—É–¥–æ–≤–∞—è
        owner_fio = passport.get("–§–ò–û", "") if passport else ""
        
        if not owner_fio and credit_history:
            owner_fio = credit_history.get("–§–ò–û", "") or ""
        
        if not owner_fio and criminal_record:
            owner_fio = criminal_record.get("–§–ò–û", "") or ""
        
        if not owner_fio and tax_accounts:
            owner_fio = tax_accounts.get("–§–ò–û", "") or ""
        
        if not owner_fio and labour:
            owner_fio = labour.get("–§–ò–û", "") or ""

        # –ü–æ–ª—É—á–∞–µ–º –¥–µ–≤–∏—á—å—é —Ñ–∞–º–∏–ª–∏—é –∏–∑ —Å–ø—Ä–∞–≤–∫–∏ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        devichya_familiya = ""
        if criminal_record:
            devichya_familiya = criminal_record.get("–î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è", "") or ""
        
        # –ï—Å–ª–∏ –µ—Å—Ç—å –¥–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è, —Ñ–æ—Ä–º–∏—Ä—É–µ–º –§–ò–û —Å –Ω–µ–π –≤ —Å–∫–æ–±–∫–∞—Ö
        # –§–æ—Ä–º–∞—Ç: "–§–∞–º–∏–ª–∏—è (–î–µ–≤–∏—á—å—è) –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ"
        fio_with_maiden = owner_fio
        if devichya_familiya and owner_fio:
            fio_parts = owner_fio.split()
            if len(fio_parts) >= 3:
                # –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Å–∫–æ–±–∫–∏ –≤ –§–ò–û - –Ω–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ
                if "(" not in owner_fio:
                    fio_with_maiden = f"{fio_parts[0]} ({devichya_familiya}) {' '.join(fio_parts[1:])}"

        # === –ü–û–ü–´–¢–ö–ê –ò–ó–í–õ–ï–ß–¨ –î–ê–ù–ù–´–ï –°–£–ü–†–£–ì–ê –ò–ó –°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–ê –û –ë–†–ê–ö–ï ===
        if not passport_spouse and marriage_cert and owner_fio:
            print("[INFO] –ü–∞—Å–ø–æ—Ä—Ç —Å—É–ø—Ä—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–±—É–µ–º –∏–∑–≤–ª–µ—á—å –∏–∑ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –±—Ä–∞–∫–µ...")
            sp_fio_1 = marriage_cert.get("–°—É–ø—Ä—É–≥_–§–ò–û")
            sp_fio_2 = marriage_cert.get("–°—É–ø—Ä—É–≥–∞_–§–ò–û")
            
            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫—Ç–æ –∏–∑ –Ω–∏—Ö –¥–æ–ª–∂–Ω–∏–∫
            debtor_is_husband = False
            debtor_is_wife = False
            
            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
            def _is_similar(a, b):
                if not a or not b: return False
                return difflib.SequenceMatcher(None, a.lower(), b.lower()).ratio() > 0.85
            
            if sp_fio_1 and _is_similar(owner_fio, sp_fio_1):
                debtor_is_husband = True
            elif sp_fio_2 and _is_similar(owner_fio, sp_fio_2):
                debtor_is_wife = True
                
            spouse_data = {}
            if debtor_is_husband and sp_fio_2:
                spouse_data["–§–ò–û"] = sp_fio_2
                spouse_data["–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è"] = marriage_cert.get("–°—É–ø—Ä—É–≥–∞_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                spouse_data["–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è"] = marriage_cert.get("–°—É–ø—Ä—É–≥–∞_–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è")
            elif debtor_is_wife and sp_fio_1:
                spouse_data["–§–ò–û"] = sp_fio_1
                spouse_data["–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è"] = marriage_cert.get("–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                spouse_data["–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è"] = marriage_cert.get("–°—É–ø—Ä—É–≥_–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è")

            if spouse_data.get("–§–ò–û"):
                 print(f"[INFO] –ò–∑–≤–ª–µ—á–µ–Ω —Å—É–ø—Ä—É–≥ –∏–∑ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞: {spouse_data['–§–ò–û']}")
                 passport_spouse = spouse_data

        # === –ü–û–õ–£–ß–ï–ù–ò–ï –ò–ù–ù ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –¥–æ–∫—É–º–µ–Ω—Ç –ò–ù–ù > —Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏ > –Ω–∞–ª–æ–≥–æ–≤–∞—è > –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
        inn_number = ""
        for inn_doc in data_map.get("–∏–Ω–Ω", []):
            if isinstance(inn_doc, dict):
                inn_value = inn_doc.get("–ò–ù–ù")
                if inn_value and inn_value != "null":
                    inn_number = inn_value
                    break

        if not inn_number and inn:
            inn_number = inn.get("–ò–ù–ù", "") or ""
        
        if not inn_number and criminal_record:
            inn_number = criminal_record.get("–ò–ù–ù", "") or ""
        
        if not inn_number and tax_accounts:
            inn_number = tax_accounts.get("–ò–ù–ù", "") or ""
        
        # –§–æ–ª–ª–±—ç–∫ –Ω–∞ –∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (–û–ö–ë, –ù–ë–ö–ò, –ë–ö–ò)
        if not inn_number and credit_history:
            inn_number = credit_history.get("–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞", "") or ""

        # === –ü–û–õ–£–ß–ï–ù–ò–ï –°–ù–ò–õ–° ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –¥–æ–∫—É–º–µ–Ω—Ç –°–ù–ò–õ–° > –ª–∏—Ü–µ–≤–æ–π —Å—á–µ—Ç –ü–§–† > —Ç—Ä—É–¥–æ–≤–∞—è > –°–ó–ò–ò–õ–°
        snils_number = ""
        if snils:
            snils_number = snils.get("–°–ù–ò–õ–°", "") or ""
        
        if not snils_number and pension_account:
            snils_number = pension_account.get("–°–ù–ò–õ–°", "") or ""
        
        if not snils_number and labour:
            snils_number = labour.get("–°–ù–ò–õ–°", "") or ""
        
        if not snils_number and sziils:
            snils_number = sziils.get("–°–ù–ò–õ–°", "") or ""

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (—Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –§–ò–û –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞)
        # –£—á–∏—Ç—ã–≤–∞–µ–º –∫–∞–∫ –ø–æ–ª–Ω—ã–µ –≤—ã–ø–∏—Å–∫–∏, —Ç–∞–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ (–¥–ª—è –¥–æ–ª–µ–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)
        real_estate_detailed = DocumentProcessor.format_real_estate_detailed(
            data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []), 
            owner_fio=owner_fio,
            notification_list=data_map.get("–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", []),
            inventory_list=data_map.get("—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ", [])
        )

        average_income = DocumentProcessor.calculate_average_income(data_map.get("–¥–æ—Ö–æ–¥—ã", []))
        accounts_count = DocumentProcessor.calculate_bank_accounts(data_map.get("—Å—á–µ—Ç–∞", []))

        # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω–∏–∫–∞
        –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ = passport.get("–ü—Ä–æ–ø–∏—Å–∫–∞", "") if passport else ""
        
        # –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –Ω–µ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤ –û–ö–ë/–ù–ë–ö–ò
        if not –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ and credit_history:
            –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ = credit_history.get("–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "") or ""

        # === –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø –ù–ê–ó–í–ê–ù–ò–ô –ö–†–ï–î–ò–¢–û–†–û–í –ß–ï–†–ï–ó GPT ===
        # –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        creditor_names = set()
        for source in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞"]:
            for doc in data_map.get(source, []):
                if isinstance(doc, dict):
                    creditor = doc.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä") or doc.get("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or doc.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å") or ""
                    if creditor:
                        creditor_names.add(creditor)
        
        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —á–µ—Ä–µ–∑ GPT
        gpt_normalized = {}
        if creditor_names:
            gpt_normalized = DocumentProcessor.normalize_creditor_names_with_gpt(list(creditor_names))
            
            # –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –∫ –∏—Å—Ö–æ–¥–Ω—ã–º –¥–∞–Ω–Ω—ã–º
            if gpt_normalized:
                for source in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞"]:
                    for doc in data_map.get(source, []):
                        if isinstance(doc, dict):
                            original = doc.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä") or doc.get("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or doc.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å") or ""
                            if original and original in gpt_normalized:
                                normalized = gpt_normalized[original]
                                # –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
                                if "–ö—Ä–µ–¥–∏—Ç–æ—Ä" in doc:
                                    doc["–ö—Ä–µ–¥–∏—Ç–æ—Ä"] = normalized
                                if "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞" in doc:
                                    doc["–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"] = normalized
                                if "–í–∑—ã—Å–∫–∞—Ç–µ–ª—å" in doc:
                                    doc["–í–∑—ã—Å–∫–∞—Ç–µ–ª—å"] = normalized

        # –¢–∞–±–ª–∏—Ü–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ (–ø–µ—Ä–µ–¥–∞–µ–º –§–ò–û, –ò–ù–ù, –°–ù–ò–õ–°, –∞–¥—Ä–µ—Å)
        # –í–ê–ñ–ù–û: —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É –ü–ï–†–ï–î —Ä–∞—Å—á–µ—Ç–æ–º –æ–±—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞
        creditors_table_data = DocumentProcessor.format_creditors_table(
            data_map, 
            debtor_fio=owner_fio,
            debtor_inn=inn_number,
            debtor_snils=snils_number,
            debtor_address=–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏
        )

        # –ù–û–í–û–ï: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –Ω–∞–ª–æ–≥–æ–≤
        total_debt = Decimal(0)

        # –°—É–º–º–∏—Ä—É–µ–º –¥–æ–ª–≥–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ (credits)
        for credit in creditors_table_data.get("credits", []):
            # –ë–µ—Ä–µ–º "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ" (—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å)
            debt_str = credit.get("–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ", "0")
            debt_amount = DocumentProcessor.parse_decimal(debt_str) or Decimal(0)
            total_debt += debt_amount

            # –î–æ–±–∞–≤–ª—è–µ–º —à—Ç—Ä–∞—Ñ—ã –∏ –ø–µ–Ω–∏
            penalties_str = credit.get("–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ", "0")
            penalties_amount = DocumentProcessor.parse_decimal(penalties_str) or Decimal(0)
            total_debt += penalties_amount

        # –°—É–º–º–∏—Ä—É–µ–º –¥–æ–ª–≥–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞–ª–æ–≥–æ–≤ (taxes)
        for tax in creditors_table_data.get("taxes", []):
            # –ë–µ—Ä–µ–º —Å—É–º–º—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
            tax_str = tax.get("–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞", "0")
            tax_amount = DocumentProcessor.parse_decimal(tax_str) or Decimal(0)
            total_debt += tax_amount

            # –î–æ–±–∞–≤–ª—è–µ–º —à—Ç—Ä–∞—Ñ—ã –∏ –ø–µ–Ω–∏ –ø–æ –Ω–∞–ª–æ–≥–∞–º
            tax_penalties_str = tax.get("–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞", "0")
            tax_penalties_amount = DocumentProcessor.parse_decimal(tax_penalties_str) or Decimal(0)
            total_debt += tax_penalties_amount

        # === –ü–ê–°–ü–û–†–¢–ù–´–ï –î–ê–ù–ù–´–ï (—Å fallback –Ω–∞ –û–ö–ë) ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
        series = passport.get("–°–µ—Ä–∏—è") if passport else ""
        number = passport.get("–ù–æ–º–µ—Ä") if passport else ""
        
        # –ï—Å–ª–∏ –Ω–µ—Ç –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ, –±–µ—Ä–µ–º –∏–∑ –û–ö–ë
        if not series and credit_history:
            series = credit_history.get("–°–µ—Ä–∏—è_–ø–∞—Å–ø–æ—Ä—Ç–∞", "") or ""
        if not number and credit_history:
            number = credit_history.get("–ù–æ–º–µ—Ä_–ø–∞—Å–ø–æ—Ä—Ç–∞", "") or ""
        
        if series and number:
            series_number = f"{series} {number}"
        else:
            series_number = str(series or number or "")

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞ –ø—Ä–æ–ø–∏—Å—å—é
        debt_formatted = ""
        if total_debt is not None and total_debt > 0:
            debt_formatted = DocumentProcessor.number_to_words_rubles(total_debt)

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–º–µ–π–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –¥–µ—Ç–µ–π
        marital_children_text = DocumentProcessor.check_marital_and_children_status(passport, data_map)

        # –§–∞–º–∏–ª–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª—ã - –í–ê–ñ–ù–û: –î–µ–ª–∞–µ–º —ç—Ç–æ –î–û —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤ —Å –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è–º–∏
        fio_initials = passport.get("–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã", "") if passport else ""
        fio_initials_rp = passport.get("–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_—Ä–ø", "") if passport else ""

        # –ò—Å–ø–æ–ª—å–∑—É–µ–º owner_fio (—É–∂–µ —Å –¥–µ–≤–∏—á—å–µ–π —Ñ–∞–º–∏–ª–∏–µ–π –≤ —Å–∫–æ–±–∫–∞—Ö, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å)
        full_name = owner_fio
        if not fio_initials_rp and full_name:
            fio_initials_rp = DocumentProcessor.convert_to_genitive_initials(full_name)

        # –î–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É?) - –∏–Ω–∏—Ü–∏–∞–ª—ã
        fio_initials_dp = DocumentProcessor.convert_to_dative_initials(full_name)

        # –ù–û–í–û–ï: –ü–æ–ª–Ω—ã–µ –§–ò–û –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö (–±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤)
        fio_full_rp = DocumentProcessor.convert_to_genitive_full(full_name)  # –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞
        fio_full_dp = DocumentProcessor.convert_to_dative_full(full_name)    # –ö—É–∑—å–º–∏—á—É –ù–∏–∫–æ–ª–∞—é –ü–∞–≤–ª–æ–≤–∏—á—É
        fio_full_vp = DocumentProcessor.convert_to_accusative_full(full_name) # –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞

        # –†–∞–∑–±–∏–≤–∞–µ–º –§–ò–û –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏ (—Ç–∞–º –ø–æ–ª—è –±–µ–∑ –¥–µ–≤–∏—á—å–µ–π —Ñ–∞–º–∏–ª–∏–∏) > –ø–∞—Å–ø–æ—Ä—Ç > –ø—Ä–æ—Å—Ç–æ–π split
        if criminal_record and criminal_record.get("–§–∞–º–∏–ª–∏—è"):
            familia = criminal_record.get("–§–∞–º–∏–ª–∏—è", "")
            imya = criminal_record.get("–ò–º—è", "")
            otchestvo = criminal_record.get("–û—Ç—á–µ—Å—Ç–≤–æ", "")
        elif passport and passport.get("–§–∞–º–∏–ª–∏—è") and passport.get("–ò–º—è"):
            # –ë–µ—Ä–µ–º –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞, —Ç–∞–∫ –∫–∞–∫ —Ç–∞–º –ø–æ–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
            familia = passport.get("–§–∞–º–∏–ª–∏—è", "")
            imya = passport.get("–ò–º—è", "")
            otchestvo = passport.get("–û—Ç—á–µ—Å—Ç–≤–æ", "")
            
            # –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–æ–ø–∞–ª–∞ –ª–∏ –¥–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è –≤ –ø–æ–ª–µ "–ò–º—è" –∏–ª–∏ "–û—Ç—á–µ—Å—Ç–≤–æ"
            prev_name = passport.get("–ü—Ä–µ–∂–Ω–∏–µ_–∏–º–µ–Ω–∞_—Ñ–∞–º–∏–ª–∏—è_–æ—Ç—á–µ—Å—Ç–≤–∞") or passport.get("–ü—Ä–µ–∂–Ω—è—è_—Ñ–∞–º–∏–ª–∏—è") or ""
            if prev_name:
                # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
                prev_lower = prev_name.lower().strip()
                # –ï—Å–ª–∏ –¥–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è –ø–æ–ø–∞–ª–∞ –≤ –æ—Ç—á–µ—Å—Ç–≤–æ - —É–±–∏—Ä–∞–µ–º –æ—Ç—á–µ—Å—Ç–≤–æ
                if otchestvo.lower().strip() == prev_lower:
                    otchestvo = ""
                # –ï—Å–ª–∏ –¥–µ–≤–∏—á—å—è —Ñ–∞–º–∏–ª–∏—è –ø–æ–ø–∞–ª–∞ –≤ –∏–º—è (–æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–æ –≤–¥—Ä—É–≥)
                if imya.lower().strip() == prev_lower:
                    # –ü—ã—Ç–∞–µ–º—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–º—è –∏–∑ –ø–æ–ª–Ω–æ–≥–æ –§–ò–û –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –∏–ª–∏ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º
                    imya = "" # –¢—É—Ç —Å–ª–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        else:
            fio_parts = full_name.split() if full_name else []
            familia = fio_parts[0] if len(fio_parts) > 0 else ""
            
            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–≤–∏—á—å–µ–π —Ñ–∞–º–∏–ª–∏–∏ –≤ —Å–∫–æ–±–∫–∞—Ö –ø—Ä–∏ —Ä–∞–∑–±–∏–≤–∫–µ —á–µ—Ä–µ–∑ split
            # –ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤–∞ (–°–∏–¥–æ—Ä–æ–≤–∞) –ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–Ω–∞
            # parts: [–ò–≤–∞–Ω–æ–≤–∞, (–°–∏–¥–æ—Ä–æ–≤–∞), –ê–Ω–Ω–∞, –ü–µ—Ç—Ä–æ–≤–Ω–∞]
            
            cleaned_parts = []
            for part in fio_parts:
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —á–∞—Å—Ç–∏ –≤ —Å–∫–æ–±–∫–∞—Ö (–¥–µ–≤–∏—á—å–∏ —Ñ–∞–º–∏–ª–∏–∏)
                if "(" in part or ")" in part:
                    continue
                cleaned_parts.append(part)
            
            # –ó–∞–Ω–æ–≤–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º
            if len(cleaned_parts) > 0:
                familia = cleaned_parts[0]
            if len(cleaned_parts) > 1:
                imya = cleaned_parts[1]
            else:
                imya = ""
            if len(cleaned_parts) > 2:
                otchestvo = " ".join(cleaned_parts[2:])
            else:
                otchestvo = ""

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª
        gender = DocumentProcessor.detect_gender(full_name)

        # –ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª–∞
        pronoun_accusative = DocumentProcessor.get_gender_pronoun(gender, "accusative")  # –µ–≥–æ/–µ—ë
        pronoun_genitive = DocumentProcessor.get_gender_pronoun(gender, "genitive")  # –Ω–µ–≥–æ/–Ω–µ—ë
        pronoun_dative = DocumentProcessor.get_gender_pronoun(gender, "dative")  # –µ–º—É/–µ–π

        # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ—Ç)
        admin_responsibility = "–î–æ–ª–∂–Ω–∏–∫ –Ω–µ –ø—Ä–∏–≤–ª–µ–∫–∞–ª—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –º–µ–ª–∫–æ–µ —Ö–∏—â–µ–Ω–∏–µ, —É–º—ã—à–ª–µ–Ω–Ω–æ–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ, —Ñ–∏–∫—Ç–∏–≤–Ω–æ–µ –∏–ª–∏ –ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ."

        # –£–≥–æ–ª–æ–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
        # –ï—Å–ª–∏ –µ—Å—Ç—å —Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –¥–∞–Ω–Ω—ã–µ
        if criminal_record and criminal_record.get("–°–≤–µ–¥–µ–Ω–∏—è_–æ_—Å—É–¥–∏–º–æ—Å—Ç–∏"):
            —Å—É–¥–∏–º–æ—Å—Ç—å_—Ç–µ–∫—Å—Ç = criminal_record.get("–°–≤–µ–¥–µ–Ω–∏—è_–æ_—Å—É–¥–∏–º–æ—Å—Ç–∏", "").strip()
            # –ï—Å–ª–∏ –≤ —Å–ø—Ä–∞–≤–∫–µ —É–∫–∞–∑–∞–Ω–æ, —á—Ç–æ —Å—É–¥–∏–º–æ—Å—Ç–∏ –Ω–µ—Ç (—Å–æ–¥–µ—Ä–∂–∏—Ç "–Ω–µ –∏–º–µ–µ—Ç—Å—è", "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç" –∏ —Ç.–ø.)
            if any(word in —Å—É–¥–∏–º–æ—Å—Ç—å_—Ç–µ–∫—Å—Ç.lower() for word in ["–Ω–µ –∏–º–µ–µ—Ç—Å—è", "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç", "–Ω–µ –±—ã–ª–æ", "–Ω–µ—Ç"]):
                criminal_text = f"–í –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–µ –∏–º–µ–µ—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏–π –æ–± —É–≥–æ–ª–æ–≤–Ω—ã—Ö –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–ª–∞—Ö –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ {pronoun_genitive}, –∞ —Ç–∞–∫–∂–µ –æ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–Ω—è—Ç–æ–π –∏–ª–∏ –Ω–µ–ø–æ–≥–∞—à–µ–Ω–Ω–æ–π —Å—É–¥–∏–º–æ—Å—Ç–∏. {—Å—É–¥–∏–º–æ—Å—Ç—å_—Ç–µ–∫—Å—Ç}"
            else:
                # –ï—Å–ª–∏ –µ—Å—Ç—å —Å—É–¥–∏–º–æ—Å—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—Å—Ç –∏–∑ —Å–ø—Ä–∞–≤–∫–∏
                criminal_text = f"–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–∏–º–æ—Å—Ç–∏: {—Å—É–¥–∏–º–æ—Å—Ç—å_—Ç–µ–∫—Å—Ç}"
        else:
            # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –Ω–µ—Ç —Å–ø—Ä–∞–≤–∫–∏ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏)
            criminal_text = f"–í –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–µ –∏–º–µ–µ—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏–π –æ–± —É–≥–æ–ª–æ–≤–Ω—ã—Ö –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–ª–∞—Ö –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ {pronoun_genitive}, –∞ —Ç–∞–∫–∂–µ –æ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–Ω—è—Ç–æ–π –∏–ª–∏ –Ω–µ–ø–æ–≥–∞—à–µ–Ω–Ω–æ–π —Å—É–¥–∏–º–æ—Å—Ç–∏."

        # –ü–∞—Ä—Å–∏–º –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ GPT
        –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ = passport.get("–ü—Ä–æ–ø–∏—Å–∫–∞", "") if passport else ""
        if openai_client and –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏:
            print(f"      –†–∞–∑–±–æ—Ä –∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ GPT...")
            –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏ = DocumentProcessor.parse_address_with_gpt(–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏, openai_client)
        else:
            –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏ = DocumentProcessor.parse_address(–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏)

        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
        date_components = DocumentProcessor.get_yekaterinburg_date()

        context: Dict[str, str] = {
            # –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            "–§–ò–û": fio_with_maiden,
            "–§–∞–º–∏–ª–∏—è": familia,
            "–ò–º—è": imya,
            "–û—Ç—á–µ—Å—Ç–≤–æ": otchestvo,
            "–î–µ–≤–∏—á—å—è_—Ñ–∞–º–∏–ª–∏—è": devichya_familiya,
            "–ü—Ä–µ–∂–Ω–∏–µ_–∏–º–µ–Ω–∞_—Ñ–∞–º–∏–ª–∏—è_–æ—Ç—á–µ—Å—Ç–≤–∞": devichya_familiya,  # –ê–ª–∏–∞—Å –¥–ª—è –¥–µ–≤–∏—á—å–µ–π —Ñ–∞–º–∏–ª–∏–∏

            # –î–∞—Ç–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è (–ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏)
            "–ê–î–µ–Ω—å": date_components["–ê–î–µ–Ω—å"],
            "–ê–ú–µ—Å—è—Ü": date_components["–ê–ú–µ—Å—è—Ü"],
            "–ê–ì–æ–¥": date_components["–ê–ì–æ–¥"],
            "–ê–ê–ì–æ–¥": date_components["–ê–ê–ì–æ–¥"],

            # –° –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏ (–ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.)
            "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã": fio_initials,
            "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_—Ä–ø": fio_initials_rp,  # —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.)
            "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_–¥–ø": fio_initials_dp,  # –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É? - –ò–≤–∞–Ω–æ–≤—É –ò.–ò.)

            # –ù–û–í–û–ï: –ü–æ–ª–Ω—ã–µ –§–ò–û –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤
            "–§–ò–û_—Ä–ø": fio_full_rp,  # —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞)
            "–§–ò–û_–¥–ø": fio_full_dp,  # –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É? - –ò–≤–∞–Ω–æ–≤—É –ò–≤–∞–Ω—É –ò–≤–∞–Ω–æ–≤–∏—á—É)
            "–§–ò–û_–≤–ø": fio_full_vp,  # –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞)

            "–ü–æ–ª": gender,  # "–º" –∏–ª–∏ "–∂"
            "–µ–≥–æ_–µ—ë": pronoun_accusative,  # "–µ–≥–æ" –∏–ª–∏ "–µ—ë" (–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π)
            "–Ω–µ–≥–æ_–Ω–µ—ë": pronoun_genitive,  # "–Ω–µ–≥–æ" –∏–ª–∏ "–Ω–µ—ë" (—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π)
            "–µ–º—É_–µ–π": pronoun_dative,  # "–µ–º—É" –∏–ª–∏ "–µ–π" (–¥–∞—Ç–µ–ª—å–Ω—ã–π)
            "–æ–±—Ä–∞—Ç–∏–ª—Å—è_–∞—Å—å": "–æ–±—Ä–∞—Ç–∏–ª—Å—è" if gender == "–º" else "–æ–±—Ä–∞—Ç–∏–ª–∞—Å—å",  # –≥–ª–∞–≥–æ–ª –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
            "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏,
            # –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": (passport.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if passport else "") or (credit_history.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if credit_history else ""),
            # –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": (passport.get("–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if passport else "") or (credit_history.get("–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if credit_history else ""),

            # –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
            "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π_—Å—É–¥": DocumentProcessor.get_arbitration_court(–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏),

            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥—Ä–µ—Å–∞ –ø—Ä–æ–ø–∏—Å–∫–∏
            "–°—É–±—ä–µ–∫—Ç_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("—Å—É–±—ä–µ–∫—Ç", ""),
            "–†–∞–π–æ–Ω_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("—Ä–∞–π–æ–Ω", ""),
            "–ì–æ—Ä–æ–¥–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–≥–æ—Ä–æ–¥", ""),
            "–ù–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç", ""),
            "–£–ª–∏—Ü–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("—É–ª–∏—Ü–∞", ""),
            "–ù–æ–º–µ—Ä_–¥–æ–º–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–¥–æ–º", ""),
            "–ù–æ–º–µ—Ä_–∫–æ—Ä–ø—É—Å–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–∫–æ—Ä–ø—É—Å", ""),
            "–ù–æ–º–µ—Ä_–∫–≤–∞—Ä—Ç–∏—Ä—ã_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–∫–≤–∞—Ä—Ç–∏—Ä–∞", ""),

            # –ü–∞—Å–ø–æ—Ä—Ç (—Å fallback –Ω–∞ –û–ö–ë)
            "–°–µ—Ä–∏—è_–∏_–Ω–æ–º–µ—Ä_–ø–∞—Å": series_number,
            # –ö–µ–º –≤—ã–¥–∞–Ω: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ö–µ–º–í—ã–¥–∞–Ω–ü–∞—Å–ø–æ—Ä—Ç": (passport.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if passport else "") or (credit_history.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if credit_history else ""),
            "–ö–µ–º_–≤—ã–¥–∞–Ω_–ø–∞—Å": (passport.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if passport else "") or (credit_history.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if credit_history else ""),
            # –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞–Ω_–ø–∞—Å": (passport.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if passport else "") or (credit_history.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if credit_history else ""),
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞_–ø–∞—Å": (passport.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if passport else "") or (credit_history.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if credit_history else ""),
            # –ö–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": (passport.get("–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è", "") if passport else "") or (credit_history.get("–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è", "") if credit_history else ""),

            # –î–æ–∫—É–º–µ–Ω—Ç—ã
            "–ù–æ–º–µ—Ä_—Å–Ω–∏–ª—Å": snils_number,
            "–ù–æ–º–µ—Ä_–∏–Ω–Ω": inn_number,
            "–°–Ω–∏–ª—Å": snils_number,  # –ê–ª–∏–∞—Å –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
            "–ò–ù–ù": inn_number,       # –ê–ª–∏–∞—Å –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
            "–ò–Ω–Ω": inn_number,       # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∞–ª–∏–∞—Å

            # –†–∞–±–æ—Ç–∞
            "–ú–µ—Å—Ç–æ_—Ä–∞–±–æ—Ç—ã": DocumentProcessor.extract_employers(labour) if labour else "",
            "–¢–µ–∫—É—â_–º–µ—Å—Ç–æ_—Ä–∞–±–æ—Ç—ã": DocumentProcessor.extract_current_job(labour) if labour else "–ù–µ—Ç",

            # –°—É–ø—Ä—É–≥ (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–∏—Ü–æ)
            "–ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ_–ª–∏—Ü–æ": DocumentProcessor.format_interested_party(passport_spouse, inn_spouse, snils_spouse),

            # –î–µ—Ç–∏ –∏ –±—Ä–∞–∫
            "–ñ–µ–Ω–∞—Ç–∑–∞–º—É–∂–µ–º": DocumentProcessor.get_marital_status_key(passport, data_map),
            "–ù–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–µ_–¥–µ—Ç–∏": DocumentProcessor.determine_children_status(
                passport.get("–î–µ—Ç–∏") if passport else None,
                data_map
            ),

            # –§–∏–Ω–∞–Ω—Å—ã
            "–û–±—â–∞—è_—Å—É–º–º–∞_–¥–æ–ª–≥–∞": debt_formatted,
            "–°—Ä–µ–¥–Ω—è—è_–∑–ø_–∑–∞_–º–µ—Å—è—Ü": DocumentProcessor.format_decimal(average_income) if average_income else "",
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ_—Å—á–µ—Ç–æ–≤_–≤_–±–∞–Ω–∫–∞—Ö": str(accounts_count) if accounts_count is not None else "0",
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ_—Å—á–µ—Ç–æ–≤_—Ç–µ–∫—Å—Ç–æ–º": DocumentProcessor.format_count_with_word(
                accounts_count if accounts_count is not None else 0,
                "—Å—á–µ—Ç", "—Å—á–µ—Ç–∞", "—Å—á–µ—Ç–æ–≤"
            ),

            # –ò–º—É—â–µ—Å—Ç–≤–æ
            "–ù–µ–¥–≤–∏–∂–∏–º–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": real_estate_detailed,
            "–î–≤–∏–∂–µ–º–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": DocumentProcessor.format_movable_property(data_map.get("–≥–∏–±–¥–¥", [])),
            "–ê–∫—Ü–∏–∏_–∏_–∏–Ω–æ–µ_—É—á–∞—Å—Ç–∏–µ_–≤_–∫–æ–º_–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö": DocumentProcessor.format_shares(data_map.get("—É—á—Ä–µ–¥–∏—Ç–µ–ª—å", [])),
            "–¶–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏": DocumentProcessor.format_securities(data_map.get("—Ü–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏", [])),
            "–ù–∞–ª–∏—á–Ω—ã–µ_–∏_–∏–Ω–æ–µ_—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": DocumentProcessor.format_cash_valuables(data_map.get("—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ", [])),
            "–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ_–ø—Ä–∞–≤–∞": DocumentProcessor.format_property_rights(data_map.get("–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ_–ø—Ä–∞–≤–∞", [])),

            # –î–æ—Ö–æ–¥—ã
            "–ò–Ω—ã–µ_–¥–æ—Ö–æ–¥—ã": DocumentProcessor.format_other_income(
                data_map.get("–ø–µ–Ω—Å–∏–∏", []),
                data_map.get("–≤—ã–ø–ª–∞—Ç—ã", [])
            ),

            # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏
            "–ù–µ—Ç—É_–¥–µ—Ç–µ–π_–∏_–±—Ä–∞–∫–∞": marital_children_text,
            "–î–µ—Ç–µ–π_–∏_–±—Ä–∞–∫": marital_children_text,  # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –∏–º—è –∫–ª—é—á–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è_–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å": admin_responsibility,
            "–£–≥–æ–ª–æ–≤–Ω–∞—è_–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å": criminal_text,

            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏–∑ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤)
            "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è": DocumentProcessor.format_attachments(pdf_paths or [], openai_client),
        }

        # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        context.update(creditors_table_data)

        # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞
        bank_accounts_data = DocumentProcessor.format_bank_accounts_table(data_map.get("—Å—á–µ—Ç–∞", []))
        context.update(bank_accounts_data)

        realty_data = DocumentProcessor.format_realty_table(data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []), owner_fio=owner_fio)
        context.update(realty_data)

        vehicles_data = DocumentProcessor.format_vehicles_table(data_map.get("–≥–∏–±–¥–¥", []))
        context.update(vehicles_data)

        # –§–æ–ª–ª–±—ç–∫–∏ –¥–ª—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
        fallbacks = {
            "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–°–µ—Ä–∏—è_–∏_–Ω–æ–º–µ—Ä_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–µ–º–í—ã–¥–∞–Ω–ü–∞—Å–ø–æ—Ä—Ç": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–µ–º_–≤—ã–¥–∞–Ω_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞–Ω_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ù–æ–º–µ—Ä_—Å–Ω–∏–ª—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ù–æ–º–µ—Ä_–∏–Ω–Ω": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ú–µ—Å—Ç–æ_—Ä–∞–±–æ—Ç—ã": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–°—Ä–µ–¥–Ω—è—è_–∑–ø_–∑–∞_–º–µ—Å—è—Ü": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
        }

        for key, fallback in fallbacks.items():
            if not context.get(key):
                context[key] = fallback

        # –í–ê–ñ–ù–û: –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Å–¥–µ–ª–∫–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ data_map
        # –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è API endpoint /api/debtors/<id>/deals
        all_deals = DocumentProcessor.extract_deals_from_all_documents(data_map, owner_fio)
        if all_deals:
            # –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –≤ data_map, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ raw_data
            data_map["—Å–¥–µ–ª–∫–∏"] = all_deals

        # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ None –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤–æ –≤—Å—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
        # –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ "None" –≤ Word –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
        context = DocumentProcessor.replace_none_with_empty(context)

        return context

    @staticmethod
    def replace_none_with_empty(obj):
        """–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ None –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Å–ª–æ–≤–∞—Ä—è—Ö –∏ —Å–ø–∏—Å–∫–∞—Ö.

        Args:
            obj: –û–±—ä–µ–∫—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (dict, list –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø)

        Returns:
            –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –∑–∞–º–µ–Ω—ë–Ω–Ω—ã–º–∏ None
        """
        if isinstance(obj, dict):
            return {key: DocumentProcessor.replace_none_with_empty(value) for key, value in obj.items()}
        elif isinstance(obj, list):
            return [DocumentProcessor.replace_none_with_empty(item) for item in obj]
        elif obj is None:
            return ""
        else:
            return obj

    @staticmethod
    def merge_table_cells_for_creditors(doc_path: Path, credits_data: List[Dict]) -> None:
        """–û–±—ä–µ–¥–∏–Ω—è–µ—Ç —è—á–µ–π–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏."""
        from docx import Document
        from docx.oxml import parse_xml
        from docx.oxml.ns import nsdecls
        
        doc = Document(doc_path)
        
        # –ò—â–µ–º —Ç–∞–±–ª–∏—Ü—É –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ ‚Äî 9 —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –µ—Å—Ç—å "–ö—Ä–µ–¥–∏—Ç–æ—Ä" –≤ –ø–µ—Ä–≤—ã—Ö 4 —Å—Ç—Ä–æ–∫–∞—Ö
        target_table = None
        for table_idx, table in enumerate(doc.tables):
            if len(table.rows) > 2 and len(table.columns) == 9:
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ 4 —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ "–ö—Ä–µ–¥–∏—Ç–æ—Ä"
                found_kreditor = False
                for row_idx in range(min(4, len(table.rows))):
                    row_text = ' '.join(cell.text for cell in table.rows[row_idx].cells)
                    if "–ö—Ä–µ–¥–∏—Ç–æ—Ä" in row_text:
                        found_kreditor = True
                        break
                
                if found_kreditor:
                    target_table = table
                    print(f"      [MERGE] –ù–∞–π–¥–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤: —Ç–∞–±–ª–∏—Ü–∞ #{table_idx}, —Å—Ç—Ä–æ–∫: {len(table.rows)}, —Å—Ç–æ–ª–±—Ü–æ–≤: {len(table.columns)}")
                    break
        
        if not target_table:
            print(f"      [MERGE] –¢–∞–±–ª–∏—Ü–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
            return
        
        # –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏)
        data_start_row = 0
        data_end_row = len(target_table.rows) - 1
        
        for row_idx, row in enumerate(target_table.rows):
            # –ò—â–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –≥–¥–µ –µ—Å—Ç—å ‚Ññ –ø/–ø –Ω–æ —ç—Ç–æ –Ω–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫
            if row_idx > 0 and row.cells[0].text.strip() and row.cells[0].text.strip() != '‚Ññ –ø/–ø' and row.cells[0].text.strip() != '‚Ññ\n–ø/–ø':
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ "1.1" –∏–ª–∏ –ø–æ—Ö–æ–∂–µ–µ –≤ —Å—Ç–æ–ª–±—Ü–µ 0
                if '.' in row.cells[0].text or row.cells[0].text.strip() == '':
                    data_start_row = row_idx
                    break
        
        # –ù–∞—Ö–æ–¥–∏–º –∫–æ–Ω–µ—Ü —Ä–∞–∑–¥–µ–ª–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ (–¥–æ –Ω–∞—á–∞–ª–∞ "–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏")
        for row_idx in range(data_start_row, len(target_table.rows)):
            row_text = ' '.join(cell.text for cell in target_table.rows[row_idx].cells).lower()
            if '–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏' in row_text or '–Ω–∞–ª–æ–≥' in row_text:
                data_end_row = row_idx - 1
                break
        
        if data_start_row == 0:
            return
        
        # –°—Ç—Ä–æ–∏–º –≥—Ä—É–ø–ø—ã: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –Ω–∞—Ö–æ–¥–∏–º —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ —Å –µ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏
        # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ ‚Ññ –ø/–ø –≤ —Å—Ç–æ–ª–±—Ü–µ 0 (–Ω–∞–ø—Ä–∏–º–µ—Ä "1.1", "1.2" –∏ —Ç.–¥.)
        creditor_groups = []  # [(first_row, last_row), ...]
        current_pp = None
        first_row_of_group = None
        
        print(f"      [MERGE] –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–æ–∫ –æ—Ç {data_start_row} –¥–æ {data_end_row}...")
        
        for row_idx in range(data_start_row, data_end_row + 1):
            pp_text = target_table.rows[row_idx].cells[0].text.strip()
            print(f"      [MERGE]   –°—Ç—Ä–æ–∫–∞ {row_idx}: ‚Ññ –ø/–ø = '{pp_text}'")
            
            # –ï—Å–ª–∏ —ç—Ç–æ –Ω–æ–≤—ã–π ‚Ññ –ø/–ø (–Ω–µ –ø—É—Å—Ç–æ–π)
            if pp_text and '.' in pp_text:
                # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –≥—Ä—É–ø–ø—É
                if current_pp is not None and first_row_of_group is not None:
                    if row_idx - first_row_of_group > 1:  # –ì—Ä—É–ø–ø–∞ –±–æ–ª—å—à–µ 1 —Å—Ç—Ä–æ–∫–∏
                        creditor_groups.append((first_row_of_group, row_idx - 1))
                        print(f"      [MERGE]     ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≥—Ä—É–ø–ø–∞ '{current_pp}': —Å—Ç—Ä–æ–∫–∏ {first_row_of_group} - {row_idx - 1}")
                
                # –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
                current_pp = pp_text
                first_row_of_group = row_idx
            
            # –ï—Å–ª–∏ —ç—Ç–æ –ø—É—Å—Ç–æ–π ‚Ññ –ø/–ø, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ç–µ–∫—É—â—É—é –≥—Ä—É–ø–ø—É
            elif not pp_text and current_pp is not None:
                pass  # –ì—Ä—É–ø–ø–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
        
        # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≥—Ä—É–ø–ø—É
        if current_pp is not None and first_row_of_group is not None:
            if data_end_row - first_row_of_group >= 1:  # –ì—Ä—É–ø–ø–∞ –±–æ–ª—å—à–µ 1 —Å—Ç—Ä–æ–∫–∏
                creditor_groups.append((first_row_of_group, data_end_row))
                print(f"      [MERGE]     ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≥—Ä—É–ø–ø–∞ '{current_pp}': —Å—Ç—Ä–æ–∫–∏ {first_row_of_group} - {data_end_row}")
        
        print(f"      [MERGE] –ù–∞–π–¥–µ–Ω–æ –≥—Ä—É–ø–ø –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: {len(creditor_groups)}")
        
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º —è—á–µ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
        # –°—Ç–æ–ª–±—Ü—ã –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: 0 (‚Ññ –ø/–ø), 2 (–ö—Ä–µ–¥–∏—Ç–æ—Ä), 3-4 (–ê–¥—Ä–µ—Å - –¥–≤–∞ —Å—Ç–æ–ª–±—Ü–∞)
        columns_to_merge = [0, 2, 3, 4]
        
        for first_row_idx, last_row_idx in creditor_groups:
            print(f"      [MERGE] –û–±—ä–µ–¥–∏–Ω—è–µ–º –≥—Ä—É–ø–ø—É: —Å—Ç—Ä–æ–∫–∏ {first_row_idx} - {last_row_idx}")
            
            for col_idx in columns_to_merge:
                if col_idx >= len(target_table.columns):
                    continue
                
                try:
                    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º vMerge –¥–ª—è –ø–µ—Ä–≤–æ–π —è—á–µ–π–∫–∏
                    first_cell = target_table.rows[first_row_idx].cells[col_idx]
                    first_cell_xml = first_cell._element.get_or_add_tcPr()
                    vmerge = parse_xml(f'<w:vMerge {nsdecls("w")} w:val="restart"/>')
                    first_cell_xml.append(vmerge)
                    
                    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º vMerge –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —è—á–µ–µ–∫ –≥—Ä—É–ø–ø—ã
                    for row_idx in range(first_row_idx + 1, last_row_idx + 1):
                        if row_idx >= len(target_table.rows):
                            break
                        cell = target_table.rows[row_idx].cells[col_idx]
                        cell_xml = cell._element.get_or_add_tcPr()
                        vmerge_continue = parse_xml(f'<w:vMerge {nsdecls("w")}/>')
                        cell_xml.append(vmerge_continue)
                except Exception as e:
                    print(f"          [DEBUG] –û—à–∏–±–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞ {col_idx}: {e}")
        
        doc.save(doc_path)

    @staticmethod
    def fill_docx_template_dynamic(template_path: Path, output_path: Path, context: Dict[str, Any]) -> None:
        """–ó–∞–ø–æ–ª–Ω—è–µ—Ç Word —à–∞–±–ª–æ–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü (Jinja2)."""
        doc = DocxTemplate(template_path)

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–µ–≤—Ä–∞—â–∞—è –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –≤ Soft Breaks (<w:br/>) —á–µ—Ä–µ–∑ RichText
        if "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è" in context and isinstance(context["–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"], str):
            text = context["–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"]
            if "\n" in text or "{{LINE_BREAK}}" in text:
                try:
                    text_norm = text.replace("{{LINE_BREAK}}", "\n").strip()
                    lines = [line.strip() for line in text_norm.split('\n') if line.strip()]
                    
                    rt = RichText()
                    for i, line in enumerate(lines):
                        rt.add(line)
                        if i < len(lines) - 1:
                            rt.add('\n') # \n –≤ RichText = <w:br/> (Shift+Enter)
                    
                    context["–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"] = rt
                except Exception as e:
                    print(f"      [WARNING] Error converting Attachments to RichText: {e}")

        # –†–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
        doc.render(context)

        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        output_path.parent.mkdir(parents=True, exist_ok=True)

        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        doc.save(output_path)
        
        # –ï—Å–ª–∏ —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è–µ–º —è—á–µ–π–∫–∏
        if "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤" in str(template_path) and "credits" in context:
            try:
                DocumentProcessor.merge_table_cells_for_creditors(output_path, context["credits"])
            except Exception as e:
                print(f"      [WARNING] –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —è—á–µ–π–∫–∏: {e}")

    @staticmethod
    def fill_docx_template(template_path: Path, output_path: Path, context: Dict[str, str]) -> None:
        """–°—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –±–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü."""
        # –§–∏–ª—å—Ç—Ä—É–µ–º —Å–ø–∏—Å–∫–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–æ–Ω–∏ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤)
        filtered_context = {
            k: v for k, v in context.items() 
            if not isinstance(v, (list, dict)) or k in []
        }

        with zipfile.ZipFile(template_path, "r") as template_zip:
            xml = template_zip.read("word/document.xml").decode("utf-8")

        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º XML: —É–±–∏—Ä–∞–µ–º —Ä–∞–∑—Ä—ã–≤—ã –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫ {{...}}
        # Word –º–æ–∂–µ—Ç —Ä–∞–∑–±–∏—Ç—å {{–ö–ª—é—á}} –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–≥–æ–≤, —á—Ç–æ –ª–æ–º–∞–µ—Ç –∑–∞–º–µ–Ω—É
        import re

        # –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ {{–∫–ª—é—á}}, —Ä–∞–∑–±–∏—Ç—ã—Ö –Ω–∞ —á–∞—Å—Ç–∏
        # –ù–∞—Ö–æ–¥–∏–º {, –∑–∞—Ç–µ–º –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ —Ç–µ–≥–∏ –¥–æ }
        pattern = r'\{\{([^}]*)\}\}'

        def normalize_key(match):
            # –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Å—ë –º–µ–∂–¥—É {{ –∏ }}
            inner = match.group(1)
            # –£–¥–∞–ª—è–µ–º –≤—Å–µ XML —Ç–µ–≥–∏ –≤–Ω—É—Ç—Ä–∏
            clean = re.sub(r'<[^>]+>', '', inner)
            # –£–±–∏—Ä–∞–µ–º –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –∏ –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
            clean = clean.replace('\u00A0', ' ').strip()
            # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á
            return f"{{{{{clean}}}}}"

        xml = re.sub(pattern, normalize_key, xml, flags=re.DOTALL)

        # –¢–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ–º –∑–∞–º–µ–Ω—É (–∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)
        for key, value in filtered_context.items():
            # –ü—Ä–∏–≤–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫ —Å—Ç—Ä–æ–∫–µ, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ XML
            replacement = str(value) if value is not None else ""
            xml = xml.replace(f"{{{{{key}}}}}", replacement)

        # –ó–∞–º–µ–Ω—è–µ–º {{LINE_BREAK}} –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ –≤ Word
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º <w:br/> –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞
        # –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –í–°–ï —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ (—à—Ä–∏—Ñ—Ç, —Ä–∞–∑–º–µ—Ä, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã, –æ—Ç—Å—Ç—É–ø—ã)
        line_break_xml = '</w:t><w:br/><w:t xml:space="preserve">'
        xml = xml.replace("{{LINE_BREAK}}", line_break_xml)

        output_path.parent.mkdir(parents=True, exist_ok=True)
        with zipfile.ZipFile(template_path, "r") as template_zip, zipfile.ZipFile(
            output_path, "w"
        ) as output_zip:
            for item in template_zip.infolist():
                data = template_zip.read(item.filename)
                if item.filename == "word/document.xml":
                    data = xml.encode("utf-8")
                output_zip.writestr(item, data)

    @staticmethod
    def fill_template(template_path: Path, output_path: Path, context: Dict[str, Any]) -> None:
        """Compatibility wrapper used by `app.py`.

        Tries to render the template as a dynamic Jinja2/DocxTemplate first,
        and falls back to the older XML-replacement implementation if needed.
        """
        # Ensure context has no None values to avoid literal 'None' in documents
        safe_context = DocumentProcessor.replace_none_with_empty(context)

        # First try dynamic rendering
        try:
            DocumentProcessor.fill_docx_template_dynamic(template_path, output_path, safe_context)
            return
        except Exception as e_dynamic:
            # Fallback to simple XML replacement
            try:
                print(f"      INFO - Dynamic render failed for {template_path.name}: {e_dynamic}. Falling back to simple replacement.")
                DocumentProcessor.fill_docx_template(template_path, output_path, safe_context)
                return
            except Exception as e_simple:
                # Re-raise a combined error to help debugging
                raise RuntimeError(f"Both dynamic and simple template rendering failed for {template_path}: dynamic_error={e_dynamic}, simple_error={e_simple}")

    @staticmethod
    def render_bankruptcy_application(context: Dict[str, str]) -> Optional[Path]:
        if not TEMPLATE_DOCX.exists():
            return None
        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        OUTPUT_DIR.mkdir(parents=True, exist_ok=True)
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–ø–∫—É resultdoc
        output_name = f"{TEMPLATE_DOCX.stem}{FILLED_TEMPLATE_SUFFIX}{TEMPLATE_DOCX.suffix}"
        output_path = OUTPUT_DIR / output_name
        DocumentProcessor.fill_docx_template(TEMPLATE_DOCX, output_path, context)
        return output_path

    @staticmethod
    def generate_all_documents(context: Dict[str, str], debtor_id: Optional[str] = None, lawyer: Optional[str] = None) -> List[Path]:
        """Generate all bankruptcy document templates and return list of paths.
        
        Args:
            context: Template context data
            debtor_id: Unique debtor identifier for file separation
        """
        # –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω debtor_id, —Å–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è –¥–æ–ª–∂–Ω–∏–∫–∞
        if debtor_id:
            output_dir = OUTPUT_DIR / debtor_id
        else:
            output_dir = OUTPUT_DIR
            
        output_dir.mkdir(parents=True, exist_ok=True)
        generated_files = []

        templates = [
            {
                "name": "–ó–∞—è–≤–ª–µ–Ω–∏–µ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ",
                "template": None,
                "output": output_dir / "–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": False
            },
            {
                "name": "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ",
                "template": Path("templ") / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ.docx",
                "output": output_dir / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": False
            },
            {
                "name": "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞",
                "template": Path("templ") / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
                "output": output_dir / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": False
            },
            {
                "name": "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤",
                "template": Path("templ") / "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤.docx",
                "output": output_dir / "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": True
            },
            {
                "name": "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞",
                "template": Path("templ") / "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
                "output": output_dir / "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": True
            },
        ]
        # Map template names to possible filenames (same order)
        template_filenames = [
            "–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ.docx",
            "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ.docx",
            "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
            "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤.docx",
            "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
        ]

        for idx, item in enumerate(templates):
            # Resolve template path: prefer templ/<lawyer>/<filename> if lawyer provided
            filename = template_filenames[idx]
            candidate_paths = []
            if lawyer:
                candidate_paths.append(Path("templ") / lawyer / filename)
            candidate_paths.append(Path("templ") / filename)

            template_path = None
            for p in candidate_paths:
                if p.exists():
                    template_path = p
                    break
            output_path = item["output"]
            is_dynamic = item.get("dynamic", False)

            if not template_path or not template_path.exists():
                # No template found for this item (neither lawyer-specific nor default)
                # Skip generating this document
                # print debug info for visibility
                print(f"      INFO - No template found for '{item['name']}' (checked: {[str(p) for p in candidate_paths]})")
                continue
            else:
                print(f"      INFO - Using template for '{item['name']}': {template_path}")

            try:
                # Use compatibility wrapper that first tries DocxTemplate (dynamic rendering)
                # and falls back to simple XML replacement. This handles placeholders
                # that Word splits across multiple runs.
                DocumentProcessor.fill_template(template_path, output_path, context)

                generated_files.append(output_path)
            except PermissionError:
                print(f"      WARNING - File is open: {output_path.name}")
                continue
            except Exception as e:
                print(f"      ERROR generating {item['name']}: {e}")
                continue

        return generated_files

    @staticmethod
    def process_pdf_with_gpt(pdf_path: Path, prompt: str) -> tuple[str, Optional[int]]:
        """Process PDF file directly with GPT-4o (for –û–ö–ë reports).
        
        Returns:
            Tuple of (response_text, error_code) where error_code is HTTP status for errors or None for success
        """
        try:
            # –ó–∞–≥—Ä—É–∂–∞–µ–º PDF —Ñ–∞–π–ª –≤ OpenAI —Å purpose="vision"
            uploaded_file = client.files.create(
                file=open(pdf_path, "rb"),
                purpose="vision"
            )
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–º–ø—Ç —Å –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º —á–µ—Ä–µ–∑ SDK
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {
                        "role": "user",
                        "content": [
                            {
                                "type": "input_file",
                                "input_file_id": uploaded_file.id
                            },
                            {
                                "type": "text",
                                "text": prompt
                            }
                        ]
                    }
                ],
                max_completion_tokens=16000
            )
            
            # –£–¥–∞–ª—è–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
            try:
                client.files.delete(uploaded_file.id)
            except:
                pass
            
            return response.choices[0].message.content.strip(), None
        except Exception as exc:
            error_code = None
            error_str = str(exc)
            if "400" in error_str or "Bad Request" in error_str:
                error_code = 400
            elif "500" in error_str or "Internal Server Error" in error_str:
                error_code = 500
            elif "429" in error_str or "Too Many Requests" in error_str:
                error_code = 429
            return f"[–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: {exc}]", error_code

    @staticmethod
    def process_images_with_gpt(image_paths: List[str], prompt: str) -> tuple[str, Optional[int]]:
        """Process multiple images with GPT-5 Vision in one request.
        
        Returns:
            Tuple of (response_text, error_code) where error_code is HTTP status for errors or None for success
        """
        try:
            # Prepare content with all images
            content = [{"type": "text", "text": prompt}]

            for image_path in image_paths:
                base64_image = DocumentProcessor.encode_image_to_base64(image_path)
                content.append({
                    "type": "image_url",
                    "image_url": {
                        "url": f"data:image/jpeg;base64,{base64_image}"
                    }
                })

            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {
                        "role": "user",
                        "content": content
                    }
                ],
                max_completion_tokens=16000,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –æ—Ç–≤–µ—Ç–∞
            )
            return response.choices[0].message.content.strip(), None
        except Exception as exc:  # noqa: BLE001
            # –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å HTTP –∫–æ–¥ –æ—à–∏–±–∫–∏
            error_code = None
            error_str = str(exc)
            if "400" in error_str or "Bad Request" in error_str:
                error_code = 400
            elif "500" in error_str or "Internal Server Error" in error_str:
                error_code = 500
            elif "429" in error_str or "Too Many Requests" in error_str:
                error_code = 429
            return f"[–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: {exc}]", error_code

    @staticmethod
    def process_pdf_with_assistants(pdf_path: Path, prompt: str) -> tuple[Dict[str, Any], Optional[str]]:
        """Process PDF directly using OpenAI Assistants API (for credit reports)."""
        try:
            # Upload PDF file
            print(f"      –ó–∞–≥—Ä—É–∑–∫–∞ PDF –≤ OpenAI...", end=" ", flush=True)
            with open(pdf_path, "rb") as f:
                uploaded_file = client.files.create(file=f, purpose="assistants")
            print(f"OK")

            # Create assistant with file_search
            print(f"      –°–æ–∑–¥–∞–Ω–∏–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞...", end=" ", flush=True)
            assistant = client.beta.assistants.create(
                model="gpt-4o-mini",  # –°–∞–º–∞—è –º–æ—â–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è Assistants API
                tools=[{"type": "file_search"}],
                temperature=0,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
            )
            print(f"OK")

            # Create thread with attached PDF
            print(f"      –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞...", end=" ", flush=True)
            thread = client.beta.threads.create(
                messages=[{
                    "role": "user",
                    "content": prompt,
                    "attachments": [{
                        "file_id": uploaded_file.id,
                        "tools": [{"type": "file_search"}]
                    }]
                }]
            )

            # Run assistant
            run = client.beta.threads.runs.create(
                thread_id=thread.id,
                assistant_id=assistant.id
            )

            # Wait for completion
            max_wait = 120  # 2 minutes timeout
            elapsed = 0
            while run.status in ["queued", "in_progress"]:
                time.sleep(2)
                elapsed += 2
                run = client.beta.threads.runs.retrieve(
                    thread_id=thread.id,
                    run_id=run.id
                )
                if elapsed >= max_wait:
                    raise TimeoutError("Assistants API timeout")

            print(f"OK")

            # Check for errors
            if run.status == "failed":
                error_msg = f"Assistant failed: {run.last_error.message if run.last_error else 'Unknown error'}"
                return {}, error_msg

            # Get response
            messages = client.beta.threads.messages.list(thread_id=thread.id)
            response_text = messages.data[0].content[0].text.value

            # Parse JSON
            cleaned = DocumentProcessor.clean_json_response(response_text)
            try:
                data = json.loads(cleaned)
                error = None
            except json.JSONDecodeError as e:
                # Try to extract JSON from markdown or text
                import re
                json_match = re.search(r'\{.*\}', cleaned, re.DOTALL)
                if json_match:
                    try:
                        data = json.loads(json_match.group(0))
                        error = None
                    except:
                        data = {"raw_response": response_text}
                        error = f"JSON decode error: {str(e)}"
                else:
                    data = {"raw_response": response_text}
                    error = f"JSON decode error: {str(e)}"

            # Cleanup
            try:
                client.beta.assistants.delete(assistant.id)
                client.files.delete(uploaded_file.id)
            except:
                pass

            return data, error

        except Exception as exc:
            return {"error": str(exc)}, str(exc)

    def process_pdf(self, pdf_path: Path, debtor_fio: str = "") -> DocumentOutput:
        """Process PDF document with all pages at once using GPT-5 Vision.
        
        Args:
            pdf_path: Path to PDF file
            debtor_fio: –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ (–¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –ø—Ä–æ–º–ø—Ç—ã, –≥–¥–µ –Ω—É–∂–Ω–æ)
        """
        pdf_path = pdf_path.resolve()

        # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
        doc_type, base_prompt = self.detect_document_type(pdf_path.name)
        
        # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–æ–±—â–∏–π" - –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏—Ö
        if doc_type == "–æ–±—â–∏–π":
            print(f"   > {pdf_path.name}")
            print(f"      –¢–∏–ø: {doc_type} (–ø—Ä–æ–ø—É—â–µ–Ω, –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)")
            return DocumentOutput(
                filename=pdf_path.name,
                doc_type=doc_type,
                extracted_data={},
                raw_text="",
                status="skipped",
                error="–î–æ–∫—É–º–µ–Ω—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ '–æ–±—â–∏–π' –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"
            )
        
        # –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ –≤ –ø—Ä–æ–º–ø—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä)
        if debtor_fio and "{debtor_fio}" in base_prompt:
            base_prompt = base_prompt.replace("{debtor_fio}", debtor_fio)

        print(f"   > {pdf_path.name}")
        print(f"      –¢–∏–ø: {doc_type}")
        DocumentProcessor.log_memory("–ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏")

        start_time = time.time()

        # ===  –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –î–õ–Ø –ö–†–ï–î–ò–¢–ù–´–• –û–¢–ß–ï–¢–û–í ===
        if doc_type in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"]:
            print(f"      [CREDIT] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞")
            
            # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ü–û–°–¢–†–ê–ù–ò–ß–ù–û–û –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
            print(f"      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...", end=" ", flush=True)
            pdf = pdfium.PdfDocument(str(pdf_path))
            total_pages = len(pdf)
            DocumentProcessor.log_memory("–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ PDF")
            
            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –≤—Å–µ—Ö –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ (–±–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
            max_pages = total_pages
            
            # üöÄ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø: –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –±–∞—Ç—á–∞–º–∏ –ø–æ 40 —Å—Ç—Ä–∞–Ω–∏—Ü
            # –í–º–µ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –ø–∞–º—è—Ç—å —Å—Ä–∞–∑—É
            CONVERSION_BATCH_SIZE = 40
            page_images = []
            
            for batch_start in range(0, max_pages, CONVERSION_BATCH_SIZE):
                batch_end = min(batch_start + CONVERSION_BATCH_SIZE, max_pages)
                batch_pages = []
                
                # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –±–∞—Ç—á —Å—Ç—Ä–∞–Ω–∏—Ü
                for i in range(batch_start, batch_end):
                    page = pdf[i]
                    bitmap = page.render(scale=2.5)
                    pil_image = bitmap.to_pil()
                    batch_pages.append(pil_image)
                
                # –°–æ—Ö—Ä–∞–Ω—è–µ–º –±–∞—Ç—á –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                for pil_image in batch_pages:
                    with tempfile.NamedTemporaryFile(suffix=".jpg", delete=False) as tmp_file:
                        tmp_path = tmp_file.name
                        pil_image.save(tmp_path, 'JPEG', quality=95, optimize=True)
                        page_images.append(tmp_path)
                    pil_image.close()
                
                # –û—á–∏—â–∞–µ–º –±–∞—Ç—á –∏–∑ –ø–∞–º—è—Ç–∏
                batch_pages.clear()
                import gc
                gc.collect()
            
            print(f"OK ({len(page_images)} –∏–∑ {total_pages} —Å—Ç—Ä.)")
            pdf.close()
            import gc
            gc.collect()
            DocumentProcessor.log_memory("–ü–æ—Å–ª–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π")

            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º batch size –∏ overlap –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–∞
            if doc_type == "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏":
                BATCH_SIZE = 50  # –ù–ë–ö–ò: —Å—Ä–µ–¥–Ω–∏–µ –±–∞—Ç—á–∏ (—É–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –ø–∞–º—è—Ç–∏)
                OVERLAP_PAGES = 20  # –ù–ë–ö–ò: overlap 20 —Å—Ç—Ä–∞–Ω–∏—Ü
            elif doc_type == "–æ—Ç—á–µ—Ç_–æ–∫–±":
                BATCH_SIZE = 50  # –û–ö–ë: —Å—Ä–µ–¥–Ω–∏–µ –±–∞—Ç—á–∏ (—É–º–µ–Ω—å—à–µ–Ω–æ –¥–ª—è –ø–∞–º—è—Ç–∏)
                OVERLAP_PAGES = 20  # –û–ö–ë: overlap 20 —Å—Ç—Ä–∞–Ω–∏—Ü
            elif doc_type == "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞":
                BATCH_SIZE = 50  # –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: –±–æ–ª—å—à–∏–µ –±–∞—Ç—á–∏
                OVERLAP_PAGES = 5  # –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: overlap 5 —Å—Ç—Ä–∞–Ω–∏—Ü
            else:  # –ë–ö–ò
                BATCH_SIZE = 50  # –ë–ö–ò: –º–∞–ª–µ–Ω—å–∫–∏–µ –±–∞—Ç—á–∏ (—Å–∞–º—ã–µ –±–æ–ª—å—à–∏–µ –æ—Ç—á–µ—Ç—ã!)
                OVERLAP_PAGES = 20  # –ë–ö–ò: overlap 20 —Å—Ç—Ä–∞–Ω–∏—Ü
            
            print(f"      [DEBUG] page_images count: {len(page_images)}, BATCH_SIZE: {BATCH_SIZE}")
            use_batch = len(page_images) > BATCH_SIZE
            print(f"      [DEBUG] use_batch: {use_batch}")
            batch_size = BATCH_SIZE  # –ú–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∞—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

            extracted_data = {}
            error = None

            if use_batch:
                print(f"      [BATCH] –î–æ–∫—É–º–µ–Ω—Ç –±–æ–ª—å—à–æ–π ({len(page_images)} —Å—Ç—Ä.), –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞–º–∏ –ø–æ {batch_size} —Å—Ç—Ä. (overlap: {OVERLAP_PAGES})")
                
                all_credits = []
                batch_num = 0
                retry_smaller = False
                
                for start_idx in range(0, len(page_images), batch_size):
                    end_idx = min(start_idx + batch_size, len(page_images))
                    
                    # –î–æ–±–∞–≤–ª—è–µ–º overlap —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –±–∞—Ç—á–æ–º (–∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–≥–æ)
                    if OVERLAP_PAGES > 0 and start_idx > 0:
                        overlap_start = max(0, start_idx - OVERLAP_PAGES)
                        batch_pages = page_images[overlap_start:end_idx]
                        actual_start = overlap_start + 1  # –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ª–æ–≥–µ
                    else:
                        batch_pages = page_images[start_idx:end_idx]
                        actual_start = start_idx + 1
                    
                    batch_num += 1
                    
                    # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—Ç—á–µ—Ç–æ–≤
                    if doc_type == "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞":
                        # –î–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π - –∏–∑–≤–ª–µ–∫–∞–µ–º –º–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
                        overlap_info = ""
                        if start_idx > 0:
                            overlap_info = f"""
–ö–û–ù–¢–ï–ö–°–¢: –ü–µ—Ä–≤—ã–µ {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —ç—Ç–æ –ö–û–ù–¢–ï–ö–°–¢ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–∞—Ç—á–∞ –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏.
–ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–∑ —ç—Ç–∏—Ö {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü!
–ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ –Ω–∏—Ö.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏ –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –∏–∑ –ù–û–í–´–• —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞—á–∏–Ω–∞—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã {OVERLAP_PAGES + 1})
–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.
"""
                        
                        batch_prompt = f"""–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏–ª–∏ –æ —Ä–∞—Å—á—ë—Ç–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏.

–§–û–†–ú–ê–¢: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.
–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

{overlap_info}

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –í –î–û–ö–£–ú–ï–ù–¢–ï –ù–ï–°–ö–û–õ–¨–ö–û –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ô:

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –í–°–ï —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –Ω–∞–π–¥–∏ –í–°–ï –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

–ö–ê–ö –ù–ê–ô–¢–ò –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø:
–ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞ "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞" + –¥–∞—Ç–∞.
–ò—â–∏ —ç—Ç—É —Ñ—Ä–∞–∑—É –Ω–∞ –ö–ê–ñ–î–û–ô —Å—Ç—Ä–∞–Ω–∏—Ü–µ! –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∞—Å—å —ç—Ç–∞ —Ñ—Ä–∞–∑–∞ = —Å—Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ.

–ü–†–ò–ú–ï–† –°–¢–†–£–ö–¢–£–†–´:
"–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
03.12.2021 –î–æ–ª–≥–æ–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–æ–µ
–°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å... ‚Ññ 152632/21/74064-–ò–ü..."

–ó–∞—Ç–µ–º –∏–¥—ë—Ç –¥—Ä—É–≥–æ–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
"–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
11.01.2023 –î–æ–ª–≥–æ–¥–µ—Ä–µ–≤–µ–Ω—Å–∫–æ–µ
–°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å... ‚Ññ 164/23/74064-–ò–ü..."

–ò–∑–≤–ª–µ–∫–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ö–ê–ñ–î–û–ì–û –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ!

–î–õ–Ø –ö–ê–ñ–î–û–ì–û –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø:
- –ù–æ–º–µ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- –î–∞—Ç–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- –°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤: –§–ò–û, –æ—Ç–¥–µ–ª –§–°–°–ü
- –î–æ–ª–∂–Ω–∏–∫: –§–ò–û
- –í–∑—ã—Å–∫–∞—Ç–µ–ª—å (–∫—Ä–µ–¥–∏—Ç–æ—Ä): –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –§–ò–û
- –ê–¥—Ä–µ—Å –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
- –ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
- –û—Å–Ω–æ–≤–∞–Ω–∏–µ: –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç, —Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏–∫–∞–∑ (–Ω–æ–º–µ—Ä, –¥–∞—Ç–∞)
- –û—Ä–≥–∞–Ω, –≤—ã–¥–∞–≤—à–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- –ê–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∞
- –ù–æ–º–µ—Ä –¥–µ–ª–∞
- –°—É–º–º–∞ –≤–∑—ã—Å–∫–∞–Ω–∏—è
- –ò–¢–û–ì–û–í–ê–Ø –°–£–ú–ú–ê –í–ó–´–°–ö–ê–ù–ò–Ø (–∏—â–∏ "–ò—Ç–æ–≥–æ" –∏–ª–∏ "–í—Å–µ–≥–æ –≤–∑—ã—Å–∫–∞—Ç—å")

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ú–ê–°–°–ò–í:
{{
  "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": [
    {{
      "–ù–æ–º–µ—Ä_–ò–ü": "404852/25/74059-–ò–ü",
      "–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": "29.10.2025",
      "–ü—Ä–∏—Å—Ç–∞–≤": "–ö–∞—â–µ–Ω–∫–æ –Æ–ª–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–¥–µ–ª_–§–°–°–ü": "...",
      "–î–æ–ª–∂–Ω–∏–∫": "–û–≤—á–∏–Ω–Ω–∏–∫–æ–≤ –ò–≥–æ—Ä—å –Æ—Ä—å–µ–≤–∏—á",
      "–í–∑—ã—Å–∫–∞—Ç–µ–ª—å": "–ü–ê–û ¬´–í–¢–ë¬ª",
      "–ê–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è": "191144, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥...",
      "–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è": "...",
      "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å –Ω–æ—Ç–∞—Ä–∏—É—Å–∞",
      "–ù–æ–º–µ—Ä_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "–£-0004721706",
      "–î–∞—Ç–∞_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "28.10.2025",
      "–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π": "–ù–æ—Ç–∞—Ä–∏—É—Å –°—É–≥—É—Ä–æ–≤ –ú–∞—Ä–∞—Ç –ñ–∞—Å–ª–∞–Ω–æ–≤–∏—á",
      "–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞": "455045, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª...",
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "–£-0004721706",
      "–°—É–º–º–∞_–¥–æ–ª–≥–∞": 96391.98,
      "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": 48815.70,
      "–†–∞—Å—Ö–æ–¥—ã": 1558.00,
      "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ": 146765.68
    }}
  ]
}}

–í–ê–ñ–ù–û: 
- –ï—Å–ª–∏ –æ–¥–Ω–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ ‚Äî –º–∞—Å—Å–∏–≤ –∏–∑ 1 —ç–ª–µ–º–µ–Ω—Ç–∞!
- –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –º–∞—Å—Å–∏–≤ –∏–∑ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤!
- –°—É–º–º—ã –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏, –±–µ–∑ —Ç–µ–∫—Å—Ç–∞
- –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!
"""
                    elif doc_type == "–æ—Ç—á–µ—Ç_–æ–∫–±":
                        # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± overlap –≤ –ø—Ä–æ–º–ø—Ç
                        overlap_info = ""
                        if start_idx > 0:
                            overlap_info = f"""
–ö–û–ù–¢–ï–ö–°–¢: –ü–µ—Ä–≤—ã–µ {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —ç—Ç–æ –ö–û–ù–¢–ï–ö–°–¢ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–∞—Ç—á–∞ –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏.
–ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–∑ —ç—Ç–∏—Ö {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü!
–ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ –Ω–∏—Ö.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏ –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –∏–∑ –ù–û–í–´–• —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞—á–∏–Ω–∞—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã {OVERLAP_PAGES + 1})
–ö–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.
–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.
"""
                        
                        batch_prompt = base_prompt + overlap_info + f"""

–í–ê–ñ–ù–û–ï –ó–ê–ú–ï–ß–ê–ù–ò–ï! –ù–ï –ù–£–ñ–ù–û –û–¢–î–ï–õ–¨–ù–û –ë–†–ê–¢–¨ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –ö–ê–ö –û–¢–î–ï–õ–¨–ù–´–ï –ö–†–ï–î–ò–¢–´. –≠–¢–û –û–î–ò–ù –ò –¢–û–¢ –ñ–ï –ö–†–ï–î–ò–¢!!! "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –ù–£–ñ–ù–û –í–ó–Ø–¢–¨ –¢–û–õ–¨–ö–û –≠–¢–û!
    - –ö–æ—Ä–æ—á–µ, –∑–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –¥–≤–∞ –¥–æ–≥–æ–≤–æ—Ä–∞, –±–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"

–°–ù–ê–ß–ê–õ–ê –Ω–∞–π–¥–∏ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç—á–µ—Ç–∞ (—ç—Ç–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞). –í —Ä–∞–∑–¥–µ–ª–µ "–°–£–ë–™–ï–ö–¢ –ö–†–ï–î–ò–¢–ù–û–ô –ò–°–¢–û–†–ò–ò".

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∏–ª–∏ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∫–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.

–í —Ä–∞–∑–¥–µ–ª–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –µ—Å—Ç—å –∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ 1. 2. 3. –∏ —Ç.–¥. —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É, –Ω–µ –Ω—É–∂–Ω–æ –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—ã—Ç–∞—Ç—å—Å—è –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ä–∞–∑—É –∏—â–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É.

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–í –î–ï–¢–ê–õ–¨–ù–û–ú –†–ê–ó–î–ï–õ–ï –ù–ò–ñ–ï, –ü–û–î –ö–†–ê–¢–ö–û–ô –¢–ê–ë–õ–ò–¶–ï–ô, –¥–ª—è –ö–ê–ñ–î–û–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –∏–∑–≤–ª–µ–∫–∏:
   - "–î–∞—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏" –∏–ª–∏ "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞"
   - "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
   - –í —Ä–∞–∑–¥–µ–ª–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ" –∏—â–∏ —Å—Ç—Ä–æ–∫—É "–ò–ù–ù –∏ –û–ì–†–ù (–û–ì–†–ù–ò–ü)". –¢–∞–º –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: "–ò–ù–ù¬≥ 7744000912" –∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ "–û–ì–†–ù 1027739019142"
   - –ò–ù–ù - —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–ù–ù¬≥" (10 —Ü–∏—Ñ—Ä). –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –µ–≥–æ!
   - –û–ì–†–ù –ù–ï –ù–£–ñ–ï–ù (—ç—Ç–æ 13 —Ü–∏—Ñ—Ä)
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∏ —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)".
   - –°–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏" - —ç—Ç–æ –∏ –µ—Å—Ç—å "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–†–û –î–û–õ–ì –í –û–ö–ë:
- –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´"
- –ë–µ—Ä–µ–º –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—Ç—å —Å—É–º–º—É –∏–∑ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏ –¥–µ–ª–∞—Ç—å –∏–∑ –Ω–µ–µ –æ–±—â—É—é –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å!
- "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –£–ñ–ï –í–ö–õ–Æ–ß–ê–ï–¢ –ø—Ä–æ—Å—Ä–æ—á–∫—É, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
- "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" - –ï–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–π, –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ!
- –ò–õ–ò —Å–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- –ù–ï —Å—É–º–º–∏—Ä—É–π "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü–µ –î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´!
- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∫–∞–∫ –µ—Å—Ç—å.
- –ö–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –ø—Ä–µ–∫—Ä–∞—â–∞–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö.
- –í –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ "–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞" –Ω–µ –¥–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –ù–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–°–£–î–ï–ë–ù–´–ï –ê–ö–¢–´ (–¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏—Å—Ç–∞–≤–æ–≤):
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–µ–±–Ω–æ–º —Å–ø–æ—Ä–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É"
- –ï—Å–ª–∏ –µ—Å—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª, –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É "–ù–æ–º–µ—Ä —Å—É–¥–µ–±–Ω–æ–≥–æ –∞–∫—Ç–∞ –∏ –¥–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è" (–ø—Ä–∏–º–µ—Ä: "2-528/2025 / 16 –∞–ø—Ä–µ–ª—è 2025")
- –ò–∑–≤–ª–µ–∫–∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞ –∏ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–Ω–æ–º–µ—Ä –¥–∞—Ç–∞" (–ø—Ä–∏–º–µ—Ä: "2-528/2025 16.04.2025")
- –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∞–∫—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –∏–∑–≤–ª–µ–∫–∏ –í–°–ï
- –ï—Å–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ - –º–∞—Å—Å–∏–≤ "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã" –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON:
{{
  "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": "12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "—á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ '–ò–ù–ù¬≥' –≤ —Ä–∞–∑–¥–µ–ª–µ '–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ' (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: 7744000912)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì ('–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞'. –ù–ï '–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞')",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
    }}
  ],
  "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã": [
    {{
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-528/2025",
      "–î–∞—Ç–∞_–∞–∫—Ç–∞": "16.04.2025"
    }}
  ]
}}"""
                    elif doc_type == "–æ—Ç—á–µ—Ç_–±–∫–∏":
                        # –î–ª—è –ë–ö–ò - –¥–∞—Ç—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
                        batch_prompt = base_prompt + f"""
            
–í –æ—Ç—á–µ—Ç–µ —Ç–∞–±–ª–∏—Ü–∞ "–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã, –∑–∞–π–º—ã, –∫–∞—Ä—Ç—ã".

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏–∑–≤–ª–µ–∫–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏)
- "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –∏ –≤–∏–¥ –∫—Ä–µ–¥–∏—Ç–∞.
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞")
- –°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
- –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–°—Ä–æ—á–Ω—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥", —Ç–æ –µ—Å—Ç—å —É–∂–µ –≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ –≤ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞ (–æ—Å–Ω.–¥–æ–ª–≥, %, –ø–µ–Ω–∏...)".

–í–ê–ñ–ù–û: 
- "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - —ç—Ç–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, –ù–ï —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥!
- –ü–æ–ª–µ –≤ JSON –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–ö—Ä–µ–¥–∏—Ç—ã", –ù–ï "–î–æ–≥–æ–≤–æ—Ä—ã"!
- –í –ë–ö–ò –æ—Ç—á—ë—Ç–µ –ù–ï–¢ –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!
- –ò–∑–≤–ª–µ–∫–∞–π —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", –ø—Ä–∏–º–µ—Ä:
–°—Ç–æ–ª–±–µ—Ü "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞":
"–ë–∞–Ω–∫: –ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫
–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ª–∏–Ω–∏—è/–∫–∞—Ä—Ç–∞" - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞: –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ª–∏–Ω–∏—è/–∫–∞—Ä—Ç–∞

–°–£–î–ï–ë–ù–´–ï –ê–ö–¢–´ (–¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏—Å—Ç–∞–≤–æ–≤):
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–µ–±–Ω–æ–º —Å–ø–æ—Ä–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É"
- –ï—Å–ª–∏ –µ—Å—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª, –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É "–î–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∞–∫—Ç–∞ –∏ –Ω–æ–º–µ—Ä –∞–∫—Ç–∞" (–ø—Ä–∏–º–µ—Ä: "08.11.2023 2-5856/2023")
- –ò–∑–≤–ª–µ–∫–∏ –¥–∞—Ç—É –∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –î–∞—Ç–∞_–∞–∫—Ç–∞ = "08.11.2023", –ù–æ–º–µ—Ä_–¥–µ–ª–∞ = "2-5856/2023"
- –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∞–∫—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –∏–∑–≤–ª–µ–∫–∏ –í–°–ï
- –ï—Å–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ - –º–∞—Å—Å–∏–≤ "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã" –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–¥–∞—Ç–∞",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏",
      "–°—É–º–º–∞": "—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ø—Ä–æ—Å—Ä–æ—á–∫–∞"
    }}
  ],
  "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã": [
    {{
      "–î–∞—Ç–∞_–∞–∫—Ç–∞": "08.11.2023",
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-5856/2023"
    }}
  ]
}}"""
                    elif doc_type == "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏":
                        # –ù–ë–ö–ò –ø—Ä–æ–º–ø—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± overlap
                        overlap_info = ""
                        if start_idx > 0:
                            overlap_info = f"""
–ö–û–ù–¢–ï–ö–°–¢: –ü–µ—Ä–≤—ã–µ {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —ç—Ç–æ –ö–û–ù–¢–ï–ö–°–¢ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–∞—Ç—á–∞ –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏.
–ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–∑ —ç—Ç–∏—Ö {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü!
–ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ —Ä–∞–∑–¥–µ–ª –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ –Ω–∏—Ö.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏ –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –∏–∑ –ù–û–í–´–• —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞—á–∏–Ω–∞—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã {OVERLAP_PAGES + 1})
–ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!.
–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.
"""
                        
                        batch_prompt = base_prompt + overlap_info + f"""

–°–ù–ê–ß–ê–õ–ê –Ω–∞–π–¥–∏ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç—á–µ—Ç–∞ (—ç—Ç–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞). –£–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—É–±—ä–µ–∫—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏", –∏–Ω–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–µ "–ò–ù–ù (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä.)", –±—ã–≤–∞–µ—Ç —Ç–∞–∫ —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "450164262865 (–ø—Ä–æ–≤–µ—Ä–µ–Ω –≤ –§–ù–°)", —Ç–æ —á—Ç–æ –≤ —Å–∫–æ–±–∫–∞—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É–π, –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ.                        

–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ" - —Ç–∞–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞".

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–í–ê–ñ–ù–û - –ò–ì–ù–û–†–ò–†–£–ô –ü–û–ì–ê–®–ï–ù–ù–´–ï –ö–†–ï–î–ò–¢–´:
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –Ω–∞–ø–∏—Å–∞–Ω–æ "–ù–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Äî –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫! –ê –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç "–ù/–î" ‚Äî –∫—Ä–µ–¥–∏—Ç –î–ï–ô–°–¢–í–£–Æ–©–ò–ô, –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ!
- –ï—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç!
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" —Å—Ç–æ–∏—Ç "–°—Ç–∞—Ç—É—Å: –°—á–µ—Ç –∑–∞–∫—Ä—ã—Ç" - –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫!
- –í–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ–∫—É—â–∏–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∫—Ä–µ–¥–∏—Ç—ã —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –≥–¥–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Å—Ç–æ–∏—Ç "–ù/–î"!

–î–ª—è –ö–ê–ñ–î–û–ì–û –î–ï–ô–°–¢–í–£–Æ–©–ï–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
2. –í —Ç–∞–±–ª–∏—Ü–µ "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ":
   - –°—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–π–º–∞ (–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –°—Ç–æ–ª–±–µ—Ü "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –¥–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏)
   - –°—Ç–æ–ª–±–µ—Ü "–û–ì–†–ù/–ò–ù–ù" - —Ç–∞–º –¥–≤–∞ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ü–ï–†–í–û–ï (13 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –û–ì–†–ù, –ù–ï –ù–£–ñ–ù–û. –í–¢–û–†–û–ï (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏!
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
3. –í —Ç–∞–±–ª–∏—Ü–µ "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
   - –ù–∞–π–¥–∏ –°–ê–ú–£–Æ –ü–û–°–õ–ï–î–ù–Æ–Æ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–°—É–º–º–∞" (—ç—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥)
   - –ò–ì–ù–û–†–ò–†–£–ô –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª–±—Ü—ã ("–°—É–º–º–∞ –ø–æ –æ—Å–Ω.–¥–æ–ª–≥—É", "–°—É–º–º–∞ –ø–æ %%", –∏ —Ç.–¥.)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—é—é(–Ω–∏–∂–Ω—é—é) —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û —Å—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞" –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
- –ù–ï —Å—É–º–º–∏—Ä—É–µ–º –Ω–∏—á–µ–≥–æ, –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
- –í —Å—Ç–æ–ª–±—Ü–µ "–û–ì–†–ù/–ò–ù–ù" –±–µ—Ä–µ–º –í–¢–û–†–û–ï —á–∏—Å–ª–æ (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù!
- –ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": "12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "–í–¢–û–†–û–ï —á–∏—Å–ª–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ –û–ì–†–ù/–ò–ù–ù (10 —Ü–∏—Ñ—Ä)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–æ–ª–±–µ—Ü –°—É–º–º–∞"
    }}
  ]
}}"""

                    try:
                        # –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞—Ç—á–µ —Å —É—á—ë—Ç–æ–º overlap
                        if OVERLAP_PAGES > 0 and start_idx > 0:
                            print(f"         –ë–∞—Ç—á {batch_num} ({actual_start}-{end_idx}, overlap: {OVERLAP_PAGES} —Å—Ç—Ä.)...", end=" ", flush=True)
                        else:
                            print(f"         –ë–∞—Ç—á {batch_num} ({actual_start}-{end_idx})...", end=" ", flush=True)
                        
                        response_text, error_code = self.process_images_with_gpt(batch_pages, batch_prompt)
                        
                        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ 400/500 - –∑–∞–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
                        if error_code in [400, 500]:
                            print(f"ERROR {error_code}")
                            if batch_size > 30:
                                # –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º —ç—Ç–æ—Ç –±–∞—Ç—á
                                new_batch_size = batch_size // 2
                                print(f"         [AUTO] –£–º–µ–Ω—å—à–∞—é —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–æ {new_batch_size} —Å—Ç—Ä. –∏ –ø–æ–≤—Ç–æ—Ä—è—é...")
                                batch_size = new_batch_size
                                retry_smaller = True
                                # –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è –Ω–∞–∑–∞–¥, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç –±–∞—Ç—á –∑–∞–Ω–æ–≤–æ
                                start_idx -= batch_size
                                continue
                            else:
                                # –ë–∞—Ç—á —É–∂–µ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
                                print(f"         [SKIP] –ë–∞—Ç—á —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º")
                                if not error:
                                    error = f"Batch {batch_num} failed with error {error_code}"
                                continue
                        
                        cleaned = self.clean_json_response(response_text)
                        
                        # –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ GPT –≤–µ—Ä–Ω—É–ª —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ JSON (–Ω–µ—Ö–≤–∞—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
                        if cleaned and ("–Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è" in cleaned.lower() or "–ø—Ä–∏—à–ª–∏—Ç–µ" in cleaned.lower() or "–Ω–µ –º–æ–≥—É" in cleaned.lower()):
                            print(f"SKIP (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –±–∞—Ç—á–µ)")
                            continue
                        
                        try:
                            batch_data = json.loads(cleaned) if cleaned else {}
                            
                            # FALLBACK: –µ—Å–ª–∏ GPT –≤–µ—Ä–Ω—É–ª "–î–æ–≥–æ–≤–æ—Ä—ã" –≤–º–µ—Å—Ç–æ "–ö—Ä–µ–¥–∏—Ç—ã"
                            if "–î–æ–≥–æ–≤–æ—Ä—ã" in batch_data and "–ö—Ä–µ–¥–∏—Ç—ã" not in batch_data:
                                print(f"         [FIX] GPT –≤–µ—Ä–Ω—É–ª '–î–æ–≥–æ–≤–æ—Ä—ã', –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é –≤ '–ö—Ä–µ–¥–∏—Ç—ã'")
                                batch_data["–ö—Ä–µ–¥–∏—Ç—ã"] = batch_data.pop("–î–æ–≥–æ–≤–æ—Ä—ã")
                            
                            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
                            if doc_type == "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞":
                                if "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è" in batch_data and isinstance(batch_data["–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"], list):
                                    batch_items = batch_data["–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"]
                                    all_credits.extend(batch_items)
                                    
                                    if len(batch_items) == 0:
                                        print(f"OK (0 –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)")
                                    else:
                                        print(f"OK ({len(batch_items)} –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)")
                                    
                                    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
                                    if batch_items:
                                        print(f"         [–ò–ó–í–õ–ï–ß–ï–ù–û]:")
                                        for idx, item in enumerate(batch_items, 1):
                                            ip_num = item.get("–ù–æ–º–µ—Ä_–ò–ü", "???")
                                            date = item.get("–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", "???")
                                            creditor = item.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å", "???")
                                            total = item.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ", "???")
                                            print(f"           {idx}. {ip_num} | –î–∞—Ç–∞: {date} | –í–∑—ã—Å–∫–∞—Ç–µ–ª—å: {creditor} | –ò—Ç–æ–≥–æ: {total}")
                                else:
                                    print("OK (0 –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)")
                                    print(f"         [DEBUG] –ù–µ—Ç –∫–ª—é—á–∞ '–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è' –≤ –æ—Ç–≤–µ—Ç–µ. –ü–æ–ª–Ω—ã–π JSON:")
                                    print(f"         {json.dumps(batch_data, ensure_ascii=False, indent=2)[:800]}")
                            else:
                                # –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ —ç—Ç–æ–≥–æ –±–∞—Ç—á–∞
                                if "–ö—Ä–µ–¥–∏—Ç—ã" in batch_data and isinstance(batch_data["–ö—Ä–µ–¥–∏—Ç—ã"], list):
                                    batch_credits = batch_data["–ö—Ä–µ–¥–∏—Ç—ã"]
                                    
                                    # –î–æ–ø–æ–ª–Ω—è–µ–º –ò–ù–ù –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞, –µ—Å–ª–∏ GPT –Ω–µ –∏–∑–≤–ª–µ–∫
                                    for credit in batch_credits:
                                        if not credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"):
                                            creditor_name = credit.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "")
                                            if creditor_name:
                                                _, canonical_name = DocumentProcessor.normalize_bank_name(creditor_name)
                                                inn = DocumentProcessor.get_bank_inn(canonical_name)
                                                if inn:
                                                    credit["–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"] = inn
                                    
                                    all_credits.extend(batch_credits)
                                    
                                    # –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê: –≤—ã–≤–æ–¥–∏–º –æ—Ç–≤–µ—Ç GPT –∫–æ–≥–¥–∞ 0 –∫—Ä–µ–¥–∏—Ç–æ–≤
                                    if len(batch_credits) == 0:
                                        print(f"OK (0 –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                                        print(f"         [DEBUG] GPT –≤–µ—Ä–Ω—É–ª –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤. –û—Ç–≤–µ—Ç (–ø–µ—Ä–≤—ã–µ 800 —Å–∏–º–≤–æ–ª–æ–≤):")
                                        print(f"         {response_text[:800]}")
                                    else:
                                        print(f"OK ({len(batch_credits)} –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                                    
                                    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
                                    if batch_credits:
                                        print(f"         [–ò–ó–í–õ–ï–ß–ï–ù–û]:")
                                        for idx, credit in enumerate(batch_credits, 1):
                                            creditor = credit.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "???")
                                            date = credit.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏", "???")
                                            initial = credit.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", "???")
                                            debt = credit.get("–°—É–º–º–∞", "???")
                                            inn = credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞", "")
                                            inn_text = f" | –ò–ù–ù: {inn}" if inn else ""
                                            print(f"           {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt}{inn_text}")
                                else:
                                    print("OK (0 –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                                    print(f"         [DEBUG] –ù–µ—Ç –∫–ª—é—á–∞ '–ö—Ä–µ–¥–∏—Ç—ã' –≤ –æ—Ç–≤–µ—Ç–µ. –ü–æ–ª–Ω—ã–π JSON:")
                                    print(f"         {json.dumps(batch_data, ensure_ascii=False, indent=2)[:800]}")
                        except json.JSONDecodeError as json_err:
                            print(f"SKIP (JSON parse error: {str(json_err)[:50]})")
                            print(f"         [DEBUG] Cleaned response (first 500 chars):")
                            print(f"         {cleaned[:500] if cleaned else 'EMPTY'}")
                            print(f"         [DEBUG] Original response (first 500 chars):")
                            print(f"         {response_text[:500]}")
                            
                    except Exception as e:
                        print(f"ERROR ({str(e)[:40]})")
                        if not error:
                            error = f"Batch {batch_num}: {str(e)}"
                    
                    # üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–ê–ú–Ø–¢–ò: –ù–ï —É–¥–∞–ª—è–µ–º —Ñ–∞–π–ª—ã –∑–¥–µ—Å—å, —Ç.–∫. —Å–ª–µ–¥—É—é—â–∏–π –±–∞—Ç—á —Å overlap –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç!
                    # –£–¥–∞–ª–∏–º –í–°–ï —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö –±–∞—Ç—á–µ–π
                    finally:
                        # –£–¥–∞–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞—Ç—á–∞ –∏–∑ –ø–∞–º—è—Ç–∏
                        batch_pages = None
                        # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ç—á–∞ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –ø–∞–º—è—Ç–∏
                        import gc
                        gc.collect()
                        DocumentProcessor.log_memory(f"–ü–æ—Å–ª–µ –±–∞—Ç—á–∞ {batch_num}")
                
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –±–∞—Ç—á–µ–π
                if doc_type == "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞":
                    extracted_data = {"–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": all_credits}
                    print(f"      [BATCH] –í—Å–µ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π: {len(all_credits)}")
                else:
                    extracted_data = {"–ö—Ä–µ–¥–∏—Ç—ã": all_credits}
                    print(f"      [BATCH] –í—Å–µ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤: {len(all_credits)}")
                
                # –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê: –µ—Å–ª–∏ 0 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –±–æ–ª—å—à–æ–º –æ—Ç—á–µ—Ç–µ - –≤—ã–≤–æ–¥–∏–º –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
                if len(all_credits) == 0 and len(page_images) > 10:
                    print(f"      [WARNING] ‚ö†Ô∏è –ë–æ–ª—å—à–æ–π –æ—Ç—á–µ—Ç ({len(page_images)} —Å—Ç—Ä.) –Ω–æ 0 –∫—Ä–µ–¥–∏—Ç–æ–≤! –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:")
                    print(f"         1. GPT –Ω–µ –Ω–∞—à–µ–ª —Ç–∞–±–ª–∏—Ü—É '–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´'")
                    print(f"         2. –í—Å–µ –¥–æ–≥–æ–≤–æ—Ä—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è/–§–°–°–ü)")
                    print(f"         3. GPT –≤–µ—Ä–Ω—É–ª –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON")
                    print(f"         4. –í—Å–µ –∫—Ä–µ–¥–∏—Ç—ã –∑–∞–∫—Ä—ã—Ç—ã")
                    print(f"         –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á–µ—Ç–∞ –≤—Ä—É—á–Ω—É—é")
                
            else:
                # –î–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - –æ–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
                print(f"      [DEBUG] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –û–ë–´–ß–ù–ê–Ø –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–Ω–µ –±–∞—Ç—á), —Å—Ç—Ä–∞–Ω–∏—Ü: {len(page_images)}")
                if doc_type == "–æ—Ç—á–µ—Ç_–æ–∫–±":
                    simple_prompt = base_prompt + f"""

–í–ê–ñ–ù–û–ï –ó–ê–ú–ï–ß–ê–ù–ò–ï! –ù–ï –ù–£–ñ–ù–û –û–¢–î–ï–õ–¨–ù–û –ë–†–ê–¢–¨ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –ö–ê–ö –û–¢–î–ï–õ–¨–ù–´–ï –ö–†–ï–î–ò–¢–´. –≠–¢–û –û–î–ò–ù –ò –¢–û–¢ –ñ–ï –ö–†–ï–î–ò–¢!!! "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –ù–£–ñ–ù–û –í–ó–Ø–¢–¨ –¢–û–õ–¨–ö–û –≠–¢–û!
    - –ö–æ—Ä–æ—á–µ, –∑–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –¥–≤–∞ –¥–æ–≥–æ–≤–æ—Ä–∞, –±–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"

–°–ù–ê–ß–ê–õ–ê –Ω–∞–π–¥–∏ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç—á–µ—Ç–∞ (—ç—Ç–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞). –í —Ä–∞–∑–¥–µ–ª–µ "–°–£–ë–™–ï–ö–¢ –ö–†–ï–î–ò–¢–ù–û–ô –ò–°–¢–û–†–ò–ò".

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∏–ª–∏ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∫–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.

–í —Ä–∞–∑–¥–µ–ª–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –µ—Å—Ç—å –∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ 1. 2. 3. –∏ —Ç.–¥. —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É, –Ω–µ –Ω—É–∂–Ω–æ –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—ã—Ç–∞—Ç—å—Å—è –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ä–∞–∑—É –∏—â–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É.

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–í –î–ï–¢–ê–õ–¨–ù–û–ú –†–ê–ó–î–ï–õ–ï –ù–ò–ñ–ï, –ü–û–î –ö–†–ê–¢–ö–û–ô –¢–ê–ë–õ–ò–¶–ï–ô, –¥–ª—è –ö–ê–ñ–î–û–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –∏–∑–≤–ª–µ–∫–∏:
   - "–î–∞—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏" –∏–ª–∏ "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞"
   - "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
   - –í —Ä–∞–∑–¥–µ–ª–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ" –∏—â–∏ —Å—Ç—Ä–æ–∫—É "–ò–ù–ù –∏ –û–ì–†–ù (–û–ì–†–ù–ò–ü)". –¢–∞–º –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: "–ò–ù–ù¬≥ 7744000912" –∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ "–û–ì–†–ù 1027739019142"
   - –ò–ù–ù - —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–ù–ù¬≥" (10 —Ü–∏—Ñ—Ä). –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –µ–≥–æ!
   - –û–ì–†–ù –ù–ï –ù–£–ñ–ï–ù (—ç—Ç–æ 13 —Ü–∏—Ñ—Ä)
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–≤–ª–µ–∫–∏ —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)".
   - –°–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏" - —ç—Ç–æ –∏ –µ—Å—Ç—å "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–†–û –î–û–õ–ì –í –û–ö–ë:
- –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´"
- –ë–µ—Ä–µ–º –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ.
- –ó–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—Ç—å —Å—É–º–º—É –∏–∑ "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏ –¥–µ–ª–∞—Ç—å –∏–∑ –Ω–µ–µ –æ–±—â—É—é –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å!
- "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –£–ñ–ï –í–ö–õ–Æ–ß–ê–ï–¢ –ø—Ä–æ—Å—Ä–æ—á–∫—É, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
- "–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" - –ï–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–π, –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ!
- –ò–õ–ò —Å–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- –ù–ï —Å—É–º–º–∏—Ä—É–π "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü–µ –î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´!
- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∫–∞–∫ –µ—Å—Ç—å.
- –ö–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –ø—Ä–µ–∫—Ä–∞—â–∞–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö.
- –í –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ "–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞" –Ω–µ –¥–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞. –ù–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ.

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–°–£–î–ï–ë–ù–´–ï –ê–ö–¢–´ (–¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏—Å—Ç–∞–≤–æ–≤):
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–µ–±–Ω–æ–º —Å–ø–æ—Ä–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É"
- –ï—Å–ª–∏ –µ—Å—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª, –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É "–ù–æ–º–µ—Ä —Å—É–¥–µ–±–Ω–æ–≥–æ –∞–∫—Ç–∞ –∏ –¥–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è" (–ø—Ä–∏–º–µ—Ä: "2-528/2025 / 16 –∞–ø—Ä–µ–ª—è 2025")
- –ò–∑–≤–ª–µ–∫–∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞ –∏ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–Ω–æ–º–µ—Ä –¥–∞—Ç–∞" (–ø—Ä–∏–º–µ—Ä: "2-528/2025 16.04.2025")
- –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∞–∫—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –∏–∑–≤–ª–µ–∫–∏ –í–°–ï
- –ï—Å–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ - –º–∞—Å—Å–∏–≤ "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã" –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON:
{{
  "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": "12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "—á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ '–ò–ù–ù¬≥' –≤ —Ä–∞–∑–¥–µ–ª–µ '–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ' (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: 7744000912)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì ('–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞'. –ù–ï '–°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞')",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
    }}
  ],
  "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã": [
    {{
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-528/2025",
      "–î–∞—Ç–∞_–∞–∫—Ç–∞": "16.04.2025"
    }}
  ]
}}"""
                elif doc_type == "–æ—Ç—á–µ—Ç_–±–∫–∏":
                    simple_prompt = base_prompt + f"""
            
–í –æ—Ç—á–µ—Ç–µ —Ç–∞–±–ª–∏—Ü–∞ "–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã, –∑–∞–π–º—ã, –∫–∞—Ä—Ç—ã".

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏–∑–≤–ª–µ–∫–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏)
- "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –∏ –≤–∏–¥ –∫—Ä–µ–¥–∏—Ç–∞.
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞")
- –°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
- –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–°—Ä–æ—á–Ω—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥", —Ç–æ –µ—Å—Ç—å —É–∂–µ –≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ –≤ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞ (–æ—Å–Ω.–¥–æ–ª–≥, %, –ø–µ–Ω–∏...)".

–í–ê–ñ–ù–û: 
- "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - —ç—Ç–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, –ù–ï —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥!
- –ü–æ–ª–µ –≤ JSON –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–ö—Ä–µ–¥–∏—Ç—ã", –ù–ï "–î–æ–≥–æ–≤–æ—Ä—ã"!
- –í –ë–ö–ò –æ—Ç—á—ë—Ç–µ –ù–ï–¢ –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!
- –ò–∑–≤–ª–µ–∫–∞–π —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", –ø—Ä–∏–º–µ—Ä:
–°—Ç–æ–ª–±–µ—Ü "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞":
"–ë–∞–Ω–∫: –ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫
–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ª–∏–Ω–∏—è/–∫–∞—Ä—Ç–∞" - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞: –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –ª–∏–Ω–∏—è/–∫–∞—Ä—Ç–∞

–°–£–î–ï–ë–ù–´–ï –ê–ö–¢–´ (–¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏—Å—Ç–∞–≤–æ–≤):
- –í –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥—Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–¥–µ–±–Ω–æ–º —Å–ø–æ—Ä–µ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–∏ –ø–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤—É –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É"
- –ï—Å–ª–∏ –µ—Å—Ç—å —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª, –Ω–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É "–î–∞—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∏—è –∞–∫—Ç–∞ –∏ –Ω–æ–º–µ—Ä –∞–∫—Ç–∞" (–ø—Ä–∏–º–µ—Ä: "08.11.2023 2-5856/2023")
- –ò–∑–≤–ª–µ–∫–∏ –¥–∞—Ç—É –∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –î–∞—Ç–∞_–∞–∫—Ç–∞ = "08.11.2023", –ù–æ–º–µ—Ä_–¥–µ–ª–∞ = "2-5856/2023"
- –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –∞–∫—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ - –∏–∑–≤–ª–µ–∫–∏ –í–°–ï
- –ï—Å–ª–∏ –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ - –º–∞—Å—Å–∏–≤ "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã" –±—É–¥–µ—Ç –ø—É—Å—Ç—ã–º

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–¥–∞—Ç–∞",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏",
      "–°—É–º–º–∞": "—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ø—Ä–æ—Å—Ä–æ—á–∫–∞"
    }}
  ],
  "–°—É–¥–µ–±–Ω—ã–µ_–∞–∫—Ç—ã": [
    {{
      "–î–∞—Ç–∞_–∞–∫—Ç–∞": "08.11.2023",
      "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "2-5856/2023"
    }}
  ]
}}"""
                else:  # –æ—Ç—á–µ—Ç_–Ω–±–∫–∏
                    simple_prompt = base_prompt + f"""
–°–ù–ê–ß–ê–õ–ê –Ω–∞–π–¥–∏ –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç—á–µ—Ç–∞ (—ç—Ç–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞). –£–∫–∞–∑–∞–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "–°—É–±—ä–µ–∫—Ç –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏", –∏–Ω–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–µ "–ò–ù–ù (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –¥–ª—è –∏–Ω–æ—Å—Ç—Ä.)", –±—ã–≤–∞–µ—Ç —Ç–∞–∫ —á—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ "450164262865 (–ø—Ä–æ–≤–µ—Ä–µ–Ω –≤ –§–ù–°)", —Ç–æ —á—Ç–æ –≤ —Å–∫–æ–±–∫–∞—Ö –∏–≥–Ω–æ—Ä–∏—Ä—É–π, –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ 12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ.
                    
–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ" - —Ç–∞–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞".

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –ú–§–ö, –ú–ö–ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: —Å–±–µ—Ä–±–∞–Ω–∫ - –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ø—Å–± –±–∞–Ω–∫ - –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –í—ç–∑–±–∞–Ω–∫–∏—Ä –û–û–û –ú–§–ö - –û–û–û –ú–§–ö ¬´–í—ç–±–±–∞–Ω–∫–∏—Ä¬ª, –ú–§–ö –Æ–ø–∏—Ç–µ—Ä 6 –û–û–û - –û–û–û –ú–§–ö ¬´–Æ–ø–∏—Ç–µ—Ä 6¬ª –∏ —Ç.–¥.

–í–ê–ñ–ù–û - –ò–ì–ù–û–†–ò–†–£–ô –ü–û–ì–ê–®–ï–ù–ù–´–ï –ö–†–ï–î–ò–¢–´:
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –Ω–∞–ø–∏—Å–∞–Ω–æ "–ù–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Äî –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫! –ê –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç "–ù/–î" ‚Äî –∫—Ä–µ–¥–∏—Ç –î–ï–ô–°–¢–í–£–Æ–©–ò–ô, –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ!
- –ï—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç!
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" —Å—Ç–æ–∏—Ç "–°—Ç–∞—Ç—É—Å: –°—á–µ—Ç –∑–∞–∫—Ä—ã—Ç" - –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫!
- –í–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ–∫—É—â–∏–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∫—Ä–µ–¥–∏—Ç—ã —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –≥–¥–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Å—Ç–æ–∏—Ç "–ù/–î"!

–î–ª—è –ö–ê–ñ–î–û–ì–û –î–ï–ô–°–¢–í–£–Æ–©–ï–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
2. –í —Ç–∞–±–ª–∏—Ü–µ "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ":
   - –°—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–π–º–∞ (–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –°—Ç–æ–ª–±–µ—Ü "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –¥–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏)
   - –°—Ç–æ–ª–±–µ—Ü "–û–ì–†–ù/–ò–ù–ù" - —Ç–∞–º –¥–≤–∞ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ü–ï–†–í–û–ï (13 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –û–ì–†–ù, –ù–ï –ù–£–ñ–ù–û. –í–¢–û–†–û–ï (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏!
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
3. –í —Ç–∞–±–ª–∏—Ü–µ "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
   - –ù–∞–π–¥–∏ –°–ê–ú–£–Æ –ü–û–°–õ–ï–î–ù–Æ–Æ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–°—É–º–º–∞" (—ç—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥)
   - –ò–ì–ù–û–†–ò–†–£–ô –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª–±—Ü—ã ("–°—É–º–º–∞ –ø–æ –æ—Å–Ω.–¥–æ–ª–≥—É", "–°—É–º–º–∞ –ø–æ %%", –∏ —Ç.–¥.)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—é—é(–Ω–∏–∂–Ω—é—é) —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û —Å—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞" –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
- –ù–ï —Å—É–º–º–∏—Ä—É–µ–º –Ω–∏—á–µ–≥–æ, –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
- –í —Å—Ç–æ–ª–±—Ü–µ "–û–ì–†–ù/–ò–ù–ù" –±–µ—Ä–µ–º –í–¢–û–†–û–ï —á–∏—Å–ª–æ (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù!
- –ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ò–ù–ù_–¥–æ–ª–∂–Ω–∏–∫–∞": "12-–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ",
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "–í–¢–û–†–û–ï —á–∏—Å–ª–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ –û–ì–†–ù/–ò–ù–ù (10 —Ü–∏—Ñ—Ä)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–æ–ª–±–µ—Ü –°—É–º–º–∞"
    }}
  ]
}}"""

                try:
                    print(f"      –û–±—Ä–∞–±–æ—Ç–∫–∞ ({len(page_images)} —Å—Ç—Ä.)...", end=" ", flush=True)
                    response_text, error_code = self.process_images_with_gpt(page_images, simple_prompt)
                    
                    # –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 400/500 - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –±–∞—Ç—á-—Ä–µ–∂–∏–º
                    if error_code in [400, 500]:
                        print(f"ERROR {error_code}, –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ –±–∞—Ç—á-—Ä–µ–∂–∏–º...")
                        use_batch = True
                        batch_size = 30  # –ù–∞—á–∏–Ω–∞–µ–º —Å –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
                        # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º –±–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã—à–µ
                        # –ù–æ —ç—Ç–æ –ø—Ä–æ—â–µ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é. –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
                        extracted_data = {}
                        error = f"Document too large (error {error_code}), but batch processing not available in this code path"
                    else:
                        cleaned = self.clean_json_response(response_text)
                        try:
                            extracted_data = json.loads(cleaned) if cleaned else {}
                            
                            # FALLBACK: –µ—Å–ª–∏ GPT –≤–µ—Ä–Ω—É–ª "–î–æ–≥–æ–≤–æ—Ä—ã" –≤–º–µ—Å—Ç–æ "–ö—Ä–µ–¥–∏—Ç—ã"
                            if "–î–æ–≥–æ–≤–æ—Ä—ã" in extracted_data and "–ö—Ä–µ–¥–∏—Ç—ã" not in extracted_data:
                                print(f"      [FIX] GPT –≤–µ—Ä–Ω—É–ª '–î–æ–≥–æ–≤–æ—Ä—ã', –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é –≤ '–ö—Ä–µ–¥–∏—Ç—ã'")
                                extracted_data["–ö—Ä–µ–¥–∏—Ç—ã"] = extracted_data.pop("–î–æ–≥–æ–≤–æ—Ä—ã")
                            
                            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π (–Ω–µ–±–∞—Ç—á–µ–≤—ã–π —Ä–µ–∂–∏–º)
                            if doc_type == "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞":
                                if "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è" in extracted_data and isinstance(extracted_data["–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"], list):
                                    postanovleniya = extracted_data["–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"]
                                    print(f"OK ({len(postanovleniya)} –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)")
                                    
                                    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π
                                    if postanovleniya:
                                        print(f"      [–ò–ó–í–õ–ï–ß–ï–ù–û]:")
                                        for idx, item in enumerate(postanovleniya, 1):
                                            ip_num = item.get("–ù–æ–º–µ—Ä_–ò–ü", "???")
                                            date = item.get("–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", "???")
                                            creditor = item.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å", "???")
                                            total = item.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ", "???")
                                            print(f"        {idx}. {ip_num} | –î–∞—Ç–∞: {date} | –í–∑—ã—Å–∫–∞—Ç–µ–ª—å: {creditor} | –ò—Ç–æ–≥–æ: {total}")
                                else:
                                    print(f"OK (0 –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π)")
                                    print(f"      [DEBUG] –ù–µ—Ç –∫–ª—é—á–∞ '–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è' –≤ –æ—Ç–≤–µ—Ç–µ")
                            else:
                                # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
                                credits = extracted_data.get("–ö—Ä–µ–¥–∏—Ç—ã", [])
                                credit_count = len(credits)
                                print(f"OK ({credit_count} –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                                
                                # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
                                if credits:
                                    print(f"      [–ò–ó–í–õ–ï–ß–ï–ù–û]:")
                                    for idx, credit in enumerate(credits, 1):
                                        creditor = credit.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "???")
                                        date = credit.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏", "???")
                                        initial = credit.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", "???")
                                        debt = credit.get("–°—É–º–º–∞", "???")
                                        inn = credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞", "")
                                        
                                        # –ï—Å–ª–∏ –ò–ù–ù –Ω–µ—Ç - –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —Å–ª–æ–≤–∞—Ä—è –∏–ª–∏ RusProfile
                                        if not inn and creditor != "???":
                                            _, canonical_name = DocumentProcessor.normalize_bank_name(creditor)
                                            inn = DocumentProcessor.get_bank_inn(canonical_name)
                                            if inn:
                                                credit["–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"] = inn
                                                print(f"        {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt} | –ò–ù–ù: {inn} (–ø–æ–ª—É—á–µ–Ω)")
                                            else:
                                                print(f"        {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt}")
                                        else:
                                            print(f"        {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt} | –ò–ù–ù: {inn}")
                        except json.JSONDecodeError as json_err:
                            print(f"ERROR (JSON parse failed)")
                            print(f"      [DEBUG] –û—Ç–≤–µ—Ç GPT (–ø–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤):")
                            print(f"      {response_text[:500]}")
                            extracted_data = {}
                            error = f"JSON parse error: {str(json_err)}"
                except Exception as e:
                    print(f"ERROR ({str(e)[:50]})")
                    extracted_data = {}
                    error = str(e)

            
            # üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–ê–ú–Ø–¢–ò: –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –æ—á–∏—â–∞–µ–º –ø–∞–º—è—Ç—å
            print(f"      [MEMORY] –£–¥–∞–ª–µ–Ω–∏–µ {len(page_images)} –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...")
            for tmp_path in page_images:
                try:
                    os.unlink(tmp_path)
                except:
                    pass
            
            # –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞
            page_images.clear()
            all_credits = None
            extracted_data_temp = extracted_data.copy() if extracted_data else {}
            extracted_data = None
            import gc
            gc.collect()
            extracted_data = extracted_data_temp
            print(f"      [MEMORY] –ü–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞")
            DocumentProcessor.log_memory("–ü–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ (–∫—Ä–µ–¥–∏—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã)")

            elapsed = time.time() - start_time
            
            print(f"      [DEBUG] –í–æ–∑–≤—Ä–∞—Ç DocumentOutput: pages={total_pages}, error={error}, data keys={list(extracted_data.keys()) if extracted_data else 'None'}")

            return DocumentOutput(
                file=pdf_path.name,
                document_type=doc_type,
                pages=total_pages,
                processing_time_seconds=round(elapsed, 2),
                data=extracted_data,
                error=error,
                extracted_text=None,
            )

        # FALLBACK: –ï—Å–ª–∏ PDF API –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ (Vision API)
        # –≠—Ç–æ—Ç –±–ª–æ–∫ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞ —Å–ª—É—á–∞–π –æ—Ç–ª–∞–¥–∫–∏
        if False and doc_type in ["–æ—Ç—á–µ—Ç_–æ–∫–±_OLD", "–æ—Ç—á–µ—Ç_–±–∫–∏_OLD", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏_OLD"]:
            print(f"      [CREDIT] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ (Vision API - FALLBACK)")

            # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–í–°–ï —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ–ª–≥–∏!)
            print(f"      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...", end=" ", flush=True)
            pdf = pdfium.PdfDocument(str(pdf_path))
            total_pages = len(pdf)  # –û–ë–†–ê–ë–ê–¢–´–í–ê–ï–ú –í–°–ï –°–¢–†–ê–ù–ò–¶–´
            pages = []
            for i in range(total_pages):
                page = pdf[i]
                bitmap = page.render(scale=2.5)  # scale 2.5 ‚âà 200 DPI
                pil_image = bitmap.to_pil()
                pages.append(pil_image)
            print(f"OK ({len(pages)} —Å—Ç—Ä.)")

            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
            print(f"      –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü...", end=" ", flush=True)
            page_images = []
            for i, page in enumerate(pages):
                with tempfile.NamedTemporaryFile(suffix=".jpg", delete=False) as tmp_file:
                    tmp_path = tmp_file.name
                    page.save(tmp_path, 'JPEG', quality=95, optimize=True)
                    page_images.append(tmp_path)
            print("OK")

            # –ë–ê–¢–ß–ò–ù–ì: –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü > 100, —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –ø–æ—Ä—Ü–∏–∏
            # –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–æ 100 —Å—Ç—Ä., —á—Ç–æ–±—ã –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ—Ç—á—ë—Ç–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å —Ü–µ–ª–∏–∫–æ–º
            # –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ú–§–ö/–ú–ö–ö, —Ç.–∫. –∏—Ö –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É
            BATCH_SIZE = 100  # –º–∞–∫—Å–∏–º—É–º —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ —Ä–∞–∑
            all_credits = []
            error = None

            if len(page_images) > BATCH_SIZE:
                print(f"      [BATCH] –î–æ–∫—É–º–µ–Ω—Ç –±–æ–ª—å—à–æ–π ({len(page_images)} —Å—Ç—Ä.), –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ {BATCH_SIZE} —Å—Ç—Ä...")
                
                # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –±–∞—Ç—á–∏
                for batch_start in range(0, len(page_images), BATCH_SIZE):
                    batch_end = min(batch_start + BATCH_SIZE, len(page_images))
                    batch_images = page_images[batch_start:batch_end]
                    batch_num = (batch_start // BATCH_SIZE) + 1
                    total_batches = (len(page_images) + BATCH_SIZE - 1) // BATCH_SIZE
                    
                    # –ü—Ä–æ–º–ø—Ç –¥–ª—è –±–∞—Ç—á–∞
                    batch_prompt = base_prompt + f"""

–≠—Ç–æ –ß–ê–°–¢–¨ {batch_num}/{total_batches} –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ (—Å—Ç—Ä. {batch_start+1}-{batch_end} –∏–∑ {len(page_images)}).
–ò–∑–≤–ª–µ–∫–∏ –í–°–ï –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ —ç—Ç–æ–π —á–∞—Å—Ç–∏!

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
1. –ü–æ–ª–µ '–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤': '–ù/–î' ‚Üí –¥–æ–ª–≥ –∞–∫—Ç–∏–≤–µ–Ω, –¥–∞—Ç–∞ ‚Üí –ø–æ–≥–∞—à–µ–Ω
2. –†–∞–∑–¥–µ–ª '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ > 0 ‚Üí –µ—Å—Ç—å –¥–æ–ª–≥
3. –ò–∑–≤–ª–µ–∫–∞–π: –ò–ù–ù, –¥–∞—Ç—É –¥–æ–≥–æ–≤–æ—Ä–∞, —Ç–∏–ø, —Å—É–º–º—É
4. –û–¥–∏–Ω –∫—Ä–µ–¥–∏—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON —Å–æ —Å–ø–∏—Å–∫–æ–º –∫—Ä–µ–¥–∏—Ç–æ–≤!"""
                    
                    try:
                        print(f"      –ë–∞—Ç—á {batch_num}/{total_batches} (—Å—Ç—Ä. {batch_start+1}-{batch_end})...", end=" ", flush=True)
                        response_text, error_code = self.process_images_with_gpt(batch_images, batch_prompt)
                        cleaned = self.clean_json_response(response_text)
                        batch_data = json.loads(cleaned) if cleaned else {}
                        
                        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ –±–∞—Ç—á–∞
                        batch_credits = batch_data.get("–ö—Ä–µ–¥–∏—Ç—ã") or batch_data.get("–î–æ–≥–æ–≤–æ—Ä—ã") or []
                        all_credits.extend(batch_credits)
                        print(f"OK (+{len(batch_credits)} –∫—Ä–µ–¥.)")
                    except Exception as e:
                        print(f"ERROR ({str(e)[:30]})")
                        if not error:  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–≤—É—é –æ—à–∏–±–∫—É
                            error = str(e)
                        continue
                
                # –§–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                extracted_data = {
                    "–ö—Ä–µ–¥–∏—Ç—ã": all_credits,
                    "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∞–∫—Ç–∏–≤–Ω—ã—Ö_–∫—Ä–µ–¥–∏—Ç–æ–≤": len(all_credits)
                }
            else:
                # –û–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ (‚â§25 —Å—Ç—Ä)
                credit_prompt = base_prompt + f"""

–≠—Ç–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã–π –æ—Ç—á–µ—Ç ({len(pages)} —Å—Ç—Ä.).
–ü–†–û–ê–ù–ê–õ–ò–ó–ò–†–£–ô –í–°–ï –°–¢–†–ê–ù–ò–¶–´!

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
1. –ü–æ–ª–µ '–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤': '–ù/–î' ‚Üí –¥–æ–ª–≥ –∞–∫—Ç–∏–≤–µ–Ω, –¥–∞—Ç–∞ ‚Üí –ø–æ–≥–∞—à–µ–Ω
2. –†–∞–∑–¥–µ–ª '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ > 0 ‚Üí –µ—Å—Ç—å –¥–æ–ª–≥
3. –ò–∑–≤–ª–µ–∫–∞–π: –ò–ù–ù, –¥–∞—Ç—É –¥–æ–≥–æ–≤–æ—Ä–∞, —Ç–∏–ø, —Å—É–º–º—É –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏
4. –û–¥–∏–Ω –∫—Ä–µ–¥–∏—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON!"""

                try:
                    print(f"      –û–±—Ä–∞–±–æ—Ç–∫–∞ GPT-4o ({len(pages)} —Å—Ç—Ä.)...", end=" ", flush=True)
                    response_text, error_code = self.process_images_with_gpt(page_images, credit_prompt)
                    cleaned = self.clean_json_response(response_text)
                    extracted_data = json.loads(cleaned) if cleaned else {}
                    print("OK")
                except Exception as e:
                    print(f"ERROR ({str(e)[:50]})")
                    extracted_data = {}
                    error = str(e)
            
            # üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–ê–ú–Ø–¢–ò: –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –æ—á–∏—â–∞–µ–º –ø–∞–º—è—Ç—å
            print(f"      [MEMORY] –£–¥–∞–ª–µ–Ω–∏–µ {len(page_images)} –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...")
            for tmp_path in page_images:
                try:
                    os.unlink(tmp_path)
                except:
                    pass
            
            # –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞
            page_images.clear()
            all_credits = None
            extracted_data_temp = extracted_data.copy() if extracted_data else {}
            extracted_data = None
            import gc
            gc.collect()
            extracted_data = extracted_data_temp
            print(f"      [MEMORY] –ü–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞")
            DocumentProcessor.log_memory("–ü–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ (–Ω–µ–±–æ–ª—å—à–∏–µ –æ—Ç—á–µ—Ç—ã)")

            elapsed = time.time() - start_time
            total_pages = len(pages)

            return DocumentOutput(
                file=pdf_path.name,
                document_type=doc_type,
                pages=total_pages,
                processing_time_seconds=round(elapsed, 2),
                data=extracted_data,
                error=error,
                extracted_text=None,
            )

        # === –û–ë–´–ß–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –î–õ–Ø –û–°–¢–ê–õ–¨–ù–´–• –î–û–ö–£–ú–ï–ù–¢–û–í ===
        # Convert PDF to images using pypdfium2
        print(f"      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...", end=" ", flush=True)
        pdf = pdfium.PdfDocument(str(pdf_path))
        total_pages = len(pdf)
        DocumentProcessor.log_memory("–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ PDF (–æ–±—ã—á–Ω—ã–π)")
        
        pages = []
        for i in range(total_pages):
            page = pdf[i]
            bitmap = page.render(scale=2.0)  # scale 2.0 ‚âà 150 DPI
            pil_image = bitmap.to_pil()
            pages.append(pil_image)
        print(f"OK ({total_pages} —Å—Ç—Ä.)")
        DocumentProcessor.log_memory("–ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü")
        
        saved_page_paths: List[str] = []
        extracted_data: Dict[str, Any] = {}
        error: Optional[str] = None

        try:
            # Save all pages as temporary JPEG files
            print(f"      –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü...", end=" ", flush=True)
            for page in pages:
                with tempfile.NamedTemporaryFile(suffix=".jpg", delete=False) as tmp_file:
                    tmp_path = tmp_file.name
                    page.save(tmp_path, "JPEG", quality=95, optimize=True)
                    saved_page_paths.append(tmp_path)
            print(f"OK")
            
            # –û—á–∏—â–∞–µ–º PIL –æ–±—ä–µ–∫—Ç—ã
            for page in pages:
                page.close()
            pages.clear()
            pdf.close()
            import gc
            gc.collect()
            DocumentProcessor.log_memory("–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ—á–∏—Å—Ç–∫–∏ PIL")

            # Create multi-page prompt
            multi_page_prompt = f"""{base_prompt}

–≠—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç {len(pages)} —Å—Ç—Ä–∞–Ω–∏—Ü(—ã). –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∏–∂–µ.
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –í–°–ï –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ–∫–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
–û–±—ä–µ–¥–∏–Ω–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –æ–¥–∏–Ω JSON –æ–±—ä–µ–∫—Ç.
–í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
–ù–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥."""

            print(f"      –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü GPT-5...", end=" ", flush=True)

            # Process all pages at once with GPT-5 Vision
            response_text, error_code = self.process_images_with_gpt(saved_page_paths, multi_page_prompt)
            cleaned = self.clean_json_response(response_text)

            # –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –¥–ª—è –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            if doc_type == "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ":
                print(f"\n      [DEBUG] GPT –æ—Ç–≤–µ—Ç (–ø–µ—Ä–≤—ã–µ 1000 —Å–∏–º–≤–æ–ª–æ–≤):")
                print(f"      {response_text[:1000]}")
                print(f"      [DEBUG] Cleaned JSON (–ø–µ—Ä–≤—ã–µ 800 —Å–∏–º–≤–æ–ª–æ–≤):")
                print(f"      {cleaned[:800] if cleaned else 'EMPTY'}")

            try:
                extracted_data = json.loads(cleaned)
                if error_code:
                    print(f"WARN - Error {error_code}")
                else:
                    print(f"OK")
                
                # –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                if doc_type == "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ":
                    print(f"      [DEBUG] –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:")
                    print(f"         –§–ò–û: {extracted_data.get('–§–ò–û', '–ù–ï–¢')}")
                    print(f"         –ò–ù–ù: {extracted_data.get('–ò–ù–ù', '–ù–ï–¢')}")
                    print(f"         –î–∞—Ç–∞: {extracted_data.get('–î–∞—Ç–∞', '–ù–ï–¢')}")
                    print(f"         –í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ: {extracted_data.get('–í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ', '–ù–ï–¢')}")
                    print(f"         –ù–∞–ª–æ–≥–∏: {len(extracted_data.get('–ù–∞–ª–æ–≥–∏', []))} —à—Ç.")
            except json.JSONDecodeError as e:
                error = f"JSON decode error: {str(e)}"
                extracted_data = {"raw_response": response_text, "error": error}
                print(f"WARN - JSON error")
                
                # –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –æ—à–∏–±–∫–∏ –¥–ª—è –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                if doc_type == "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ":
                    print(f"      [DEBUG] JSON parse error: {str(e)}")
                    print(f"      [DEBUG] –ü–æ–ø—ã—Ç–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏:")
                    print(f"      {cleaned[:500] if cleaned else 'EMPTY'}")
        except Exception as exc:
            error = str(exc)
            extracted_data = {"error": str(exc)}
            print(f"ERROR: {str(exc)[:50]}")
        finally:
            # Clean up temporary files
            for tmp_path in saved_page_paths:
                try:
                    os.remove(tmp_path)
                except OSError:
                    continue
            
            # –û—á–∏—â–∞–µ–º –ø–∞–º—è—Ç—å
            saved_page_paths.clear()
            import gc
            gc.collect()
            DocumentProcessor.log_memory("–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–æ–±—ã—á–Ω—ã–π)")

        elapsed = time.time() - start_time
        return DocumentOutput(
            file=pdf_path.name,
            document_type=doc_type,
            pages=len(pages),
            processing_time_seconds=round(elapsed, 2),
            data=extracted_data,
            error=error,
            extracted_text=None,
        )

    def process_batch(
        self,
        pdf_paths: Iterable[Path],
        output_json: Optional[Path] = None,
        debtor_id: Optional[str] = None,
        lawyer: Optional[str] = None,
    ) -> tuple[List[DocumentOutput], Dict[str, List[Dict[str, Any]]], List[Path]]:
        import time as time_module
        batch_start_time = time_module.time()
        print(f"[TIMING] process_batch started")
        
        results: List[DocumentOutput] = []
        aggregated: Dict[str, List[Dict[str, Any]]] = {}
        pdf_list = list(pdf_paths)  # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã: –ø–∞—Å–ø–æ—Ä—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–º, –ø–æ—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ
        def sort_key(path: Path) -> tuple[int, str]:
            filename_lower = path.name.lower()
            if "–ø–∞—Å–ø–æ—Ä—Ç" in filename_lower or "passport" in filename_lower:
                return (0, path.name)  # –ø–∞—Å–ø–æ—Ä—Ç –ø–µ—Ä–≤—ã–º
            elif "–µ–≥—Ä–Ω" in filename_lower or "–≤—ã–ø–∏—Å–∫–∞" in filename_lower:
                return (2, path.name)  # –ï–ì–†–ù –ø–æ—Å–ª–µ –ø–∞—Å–ø–æ—Ä—Ç–∞, –Ω–æ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏
            else:
                return (1, path.name)  # –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

        sorted_pdf_list = sorted(pdf_list, key=sort_key)

        # –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ (–∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞)
        debtor_fio = ""

        for idx, pdf in enumerate(sorted_pdf_list, 1):
            file_start_time = time_module.time()
            print(f"[TIMING] Processing file {idx}/{len(sorted_pdf_list)}: {pdf.name}")
            try:
                result = self.process_pdf(pdf, debtor_fio=debtor_fio)
            except Exception as exc:  # noqa: BLE001
                result = DocumentOutput(
                    file=pdf.name,
                    document_type="–æ—à–∏–±–∫–∞",
                    pages=0,
                    processing_time_seconds=0.0,
                    data={},
                    error=str(exc),
                )
            file_elapsed = time_module.time() - file_start_time
            print(f"[TIMING] File {pdf.name} completed in {file_elapsed:.1f}s")
            results.append(result)
            
            # DEBUG: –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—á–µ–º—É –¥–∞–Ω–Ω—ã–µ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ aggregated
            print(f"      [DEBUG] result.error: {result.error}")
            print(f"      [DEBUG] isinstance(result.data, dict): {isinstance(result.data, dict)}")
            print(f"      [DEBUG] 'raw_output' in result.data: {'raw_output' in result.data if isinstance(result.data, dict) else 'N/A'}")
            
            if not result.error and isinstance(result.data, dict) and "raw_output" not in result.data:
                # DEBUG: –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–ª—é—á–∏ –≤ result.data –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤
                if result.document_type in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"]:
                    print(f"      [DEBUG] –ö–ª—é—á–∏ –≤ {result.document_type}: {list(result.data.keys())}")
                    if "–ö—Ä–µ–¥–∏—Ç—ã" in result.data:
                        print(f"      [DEBUG] –ö—Ä–µ–¥–∏—Ç–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ: {len(result.data.get('–ö—Ä–µ–¥–∏—Ç—ã', []))}")
                    if "–î–æ–≥–æ–≤–æ—Ä—ã" in result.data:
                        print(f"      [DEBUG] –î–æ–≥–æ–≤–æ—Ä–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ: {len(result.data.get('–î–æ–≥–æ–≤–æ—Ä—ã', []))}")
                
                # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π —Å –±–∞—Ç—á–µ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
                if result.document_type == "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞" and "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è" in result.data:
                    # –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –º–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫–∞–∂–¥–æ–µ –æ—Ç–¥–µ–ª—å–Ω–æ
                    –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è = result.data.get("–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", [])
                    if isinstance(–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, list):
                        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:
                            aggregated.setdefault(result.document_type, []).append(–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
                        print(f"      [BATCH] –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ {len(–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)} –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –≤ aggregated")
                    else:
                        # –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ —Å–ø–∏—Å–æ–∫ - –¥–æ–±–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
                        aggregated.setdefault(result.document_type, []).append(result.data)
                else:
                    # –û–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
                    aggregated.setdefault(result.document_type, []).append(result.data)
                    
                    # DEBUG: –õ–æ–≥–∏—Ä—É–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ –≤ aggregated
                    if result.document_type in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"]:
                        current_count = len(aggregated.get(result.document_type, []))
                        print(f"      [DEBUG] –î–æ–±–∞–≤–ª–µ–Ω {result.document_type} –≤ aggregated (–≤—Å–µ–≥–æ –æ—Ç—á–µ—Ç–æ–≤ —Ç–∏–ø–∞ {result.document_type}: {current_count})")
                
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
                if result.document_type == "–ø–∞—Å–ø–æ—Ä—Ç" and "–§–ò–û" in result.data:
                    debtor_fio = result.data.get("–§–ò–û", "")
                    if debtor_fio:
                        print(f"      [–§–ò–û –î–û–õ–ñ–ù–ò–ö–ê] –ò–∑–≤–ª–µ—á–µ–Ω–æ: {debtor_fio}")

        processing_elapsed = time_module.time() - batch_start_time
        print(f"[TIMING] All files processed in {processing_elapsed:.1f}s")
        
        # –ü–µ—Ä–µ–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
        context_start_time = time_module.time()
        print(f"[TIMING] Preparing template context...")
        template_context = self.prepare_template_context(aggregated, pdf_list, client)
        context_elapsed = time_module.time() - context_start_time
        print(f"[TIMING] Template context prepared in {context_elapsed:.1f}s")
        
        templates_start_time = time_module.time()
        print(f"[TIMING] Generating documents...")
        filled_templates = self.generate_all_documents(template_context, debtor_id=debtor_id, lawyer=lawyer)
        templates_elapsed = time_module.time() - templates_start_time
        print(f"[TIMING] Documents generated in {templates_elapsed:.1f}s")
        
        if output_json:
            json_start_time = time_module.time()
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º template_context –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            # –°–Ω–∞—á–∞–ª–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –º–∞—Ä–∫–µ—Ä—ã –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã–µ '\n',
            # –∑–∞—Ç–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º RichText –æ–±—ä–µ–∫—Ç—ã –≤ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            normalized_context = DocumentProcessor._normalize_line_breaks(template_context)
            serializable_context = self._make_json_serializable(normalized_context)
            with open(output_json, "w", encoding="utf-8") as handle:
                json.dump(serializable_context, handle, ensure_ascii=False, indent=2)
            json_elapsed = time_module.time() - json_start_time
            print(f"[TIMING] JSON saved in {json_elapsed:.1f}s")
        
        total_elapsed = time_module.time() - batch_start_time
        print(f"[TIMING] process_batch completed in {total_elapsed:.1f}s")
        return results, aggregated, filled_templates

    @staticmethod
    def _make_json_serializable(obj: Any) -> Any:
        """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç RichText –æ–±—ä–µ–∫—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –Ω–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–µ —Ç–∏–ø—ã –≤ —Å—Ç—Ä–æ–∫–∏."""
        from docxtpl import RichText
        
        if isinstance(obj, RichText):
            # RichText —Å–æ–¥–µ—Ä–∂–∏—Ç XML-—Ä–∞–∑–º–µ—Ç–∫—É, –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç
            # –ü–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
            rich_text_str = str(obj)
            
            # –£–¥–∞–ª—è–µ–º –≤—Å–µ XML-—Ç–µ–≥–∏, –∏–∑–≤–ª–µ–∫–∞—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
            # –ü–∞—Ç—Ç–µ—Ä–Ω –∏—â–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–µ–∂–¥—É <w:t>...</w:t> –∏–ª–∏ <w:t xml:space="preserve">...</w:t>
            text_content = re.findall(r'<w:t[^>]*>(.*?)</w:t>', rich_text_str)
            
            if text_content:
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Ç–µ–∫—Å—Ç–∞
                return ''.join(text_content)
            else:
                # –ï—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–µ –Ω–∞—à–µ–ª –Ω–∏—á–µ–≥–æ, –ø—Ä–æ–±—É–µ–º –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ XML —Ç–µ–≥–∏
                clean_text = re.sub(r'<[^>]+>', '', rich_text_str)
                return clean_text.strip() if clean_text.strip() else ""
        elif isinstance(obj, dict):
            return {key: DocumentProcessor._make_json_serializable(value) for key, value in obj.items()}
        elif isinstance(obj, list):
            return [DocumentProcessor._make_json_serializable(item) for item in obj]
        elif isinstance(obj, (str, int, float, bool, type(None))):
            return obj
        else:
            # –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å—Ç—Ä–æ–∫–µ
            return str(obj)

    @staticmethod
    def _normalize_line_breaks(obj: Any) -> Any:
        """–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç –º–∞—Ä–∫–µ—Ä—ã –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π '\n' –≤ —Å—Ç—Ä–æ–∫–∞—Ö –ø–µ—Ä–µ–¥ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

        –ó–∞–º–µ–Ω—è–µ–º —à–∞–±–ª–æ–Ω–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤–∏–¥–∞ '{{LINE_BREAK}}', '{{ LINE_BREAK }}', '{LINE_BREAK}'
        –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã 'LINE_BREAK' (–∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ) –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏.
        """
        import re

        if isinstance(obj, dict):
            return {k: DocumentProcessor._normalize_line_breaks(v) for k, v in obj.items()}
        if isinstance(obj, list):
            return [DocumentProcessor._normalize_line_breaks(v) for v in obj]
        if isinstance(obj, str):
            # replace brace variants
            s = re.sub(r"\{\{\s*LINE_BREAK\s*\}\}|\{LINE_BREAK\}", "\n", obj)
            # replace standalone token LINE_BREAK when it's a separate word
            s = re.sub(r"(?<!\w)LINE_BREAK(?!\w)", "\n", s)
            return s
        return obj


__all__ = ["DocumentProcessor", "DocumentOutput", "GPT_MODEL"]


# === CLI Interface ===
def main():
    """–ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏."""
    import sys
    from pathlib import Path

    print("=" * 70)
    print("  PROCESSING BANKRUPTCY DOCUMENTS")
    print("=" * 70)
    print()

    # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–∞–ø–∫—É —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
    if len(sys.argv) > 1:
        input_folder = Path(sys.argv[1])
    else:
        folder_input = input("–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏: ").strip().strip('"')
        if not folder_input:
            print("ERROR - –ü—É—Ç—å –Ω–µ —É–∫–∞–∑–∞–Ω!")
            return
        input_folder = Path(folder_input)

    if not input_folder.exists():
        print(f"ERROR - –ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: {input_folder}")
        return

    if not input_folder.is_dir():
        print(f"ERROR - –≠—Ç–æ –Ω–µ –ø–∞–ø–∫–∞: {input_folder}")
        return

    # –ò—â–µ–º PDF —Ñ–∞–π–ª—ã
    pdf_files = list(input_folder.glob("*.pdf"))

    if not pdf_files:
        print(f"ERROR - –í –ø–∞–ø–∫–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ PDF —Ñ–∞–π–ª–æ–≤: {input_folder}")
        return

    print(f"OK - –ù–∞–π–¥–µ–Ω–æ {len(pdf_files)} PDF —Ñ–∞–π–ª(–æ–≤):")
    for i, pdf in enumerate(pdf_files, 1):
        print(f"   {i}. {pdf.name}")
    print()

    # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
    processor = DocumentProcessor()

    # –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
    print("–ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...")
    print()

    output_json = input_folder / "—Ä–µ–∑—É–ª—å—Ç–∞—Ç_–æ–±—Ä–∞–±–æ—Ç–∫–∏.json"

    overall_start = time.time()

    try:
        results, aggregated, filled_template = processor.process_batch(
            pdf_files,
            output_json=output_json
        )

        overall_elapsed = time.time() - overall_start

        print()
        print("=" * 70)
        print("  PROCESSING COMPLETE")
        print("=" * 70)
        print(f"  Total time: {overall_elapsed:.1f} seconds ({overall_elapsed/60:.1f} min)")
        print()

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        for result in results:
            status = "[+]" if not result.error else "[-]"
            print(f"{status} {result.file}")
            print(f"   –¢–∏–ø: {result.document_type}")
            print(f"   –°—Ç—Ä–∞–Ω–∏—Ü: {result.pages}")
            print(f"   –í—Ä–µ–º—è: {result.processing_time_seconds} —Å–µ–∫")
            if result.error:
                print(f"   WARNING - –û—à–∏–±–∫–∞: {result.error}")
            print()

        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
        print("Created files:")
        print(f"   > {output_json.name} - JSON —Å –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏")


        if filled_template:
            for tmpl in filled_template:
                print(f"   > {tmpl.name}")

        print()
        print(f"All files saved to: {input_folder}")
        print()

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        total_docs = len(results)
        successful = sum(1 for r in results if not r.error)
        failed = total_docs - successful

        print("Statistics:")
        print(f"   –í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {total_docs}")
        print(f"   –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ: {successful}")
        if failed > 0:
            print(f"   –° –æ—à–∏–±–∫–∞–º–∏: {failed}")

        print()
        print("Done! Check the filled template.")

    except KeyboardInterrupt:
        print()
        print("WARNING - Processing interrupted by user")
    except Exception as exc:
        print()
        print(f"ERROR - {exc}")
        try:
            import traceback
            traceback.print_exc()
        except Exception as te:
            print(f"[TRACEBACK ERROR] Failed to print traceback: {te}")


if __name__ == "__main__":
    main()