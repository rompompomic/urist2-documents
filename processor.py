"""Core document processing logic reused by CLI and web service."""

from __future__ import annotations

import base64
import json
import os
import re
import tempfile
import time
import zipfile
from dataclasses import dataclass
from datetime import date, datetime
from decimal import Decimal, InvalidOperation
from pathlib import Path
from typing import Any, Dict, Iterable, List, Optional
from zoneinfo import ZoneInfo

from openai import OpenAI
import pypdfium2 as pdfium
from PIL import Image
from dotenv import load_dotenv
from docxtpl import DocxTemplate, RichText  # –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü

# Load environment variables from .env file
load_dotenv()

# === Processing settings ===
GPT_MODEL = "gpt-5-mini"  # Using GPT-5-mini with vision capabilities
TEMPLATE_DOCX = Path("templ") / "–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ.docx"
FILLED_TEMPLATE_SUFFIX = " (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ)"
OUTPUT_DIR = Path("resultdoc")  # –ü–∞–ø–∫–∞ –¥–ª—è –≤—Å–µ—Ö –≥–æ—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

# Initialize OpenAI client
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

print(f"OK - Using {GPT_MODEL} for document processing")


@dataclass
class DocumentOutput:
    file: str
    document_type: str
    pages: int
    processing_time_seconds: float
    data: Dict[str, Any]
    error: Optional[str] = None
    extracted_text: Optional[str] = None


class DocumentProcessor:
    """Processes PDF documents and aggregates structured data."""

    def __init__(self) -> None:
        pass

    # Registries populated at startup by app.py or scheduler
    BANK_REGISTRY: Dict[str, Any] = {}
    MFO_REGISTRY: Dict[str, Any] = {}

    @classmethod
    def initialize_bank_registry(cls) -> None:
        """Load bank and MFO registries from disk into class attributes.

        This method is called from `app.py` at startup. It is safe to call
        multiple times; missing files will result in empty registries.
        """
        bank_file = Path("cbr_data") / "bank_registry.json"
        mfo_file = Path("cbr_data") / "mfo_registry.json"

        if bank_file.exists():
            try:
                with open(bank_file, "r", encoding="utf-8") as f:
                    cls.BANK_REGISTRY = json.load(f)
            except Exception as e:
                print(f"[WARN] Failed to load bank registry: {e}")
                cls.BANK_REGISTRY = {}
        else:
            cls.BANK_REGISTRY = {}

        if mfo_file.exists():
            try:
                with open(mfo_file, "r", encoding="utf-8") as f:
                    cls.MFO_REGISTRY = json.load(f)
            except Exception as e:
                print(f"[WARN] Failed to load MFO registry: {e}")
                cls.MFO_REGISTRY = {}
        else:
            cls.MFO_REGISTRY = {}

        print(f"Initialized BANK_REGISTRY: {len(cls.BANK_REGISTRY)} banks, MFO_REGISTRY: {len(cls.MFO_REGISTRY)} MFOs")

    # === Prompt configuration ===
    DOCUMENT_TYPES: Dict[str, Dict[str, Any]] = {
        "–ø–∞—Å–ø–æ—Ä—Ç": {
            "keywords": ["–ø–∞—Å–ø–æ—Ä—Ç", "passport", "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ —Ä—Ñ", "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω —Ä–æ—Å—Å–∏–π—Å–∫–æ–π —Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏", "—É–¥–æ—Å—Ç–æ–≤–µ—Ä—è—é—â–∏–π –ª–∏—á–Ω–æ—Å—Ç—å"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–∞—Å–ø–æ—Ä—Ç –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ –†–§ (–∫–Ω–∏–∂–µ—á–Ω—ã–π –æ–±—Ä–∞–∑—Ü–∞ 1997/2011). –î–∞–∂–µ –µ—Å–ª–∏ OCR –¥–∞—ë—Ç —à—É–º –≤—Ä–æ–¥–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å—Ç—Ä–æ–∫ "–ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∑–∞–¥–∞—á—É" –∏–ª–∏ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å—á–∏—Ç–∞–π —ç—Ç–æ –≤–æ–¥—è–Ω—ã–º–∏ –∑–Ω–∞–∫–∞–º–∏ –∏ –∏–∑–≤–ª–µ–∫–∞–π –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è –ø–æ –º–∞–∫–µ—Ç—É. –ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ—á–∏—Ç–∞–µ–º –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å—Ç–∞–≤—å null, –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–¥—É–º—ã–≤–∞–π –∏ –Ω–µ –ø—Ä–æ—Å–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–í–ê–ñ–ù–û: –í—ã–±–∏—Ä–∞–π —Ç–æ–ª—å–∫–æ –ê–ö–¢–£–ê–õ–¨–ù–£–Æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é!
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–ø–∏—Å–∫–µ) ‚Äî –≤—ã–±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–Æ–Æ (—Å–∞–º—É—é —Å–≤–µ–∂—É—é –ø–æ –¥–∞—Ç–µ).
- –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —à—Ç–∞–º–ø–æ–≤ –æ –±—Ä–∞–∫–µ/—Ä–∞–∑–≤–æ–¥–µ ‚Äî —É–∫–∞–∂–∏ –ü–û–°–õ–ï–î–ù–ò–ô —Å—Ç–∞—Ç—É—Å (–∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ).
- –ï—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–º–µ—Ç–∫–∞ –æ —Å–Ω—è—Ç–∏–∏ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –Ω–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äî –±–µ—Ä–∏ —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤—É—é—â—É—é –ø—Ä–æ–ø–∏—Å–∫—É.

–†–ê–ë–û–¢–ê –° –†–ê–ó–ú–´–¢–´–ú–ò –®–¢–ê–ú–ü–ê–ú–ò –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò:
- –®—Ç–∞–º–ø –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —á–∞—Å—Ç–æ —Ä–∞–∑–º—ã—Ç –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –Ω–µ—á–∏—Ç–∞–µ–º ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
- –°–¢–ê–†–ê–ô–°–Ø —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã: –≥–æ—Ä–æ–¥, —É–ª–∏—Ü—É, –Ω–æ–º–µ—Ä –¥–æ–º–∞, –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã
- –ò—â–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ —à—Ç–∞–º–ø–µ: "–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù", "–ß–ï–õ–Ø–ë–ò–ù–°–ö", "–£–õ.", "–î.", "–ö–í."
- –ß–∏—Å–ª–∞ (–Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤, –∫–≤–∞—Ä—Ç–∏—Ä) –æ–±—ã—á–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –ª—É—á—à–µ –±—É–∫–≤
- –î–∞—Ç–∞ –≤ —à—Ç–∞–º–ø–µ –æ–±—ã—á–Ω–æ –≤–Ω–∏–∑—É, —Ñ–æ—Ä–º–∞—Ç –î–î.–ú–ú.–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä: 29.02.2000)
- –î–∞–∂–µ –µ—Å–ª–∏ —É–≤–µ—Ä–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —á–∞—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞ (–≥–æ—Ä–æ–¥ + –¥–æ–º) ‚Äî –∑–∞–ø–∏—à–∏ —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—à—å
- –ù–ï –æ—Å—Ç–∞–≤–ª—è–π –ø–æ–ª–µ "–ü—Ä–æ–ø–∏—Å–∫–∞" –ø—É—Å—Ç—ã–º (null) –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–∞ —á–∏—Ç–∞–µ—Ç—Å—è!

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –¢–ï–ö–°–¢–ê:
- –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–∞–ø–∏—Å–∞–Ω –ó–ê–ì–õ–ê–í–ù–´–ú–ò –ë–£–ö–í–ê–ú–ò (CAPS LOCK) ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á", –∞ –Ω–µ "–ò–í–ê–ù–û–í –ò–í–ê–ù –ò–í–ê–ù–û–í–ò–ß".
- –§–ò–û, –∞–¥—Ä–µ—Å–∞, –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π ‚Äî —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏.
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è: –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã (–ú–í–î, –ó–ê–ì–°, –£–§–ú–°) –æ—Å—Ç–∞–≤–ª—è–π –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏.
- –£–±–∏—Ä–∞–π –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –∏ –ø—Ä–∏–≤–æ–¥–∏ —Ç–µ–∫—Å—Ç –∫ —á–∏—Ç–∞–µ–º–æ–º—É –≤–∏–¥—É.

–°–ª–µ–¥—É–π —à–∞–≥–∞–º:
1. –†–∞–∑–≤–æ—Ä–æ—Ç —Å —Ñ–æ—Ç–æ (—Å—Ç—Ä. 2-3):
        - –ö—Ä–∞—Å–Ω—ã–π –Ω–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É: 4 —Ü–∏—Ñ—Ä—ã —Å–µ—Ä–∏–∏ + 6 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä–∞.
        - –ü–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ" ‚Äî –§–ò–û.
        - –°—Ç—Ä–æ–∫–∞ "–ü–æ–ª" —Å–æ–¥–µ—Ä–∂–∏—Ç "–ú—É–∂" –∏–ª–∏ "–ñ–µ–Ω".
        - –°—Ç—Ä–æ–∫–∞ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è" ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ —Ñ–æ—Ä–º–∞—Ç—É –î–î.–ú–ú.–ì–ì–ì–ì –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ –ø—Ä–æ–ø–∏—Å—å—é.
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°—Ç—Ä–æ–∫–∞ "–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è" –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–†–ê–ó–£ –ü–û–î –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è –ù–ê –°–¢–†–ê–ù–ò–¶–ï 2-3:
          * –≠–¢–û –ù–ï –ê–î–†–ï–° –ü–†–û–ü–ò–°–ö–ò! –≠—Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ —á–µ–ª–æ–≤–µ–∫ —Ä–æ–¥–∏–ª—Å—è (—á–∞—Å—Ç–æ –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥/–æ–±–ª–∞—Å—Ç—å)
          * –§–æ—Ä–º–∞—Ç–∏—Ä—É–π —á–µ—Ä–µ–∑ –ó–ê–ü–Ø–¢–£–Æ —Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è–º–∏: "–≥." (–≥–æ—Ä–æ–¥), "—Å." (—Å–µ–ª–æ), "–¥." (–¥–µ—Ä–µ–≤–Ω—è), "—Ä-–Ω" (—Ä–∞–π–æ–Ω), "–æ–±–ª." (–æ–±–ª–∞—Å—Ç—å), "–∫—Ä–∞–π"
          * –ü–æ—Ä—è–¥–æ–∫: –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç, —Ä–∞–π–æ–Ω, –æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π
          * –ü—Ä–∏–º–µ—Ä—ã: "–≥. –ú–æ—Å–∫–≤–∞", "—Å. –ê–≥–∏–Ω—Å–∫–æ–µ, –°–∞—è–Ω—Å–∫–∏–π —Ä-–Ω, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π", "–¥. –ü–µ—Ç—Ä–æ–≤–æ, –†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª."
          * –ù–ï –ü–£–¢–ê–ô —Å –∞–¥—Ä–µ—Å–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–ø–∏—Å–∫–∏) —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 5-6!
2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –≤—ã–¥–∞—á–µ (—Å—Ç—Ä. 2):
        - –ë–ª–æ–∫ "–í—ã–¥–∞–Ω"/"–ö–µ–º –≤—ã–¥–∞–Ω" ‚Äî –¢–û–ß–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ (–û—Ç–¥–µ–ª–æ–º –£–§–ú–°, –£–í–ú –ì–£ –ú–í–î –∏ —Ç.–¥.)
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –°–æ—Ö—Ä–∞–Ω—è–π –û–†–ò–ì–ò–ù–ê–õ–¨–ù–´–ô —Ç–µ–∫—Å—Ç "–ö–µ–º –≤—ã–¥–∞–Ω" –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô!
          * –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "–û—Ç–¥–µ–ª–æ–º –£–§–ú–° –†–æ—Å—Å–∏–∏ –ø–æ —Ä–µ—Å–ø—É–±–ª–∏–∫–µ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω" ‚Äî —Ç–∞–∫ –∏ –ø–∏—à–∏
          * –ï—Å–ª–∏ "–£–í–ú –ì–£ –ú–í–î –†–æ—Å—Å–∏–∏ –ø–æ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏" ‚Äî —Ç–∞–∫ –∏ –ø–∏—à–∏
          * –ù–ï —Å–æ–∫—Ä–∞—â–∞–π, –ù–ï –∏–∑–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç, –∫–æ–ø–∏—Ä—É–π —Ç–æ—á–Ω–æ –∫–∞–∫ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ
          * –ü—Ä–∏–≤–æ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É —Ç–æ–ª—å–∫–æ CAPS LOCK: "–û—Ç–¥–µ–ª–æ–º" –≤–º–µ—Å—Ç–æ "–û–¢–î–ï–õ–û–ú"
        - –ü–æ–¥ –Ω–∏–º –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Ü–∏—Ñ—Ä–∞–º–∏.
        - –°–ª–µ–≤–∞ –≤–Ω–∏–∑—É –∫–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ XXX-XXX.
3. –†–∞–∑–≤–æ—Ä–æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä. 5-6):
        - –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ê–î–†–ï–° –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò (–ü–†–û–ü–ò–°–ö–ê) - –ù–ï –ü–£–¢–ê–ô —Å –º–µ—Å—Ç–æ–º —Ä–æ–∂–¥–µ–Ω–∏—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã 2-3!
        - –ú–ï–°–¢–û –†–û–ñ–î–ï–ù–ò–Ø (—Å—Ç—Ä. 2-3) ‚â† –ê–î–†–ï–° –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò (—Å—Ç—Ä. 5-6) - —ç—Ç–æ –†–ê–ó–ù–´–ï –≤–µ—â–∏!
        - –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî –≤—ã–±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–Æ–Æ (—Å —Å–∞–º–æ–π –ø–æ–∑–¥–Ω–µ–π –¥–∞—Ç–æ–π).
        - –ò–≥–Ω–æ—Ä–∏—Ä—É–π –æ—Ç–º–µ—Ç–∫–∏ "–°–Ω—è—Ç —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏" ‚Äî –æ–Ω–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ —Å—Ç–∞—Ä—ã–µ –∞–¥—Ä–µ—Å–∞.
        - –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –®–¢–ê–ú–ü–ï –∏–ª–∏ —Ä—É–∫–æ–ø–∏—Å–Ω–æ–π –∑–∞–ø–∏—Å–∏:
          * –®—Ç–∞–º–ø —Å–æ–¥–µ—Ä–∂–∏—Ç: "–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù", –¥–∞—Ç—É –≤–Ω–∏–∑—É, –∞–¥—Ä–µ—Å –≤ —Ü–µ–Ω—Ç—Ä–µ (—á–∞—Å—Ç–æ —Ä–∞–∑–º—ã—Ç, –Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è)
          * –®—Ç–∞–º–ø –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è —Ä–∞–º–∫–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –≤–Ω—É—Ç—Ä–∏
          * –ê–¥—Ä–µ—Å –≤ —à—Ç–∞–º–ø–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É
          * –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–í–õ–ï–ö–ò –ü–û–õ–ù–´–ô –ê–î–†–ï–° —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è/—Ä–µ—Å–ø—É–±–ª–∏–∫–∏!
          * –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –†–ï–ì–ò–û–ù –í –ù–ê–ß–ê–õ–ï: –ê–¥—Ä–µ—Å –í–°–ï–ì–î–ê –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —Å—É–±—ä–µ–∫—Ç–∞ –†–§ (–∫—Ä–æ–º–µ –ú–æ—Å–∫–≤—ã/–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞)!
          * –§–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞: –û–ë–õ–ê–°–¢–¨/–ö–†–ê–ô/–†–ï–°–ü–£–ë–õ–ò–ö–ê, –≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–æ—Ä–ø—É—Å (–µ—Å–ª–∏ –µ—Å—Ç—å), –∫–≤–∞—Ä—Ç–∏—Ä–∞
          * –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:
            - "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5"
            - "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, —É–ª. –ú–∏—Ä–∞, –¥. 25–ê, –∫–æ—Ä–ø. 2, –∫–≤. 100"
            - "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –≥. –£—Ñ–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1, –∫–≤. 1"
            - "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 1, –∫–≤. 10" (–ú–æ—Å–∫–≤–∞ - —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ–¥)
          * –ï—Å–ª–∏ –≤ —à—Ç–∞–º–ø–µ –æ–±–ª–∞—Å—Ç—å —Ä–∞–∑–º—ã—Ç–∞, –Ω–æ –µ—Å—Ç—å –≥–æ—Ä–æ–¥ - –û–ü–†–ï–î–ï–õ–ò —Ä–µ–≥–∏–æ–Ω –ø–æ –≥–æ—Ä–æ–¥—É:
            - –ß–µ–ª—è–±–∏–Ω—Å–∫ ‚Üí "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
            - –£—Ñ–∞ ‚Üí "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω"
            - –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ ‚Üí "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"
            - –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä ‚Üí "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π"
          * –í —Å—Ç–∞—Ä—ã—Ö —à—Ç–∞–º–ø–∞—Ö —á–∞—Å—Ç–æ –µ—Å—Ç—å "–ß–ï–õ–Ø–ë–ò–ù–°–ö–ê–Ø –û–ë–õ–ê–°–¢–¨", "–ì. –ß–ï–õ–Ø–ë–ò–ù–°–ö", "–£–õ. –ö–†–ê–°–ù–û–ú–û–õ–û–¢–û–í–ê" –∏ —Ç.–¥.
          * –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è - —ç—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø —á–∞—Å—Ç—å –∞–¥—Ä–µ—Å–∞!
          * –ü–†–û–í–ï–†–¨: –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –í–°–ï–ì–î–ê —Å–æ–¥–µ—Ä–∂–∏—Ç —É–ª–∏—Ü—É, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä—É (—á–µ–≥–æ –Ω–µ—Ç –≤ –º–µ—Å—Ç–µ —Ä–æ–∂–¥–µ–Ω–∏—è)
        - –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±—ã—á–Ω–æ –í–ù–ò–ó–£ —à—Ç–∞–º–ø–∞ —Ü–∏—Ñ—Ä–∞–º–∏ (–î–î.–ú–ú.–ì–ì–ì–ì)
        - –†—è–¥–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥–ø–∏—Å—å –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞ –∏ –ø–µ—á–∞—Ç—å.
4. –®—Ç–∞–º–ø—ã –æ —Å–µ–º–µ–π–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ (—Å—Ç—Ä. 7-8):
        - –í–ù–ò–ú–ê–ù–ò–ï: –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à—Ç–∞–º–ø–æ–≤ ‚Äî –≤—ã–±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–ò–ô (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å).
        - –ï—Å–ª–∏ –±—ã–ª –±—Ä–∞–∫, –∑–∞—Ç–µ–º —Ä–∞–∑–≤–æ–¥ ‚Äî —Å—Ç–∞—Ç—É—Å "–†–∞–∑–≤–µ–¥–µ–Ω/–†–∞–∑–≤–µ–¥–µ–Ω–∞".
        - –ï—Å–ª–∏ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –æ –±—Ä–∞–∫–µ/—Ä–∞–∑–≤–æ–¥–µ ‚Äî —Å—Ç–∞—Ç—É—Å, –¥–∞—Ç–∞, –æ—Ä–≥–∞–Ω.
        - –ï—Å–ª–∏ —à—Ç–∞–º–ø–æ–≤ –Ω–µ—Ç ‚Äî —Å—Ç–∞—Ç—É—Å "–ù–µ –∂–µ–Ω–∞—Ç"/"–ù–µ –∑–∞–º—É–∂–µ–º".
5. –ü–µ—á–∞—Ç–∏ –æ –¥–µ—Ç—è—Ö (—Å—Ç—Ä. 9-20):
        - –ö–∞–∂–¥–∞—è –ø–µ—á–∞—Ç—å "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–µ—Ç—è—Ö" ‚Äî –§–ò–û –∏ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞.
        - –°–æ–±–µ—Ä–∏ –í–°–ï –∑–∞–ø–∏—Å–∏ –æ –¥–µ—Ç—è—Ö (–∑–¥–µ—Å—å –∞–∫—Ç—É–∞–ª—å–Ω—ã –≤—Å–µ).

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ –º–∞–∫–µ—Ç: –§–ò–û –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º –±–ª–æ–∫–µ, –∫—Ä–∞—Å–Ω—ã–π –Ω–æ–º–µ—Ä —Å–ø—Ä–∞–≤–∞, —à—Ç–∞–º–ø —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥ –Ω–∞–¥–ø–∏—Å—å—é "–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω".

–í–µ—Ä–Ω–∏ JSON —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
{
  "–§–ò–û": "...",
  "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã": "–ò–≤–∞–Ω–æ–≤ –ò.–ò.", #–¢—É—Ç —Ç—ã —Å–∞–º –ø–∏—à–µ—à—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–ò–û –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
  "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_—Ä–ø": "–ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.", #–¢—É—Ç —Ç—ã —Å–∞–º –ø–∏—à–µ—à—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–ò–û –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞, –Ω–æ —É–∂–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ
  "–ü–æ–ª": "–º—É–∂—Å–∫–æ–π/–∂–µ–Ω—Å–∫–∏–π",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "—Å. –ê–≥–∏–Ω—Å–∫–æ–µ, –°–∞—è–Ω—Å–∫–∏–π —Ä-–Ω, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π",  # –°–¢–†. 2-3! –ì–¥–µ –†–û–î–ò–õ–°–Ø —á–µ–ª–æ–≤–µ–∫. –§–æ—Ä–º–∞—Ç: –Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç, —Ä–∞–π–æ–Ω, –æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π. –ë–ï–ó —É–ª–∏—Ü—ã –∏ –¥–æ–º–∞!
  "–°–µ—Ä–∏—è": "–•–•–•–•",
  "–ù–æ–º–µ—Ä": "XXXXXX",
  "–ö–µ–º_–≤—ã–¥–∞–Ω": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": "–•–•–•-–•–•–•",
  "–ü—Ä–æ–ø–∏—Å–∫–∞": "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5",  # –°–¢–†. 5-6! –ì–¥–µ –ü–†–û–ü–ò–°–ê–ù —á–µ–ª–æ–≤–µ–∫. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π, –≥–æ—Ä–æ–¥, –£–õ–ò–¶–ê, –î–û–ú, –∫–≤–∞—Ä—Ç–∏—Ä–∞
  "–î–∞—Ç–∞_–ø—Ä–æ–ø–∏—Å–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–°–µ–º–µ–π–Ω–æ–µ_–ø–æ–ª–æ–∂–µ–Ω–∏–µ": "–ñ–µ–Ω–∞—Ç/–ó–∞–º—É–∂–µ–º/–ù–µ –∂–µ–Ω–∞—Ç/–ù–µ –∑–∞–º—É–∂–µ–º/–†–∞–∑–≤–µ–¥–µ–Ω/–†–∞–∑–≤–µ–¥–µ–Ω–∞",
  "–î–µ—Ç–∏": [{"–§–ò–û": "...", "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì"}]
}
–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ù–ï –ü–£–¢–ê–ô –≠–¢–ò –ü–û–õ–Ø:
- "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è" (—Å—Ç—Ä. 2-3): –ì–¥–µ —á–µ–ª–æ–≤–µ–∫ –†–û–î–ò–õ–°–Ø. –ë–µ–∑ —É–ª–∏—Ü—ã/–¥–æ–º–∞. –ü—Ä–∏–º–µ—Ä: "–≥. –ú–æ—Å–∫–≤–∞" –∏–ª–∏ "—Å. –ê–≥–∏–Ω—Å–∫–æ–µ, –°–∞—è–Ω—Å–∫–∏–π —Ä-–Ω, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π"
- "–ü—Ä–æ–ø–∏—Å–∫–∞" (—Å—Ç—Ä. 5-6): –ì–¥–µ —á–µ–ª–æ–≤–µ–∫ –ü–†–û–ü–ò–°–ê–ù. –í–°–ï–ì–î–ê —Å —É–ª–∏—Ü–µ–π –∏ –¥–æ–º–æ–º. –ü—Ä–∏–º–µ—Ä: "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5"
- –ï—Å–ª–∏ –≤ –æ–¥–Ω–æ–º –ø–æ–ª–µ –≤–∏–¥–∏—à—å —É–ª–∏—Ü—É –∏ –¥–æ–º - —ç—Ç–æ –ü–†–û–ü–ò–°–ö–ê, –∞ –Ω–µ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è!

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: 
- –ü–æ–ª–µ "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è" –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: "—Ç–∏–ø –Ω–∞—Å–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ (—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ–º), –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ä–∞–π–æ–Ω, –æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π". –ü—Ä–∏–º–µ—Ä—ã: "—Å. –ê–≥–∏–Ω—Å–∫–æ–µ, –°–∞—è–Ω—Å–∫–∏–π —Ä-–Ω, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π", "–≥. –ú–æ—Å–∫–≤–∞", "–¥. –ü–µ—Ç—Ä–æ–≤–æ, –†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª.". –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ—á–∏—Ç–∞–±–µ–ª–µ–Ω ‚Äî –Ω–∞–ø–∏—à–∏ —á—Ç–æ –≤–∏–¥–∏—à—å, –Ω–æ –ù–ï –æ—Å—Ç–∞–≤–ª—è–π null!
- –ü–æ–ª–µ "–ü—Ä–æ–ø–∏—Å–∫–∞" –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ü–û–õ–ù–´–ô –∞–¥—Ä–µ—Å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è/—Ä–µ—Å–ø—É–±–ª–∏–∫–∏! –ü—Ä–∏–º–µ—Ä—ã: "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10, –∫–≤. 5", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, —É–ª. –ú–∏—Ä–∞, –¥. 25", "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥. 1". –ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏/–∫—Ä–∞—è –≤ –Ω–∞—á–∞–ª–µ –∞–¥—Ä–µ—Å–∞!
–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —Å—Ç–∞–≤—å null. –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON –±–µ–∑ Markdown –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–π. –ï—Å–ª–∏ –∫—Ä–∞—Å–Ω—ã–π –Ω–æ–º–µ—Ä –∏–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ —á–∏—Ç–∞–±–µ–ª–µ–Ω ‚Äî –∫–ª—é—á–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç, –∑–Ω–∞—á–µ–Ω–∏–µ = null. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–≤–µ—á–∞–π —Ç–µ–∫—Å—Ç–æ–º –≤–Ω–µ JSON –∏ –Ω–µ –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.""",
        },
        "–∏–Ω–Ω": {
            "keywords": ["–∏–Ω–Ω", "–Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞", "–∫–Ω–¥ 1122003", "–∫–æ–ø–∏—è –∏–Ω–Ω", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞", "—Ñ–Ω—Å", "–Ω–∞–ª–æ–≥–æ–≤–∞—è —Å–ª—É–∂–±–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –∏–Ω–Ω"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –∏–ª–∏ –≤—ã–ø–∏—Å–∫—É –§–ù–° –æ–± –ò–ù–ù —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (—Ñ–æ—Ä–º–∞ –ö–ù–î 1122003 –∏–ª–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ –±—É–º–∞–≥–µ).

–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ù–ï –ï–ì–†–ù! –ï—Å–ª–∏ –≤–∏–¥–∏—à—å "–ï–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏" –∏–ª–∏ "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä" ‚Äî —ç—Ç–æ –Ω–µ –ò–ù–ù –¥–æ–∫—É–º–µ–Ω—Ç.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏).

–ì–î–ï –ò–°–ö–ê–¢–¨ –ò–ù–ù:
1. –°—Ç–∞—Ä–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ (–±—É–º–∞–∂–Ω–æ–µ):
   - –°–∞–º–æ–µ –ø–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ (—á–∞—Å—Ç–æ —Å–≤–µ—Ä—Ö—É –∏–ª–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ) ‚Äî —ç—Ç–æ –ò–ù–ù
   - –†–ï–ì–ò–û–ù–ê–õ–¨–ù–´–ï –§–û–†–ú–ê–¢–´: –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω –∏ –¥—Ä—É–≥–∏–µ —Ä–µ—Å–ø—É–±–ª–∏–∫–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –æ—Å–æ–±—ã–π –¥–∏–∑–∞–π–Ω
   - –í —Ü–µ–Ω—Ç—Ä–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∫—Ä—É–ø–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏: 12 —Ü–∏—Ñ—Ä –ò–ù–ù (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å –ø—Ä–æ–±–µ–ª–∞–º–∏: "02 56 051 408 09")
   - –í—ã—à–µ –∏–ª–∏ –Ω–∏–∂–µ —É–∫–∞–∑–∞–Ω–æ –§–ò–û
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—á–∞—Ç—å –Ω–∞–ª–æ–≥–æ–≤–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏, –≥–µ—Ä–± —Ä–µ–≥–∏–æ–Ω–∞
   - –ë–∞—à–∫–∏—Ä—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç: —Å–≤–µ—Ä—Ö—É –Ω–æ–º–µ—Ä —Å –ø—Ä–æ–±–µ–ª–∞–º–∏, –Ω–∏–∂–µ –§–ò–û

2. –ù–æ–≤–∞—è –≤—ã–ø–∏—Å–∫–∞ (—Ñ–æ—Ä–º–∞ –ö–ù–î 1122003):
   - –®–∞–ø–∫–∞: –ª–æ–≥–æ—Ç–∏–ø –§–ù–°, –Ω–∞–∑–≤–∞–Ω–∏–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –ò–ù–ù"
   - –¢–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª—è–º–∏: –§–ò–û, –ò–ù–ù (12 —Ü–∏—Ñ—Ä), –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
   - –ü—Ä–∞–≤—ã–π —É–≥–æ–ª: –¥–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è

3. –ü—Ä–æ—Å—Ç–∞—è —Å–ø—Ä–∞–≤–∫–∞/–∫–æ–ø–∏—è:
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç —Å –ò–ù–ù –∏ –§–ò–û
   - –ò–ù–ù ‚Äî —ç—Ç–æ –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä (–¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢–´ –ò–ù–ù:
–ò–ù–ù —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –°–ª–∏—Ç–Ω–æ: 745210776146
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 745 210 776 146
- –° –¥–µ—Ñ–∏—Å–∞–º–∏: 745-210-776-146
- –ì—Ä—É–ø–ø–∞–º–∏: 7452 1077 6146
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç: 02 56 051 408 09 (–ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω)
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç: –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ü–∏—Ñ—Ä—ã –Ω–µ—á–∏—Ç–∞–µ–º—ã

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –ò–ù–ù —Ñ–∏–∑–ª–∏—Ü–∞ –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä (–¥–ª—è —é—Ä–ª–∏—Ü 10 —Ü–∏—Ñ—Ä - —ç—Ç–æ –Ω–µ –Ω–∞—à —Å–ª—É—á–∞–π!)
- –ü–ï–†–í–û–ï —á–∏—Å–ª–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ —á–∞—Å—Ç–æ –∏ –µ—Å—Ç—å –ò–ù–ù ‚Äî –ø—Ä–æ–≤–µ—Ä—å –µ–≥–æ –Ω–∞ 12 —Ü–∏—Ñ—Ä
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –≥—Ä—É–ø–ø—É –∏–∑ ~12 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–æ–º "–ò–ù–ù" –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–≤–µ—Ä—Ö—É –¥–æ–∫—É–º–µ–Ω—Ç–∞ - —ç—Ç–æ –æ–Ω!
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Ç–æ—á–∫–∏ - –æ—Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ 12 —Ü–∏—Ñ—Ä
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ –Ω–æ –≤–∏–¥–Ω–æ 10-11 —Ü–∏—Ñ—Ä - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ
- –ò—â–∏ –ò–ù–ù: –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –≤ —Ü–µ–Ω—Ç—Ä–µ –∫—Ä—É–ø–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏, –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞–ø—Ä–æ—Ç–∏–≤ "–ò–ù–ù", –≤ —à–∞–ø–∫–µ
- –ù–ï –ø—É—Ç–∞–π —Å –û–ì–†–ù (13-15 —Ü–∏—Ñ—Ä), –°–ù–ò–õ–° (11 —Ü–∏—Ñ—Ä), –¥–∞—Ç–∞–º–∏, –Ω–æ–º–µ—Ä–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–ò–ù–ù": "XXXXXXXXXXXX",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–î–∞—Ç–∞_—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–í–∏–¥_–¥–æ–∫—É–º–µ–Ω—Ç–∞": "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –ò–ù–ù / –í—ã–ø–∏—Å–∫–∞ –§–ù–°"
}

–í–ê–ñ–ù–û: –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–µ–ª 12-–∑–Ω–∞—á–Ω—ã–π –Ω–æ–º–µ—Ä –ò–ù–ù, –Ω–æ –≤–∏–¥–∏—à—å –§–ò–û ‚Äî –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–µ—Ä–Ω–∏ JSON —Å –ò–ù–ù=null.
–ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–π!"""
        },
        "—Å–Ω–∏–ª—Å": {
            "keywords": ["—Å–Ω–∏–ª—Å", "—Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ", "—Å—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä", "–∑–µ–ª—ë–Ω–∞—è", "—Å—Ñ—Ä", "—Å—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á–µ—Ç–∞", "–ø—Ñ—Ä", "–ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–π —Ñ–æ–Ω–¥", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á–µ—Ç–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–°–ù–ò–õ–°) ‚Äî —Å—Ç–∞—Ä—ã–π –∑–µ–ª—ë–Ω—ã–π –ø–ª–∞—Å—Ç–∏–∫ –∏–ª–∏ –Ω–æ–≤–∞—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢–´ –°–ù–ò–õ–°:
–°–ù–ò–õ–° –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: 123-456-789 12
- –°–ª–∏—Ç–Ω–æ: 12345678912
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 123 456 789 12
- –ë–µ–∑ –¥–µ—Ñ–∏—Å–æ–≤: 123 456 789 12
- –° —Ç–æ—á–∫–∞–º–∏: 123.456.789.12
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –°–ù–ò–õ–° –í–°–ï–ì–î–ê 11 —Ü–∏—Ñ—Ä –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ XXX-XXX-XXX XX
- –ò—â–∏ ~11 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏: "–°–ù–ò–õ–°", "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä", "–°–§–†"
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Ç–æ—á–∫–∏
- –ü—Ä–∏–≤–µ–¥–∏ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É: XXX-XXX-XXX XX (—Å –¥–µ—Ñ–∏—Å–∞–º–∏ –º–µ–∂–¥—É —Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–º –ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–≤–æ–π–∫–æ–π)
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã 9-10 —Ü–∏—Ñ—Ä
- –ù–ï –ø—É—Ç–∞–π —Å –ò–ù–ù (12 —Ü–∏—Ñ—Ä), —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, –¥—Ä—É–≥–∏–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏

1. –°—Ç–∞—Ä—ã–π –±–ª–∞–Ω–∫:
        - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–°—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ" –∏ —Å—Ç—Ä–æ–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä" ‚Äî —Ñ–æ—Ä–º–∞—Ç XXX-XXX-XXX XX.
        - –ù–∏–∂–µ –±–ª–æ–∫ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ".
        - –í–Ω–∏–∑—É —Å–ª–µ–≤–∞ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è" –∏ "–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è".
        - –ü–æ–¥ –ø–æ–¥–ø–∏—Å—å—é —Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç–µ–ª—è ‚Äî –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏.
2. –ù–æ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –°–§–†:
        - –®–∞–ø–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞" ‚Äî —Ä—è–¥–æ–º –°–ù–ò–õ–°.
        - –¢–∞–±–ª–∏—Ü–∞ —Å –§–ò–û, –¥–∞—Ç–æ–π –∏ –º–µ—Å—Ç–æ–º —Ä–æ–∂–¥–µ–Ω–∏—è.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –º–∞–∫–µ—Ç: –Ω–æ–º–µ—Ä –∫—Ä—É–ø–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–µ, –§–ò–û –±–ª–æ–∫–æ–º –Ω–∏–∂–µ, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥ –§–ò–û.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–°–ù–ò–õ–°": "XXX-XXX-XXX XX",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–¢–∏–ø_–±–ª–∞–Ω–∫–∞": "–∫–∞—Ä—Ç–∞ 1997/—Å–ø—Ä–∞–≤–∫–∞ –°–§–†"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å–∑–∏–∏–ª—Å": {
            "keywords": ["—Å–∑–∏-–∏–ª—Å", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ", "–∏–ø–∫", "—Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ", "—Å–∑–∏–∏–ª—Å", "—Å–≤–µ–¥–µ–Ω–∏—è –æ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–Ω–æ–º –ª–∏—Ü–µ", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ª–∏—Ü–µ–≤–æ–π —Å—á–µ—Ç", "–ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–µ –±–∞–ª–ª—ã", "—Å—Ç–∞–∂", "—Å—Ñ—Ä", "–ø—Ñ—Ä"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞" (—Ñ–æ—Ä–º–∞ –°–ó–ò-–ò–õ–°).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–ù–∞–π–¥–∏ –≤ —à–∞–ø–∫–µ: –§–ò–û, –°–ù–ò–õ–°, –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, –¥–∞—Ç—É —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è ("–¥–∞—Ç–∞ –ø—Ä–∏—ë–º–∞" –∏–ª–∏ "—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–æ").
–°—Ç—Ä–æ–∫–∞ "–í–µ–ª–∏—á–∏–Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞" ‚Äî —á–∏—Å–ª–æ —Å —Ç–æ—á–∫–æ–π.
–í–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞ —É–∫–∞–∑–∞–Ω —Ä–∞—Å—á—ë—Ç–Ω—ã–π –ø–µ–Ω—Å–∏–æ–Ω–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª (—Ä—É–±–ª–∏ –∏ –∫–æ–ø–µ–π–∫–∏).
–¢–∞–±–ª–∏—Ü–∞ 1 –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç –ø–µ—Ä–∏–æ–¥—ã —Å 2015 –≥–æ–¥–∞: –ø–µ—Ä–∏–æ–¥, —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å, —Å—É–º–º—ã –≤—ã–ø–ª–∞—Ç, –≤–∑–Ω–æ—Å–æ–≤, –≤–µ–ª–∏—á–∏–Ω—É –ò–ü–ö, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.
–ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª—ã –æ –ø–µ—Ä–∏–æ–¥–∞—Ö –¥–æ 2015 –≥–æ–¥–∞ ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏ –∏—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–ø–∏—Å–∫–æ–º.
–ü—Ä–∏ —Å–ª–∞–±–æ–º OCR –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ –∫–æ–ª–æ–Ω–∫–∏ "–ü–µ—Ä–∏–æ–¥", "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "–°—É–º–º–∞ –≤—ã–ø–ª–∞—Ç".

JSON:
{
        "–§–ò–û": "...",
        "–°–ù–ò–õ–°": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–î–∞—Ç–∞_—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ò–ü–ö": "...",
        "–ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π_–∫–∞–ø–∏—Ç–∞–ª": "...",
        "–ü–µ—Ä–∏–æ–¥—ã": [
                {
                        "–ü–µ—Ä–∏–æ–¥": "01.01.2019-31.12.2019",
                        "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å": "...",
                        "–°—É–º–º–∞_–≤—ã–ø–ª–∞—Ç": "...",
                        "–°—É–º–º–∞_–≤–∑–Ω–æ—Å–æ–≤": "...",
                        "–ò–ü–ö": "...",
                        "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": "..."
                }
        ],
        "–ü–µ—Ä–∏–æ–¥—ã_–¥–æ_2015": ["..."]
}
–ü—É—Å—Ç—ã–µ –ø–æ–ª—è = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç [] –∏ null, –Ω–æ –∫–ª—é—á–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ": {
            "keywords": ["–Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", "–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è", "–Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏", "–∫–æ–ø–∏—è –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –Ω–∞–ª–æ–≥", "–Ω–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü", "–≤—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ", "–∑–µ–º–µ–ª—å–Ω—ã–π –Ω–∞–ª–æ–≥", "—Ñ–Ω—Å", "–Ω–∞–ª–æ–≥–æ–≤–∞—è —Å–ª—É–∂–±–∞"],
            "prompt": """–ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –§–ù–° –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–ø–ª–∞—Ç—ã –Ω–∞–ª–æ–≥–æ–≤.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –ù–æ–º–µ—Ä –∏ –¥–∞—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–≤ —à–∞–ø–∫–µ)
- –§–ò–û –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞
- –ò–ù–ù –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞
- –°—Ä–æ–∫ —É–ø–ª–∞—Ç—ã
- –í–°–ï –Ω–∞–ª–æ–≥–∏ –∫ —É–ø–ª–∞—Ç–µ (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π, –∑–µ–º–µ–ª—å–Ω—ã–π, –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ –∏ —Ç.–¥.)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–ª–æ–≥–∞ –∏–∑–≤–ª–µ–∫–∏:
- –í–∏–¥ –Ω–∞–ª–æ–≥–∞ (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –Ω–∞–ª–æ–≥, –Ω–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –∏ —Ç.–¥.)
- –ù–∞–ª–æ–≥–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥ (–≥–æ–¥)
- –°—É–º–º–∞ –∏—Å—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞–ª–æ–≥–∞

JSON:
{
        "–ù–æ–º–µ—Ä": "...",
        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–§–ò–û": "...",
        "–ò–ù–ù": "...",
        "–°—Ä–æ–∫_—É–ø–ª–∞—Ç—ã": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ù–∞–ª–æ–≥–∏": [
                {
                        "–í–∏–¥": "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –Ω–∞–ª–æ–≥/–ù–∞–ª–æ–≥ –Ω–∞ –∏–º—É—â–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü/...",
                        "–ü–µ—Ä–∏–æ–¥": "–ì–ì–ì–ì",
                        "–°—É–º–º–∞": "—á–∏—Å–ª–æ –≤ —Ä—É–±–ª—è—Ö"
                }
        ],
        "–í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ": "—á–∏—Å–ª–æ –≤ —Ä—É–±–ª—è—Ö"
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–¥–æ—Ö–æ–¥—ã": {
            "keywords": ["2-–Ω–¥—Ñ–ª", "–∫–Ω–¥ 1175018", "—Å–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Ö–æ–¥–∞—Ö"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –æ –¥–æ—Ö–æ–¥–∞—Ö –∏ —Å—É–º–º–∞—Ö –Ω–∞–ª–æ–≥–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (—Ñ–æ—Ä–º–∞ 2-–ù–î–§–õ / –ö–ù–î 1175018). –í –æ–¥–Ω–æ–º PDF –æ–±—ã—á–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî –∫–∞–∂–¥–∞—è –∑–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–æ–¥.

–í–ê–ñ–ù–û: –°–æ–±–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∑–∞ –í–°–ï –≥–æ–¥—ã, –Ω–æ –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–∞—Ö —É—á–∏—Ç—ã–≤–∞–π, —á—Ç–æ –ê–ö–¢–£–ê–õ–ï–ù –ø–æ—Å–ª–µ–¥–Ω–∏–π (—Å–∞–º—ã–π —Å–≤–µ–∂–∏–π) –≥–æ–¥.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø—Ä–µ–¥–µ–ª–∏:
- –ì–æ–¥ –∏ –¥–∞—Ç—É –≤—ã–¥–∞—á–∏: —Å—Ç—Ä–æ–∫–∞ "–∑–∞ ..." + –¥–∞—Ç–∞ —Å–ø—Ä–∞–≤–∞.
- –†–∞–∑–¥–µ–ª 1: –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞, –ò–ù–ù, –ö–ü–ü, –û–ö–¢–ú–û, —Ç–µ–ª–µ—Ñ–æ–Ω.
- –†–∞–∑–¥–µ–ª 2: –§–ò–û –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞, –µ–≥–æ –ò–ù–ù, —Å—Ç–∞—Ç—É—Å, –∫–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞, —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è.
- –†–∞–∑–¥–µ–ª 5: –æ–±—â–∞—è —Å—É–º–º–∞ –¥–æ—Ö–æ–¥–∞, –Ω–∞–ª–æ–≥–æ–≤–∞—è –±–∞–∑–∞, –Ω–∞–ª–æ–≥ –∏—Å—á–∏—Å–ª–µ–Ω–Ω—ã–π, –Ω–∞–ª–æ–≥ —É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π, –Ω–∞–ª–æ–≥ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π.
- –†–∞–∑–¥–µ–ª 6 (–µ—Å–ª–∏ –µ—Å—Ç—å): —Å—É–º–º—ã –¥–æ—Ö–æ–¥–∞ –∏ –Ω–∞–ª–æ–≥–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–µ—Ä–∂–∞–Ω—ã.
–ï—Å–ª–∏ OCR –Ω–µ –≤–∏–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É, –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–æ—Ä–º—ã ‚Äî —Ä–∞–∑–¥–µ–ª—ã –Ω—É–º–µ—Ä—É—é—Ç—Å—è –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –º–µ—Å—Ç–∞—Ö.

–í–µ—Ä–Ω–∏ JSON:
{
        "–§–ò–û": "...",
        "–ò–ù–ù": "...",
        "–°–ø—Ä–∞–≤–∫–∏": [
                {
                        "–ì–æ–¥": "2021",
                        "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–ù–∞–ª–æ–≥–æ–≤—ã–π_–∞–≥–µ–Ω—Ç": {
                                "–ù–∞–∑–≤–∞–Ω–∏–µ": "...",
                                "–ò–ù–ù": "...",
                                "–ö–ü–ü": "...",
                                "–û–ö–¢–ú–û": "...",
                                "–¢–µ–ª–µ—Ñ–æ–Ω": "..."
                        },
                        "–î–æ–∫—É–º–µ–Ω—Ç_–ª–∏—á–Ω–æ—Å—Ç–∏": {
                                "–ö–æ–¥": "...",
                                "–°–µ—Ä–∏—è_–Ω–æ–º–µ—Ä": "..."
                        },
                        "–û–±—â–∞—è_—Å—É–º–º–∞_–¥–æ—Ö–æ–¥–∞": "...",
                        "–ù–∞–ª–æ–≥–æ–≤–∞—è_–±–∞–∑–∞": "...",
                        "–ù–∞–ª–æ–≥_–∏—Å—á–∏—Å–ª–µ–Ω–Ω—ã–π": "...",
                        "–ù–∞–ª–æ–≥_—É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π": "...",
                        "–ù–∞–ª–æ–≥_–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–π": "...",
                        "–ù–µ—É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π_–¥–æ—Ö–æ–¥": "...",
                        "–ù–µ—É–¥–µ—Ä–∂–∞–Ω–Ω—ã–π_–Ω–∞–ª–æ–≥": "..."
                }
        ]
}
–°–ø—Ä–∞–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –≥–æ–¥—É (–æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º). –ï—Å–ª–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ —Ä–∞–∑–¥–µ–ª–∞ –Ω–µ—Ç, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π.""",
        },
        "—Ç—Ä—É–¥–æ–≤–∞—è": {
            "keywords": ["—Ç—Ä—É–¥–æ–≤", "—Å–∑–≤", "—Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π", "—Ç—Ä—É–¥–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞", "—Å–∑–≤-—Å—Ç–∞–∂", "—Å–∑–≤-–º", "—Å—Ñ—Ä", "–ø—Ñ—Ä", "—Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "–≠–¢–ö", "—ç—Ç–∫", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ —ç—Ç–∫", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –≠–¢–ö", "—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Ç—Ä—É–¥–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞", "—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Ç—Ä—É–¥–æ–≤–∞—è"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –°–§–† "–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏" (—Ñ–æ—Ä–º–∞ –°–¢–î-–†/–°–¢–î-–ü–§–†).

–í–ê–ñ–ù–û: –û–ø—Ä–µ–¥–µ–ª–∏ –ê–ö–¢–£–ê–õ–¨–ù–û–ï –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã!
- –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å ‚Äî "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ", –∑–Ω–∞—á–∏—Ç —á–µ–ª–æ–≤–µ–∫ —Å–µ–π—á–∞—Å –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç.
- –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å ‚Äî "–ü—Ä–∏—ë–º" –∏–ª–∏ "–ü–µ—Ä–µ–≤–æ–¥", –∑–Ω–∞—á–∏—Ç —á–µ–ª–æ–≤–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ç–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.
- –ò–≥–Ω–æ—Ä–∏—Ä—É–π –∑–∞–ø–∏—Å–∏ —Å –æ—Ç–º–µ—Ç–∫–æ–π "–û—Ç–º–µ–Ω–∞" ‚Äî –æ–Ω–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–°–æ–±–µ—Ä–∏:
- –§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –°–ù–ò–õ–° –∏–∑ —à–∞–ø–∫–∏.
- –¢–∞–±–ª–∏—Ü—É –∑–∞–ø–∏—Å–µ–π: –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏ —É–∫–∞–∂–∏ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –°–§–†, –¥–∞—Ç—É —Å–æ–±—ã—Ç–∏—è, –¥–µ–π—Å—Ç–≤–∏–µ (–ø—Ä–∏—ë–º/–ø–µ—Ä–µ–≤–æ–¥/—É–≤–æ–ª—å–Ω–µ–Ω–∏–µ), –¥–æ–ª–∂–Ω–æ—Å—Ç—å/—Ç—Ä—É–¥–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞, –ø—Ä–∏–∑–Ω–∞–∫ –æ—Ç–º–µ–Ω—ã.
- –†–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥—ã –¥–æ 31 –¥–µ–∫–∞–±—Ä—è 2019 –≥–æ–¥–∞" ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏ –ø–µ—Ä–∏–æ–¥—ã —Ç–µ–∫—Å—Ç–æ–º.
- –û–ø—Ä–µ–¥–µ–ª–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã: –µ—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ –Ω–µ "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ" ‚Äî —É–∫–∞–∂–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç—å –≤ –ø–æ–ª–µ "–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞".
–ï—Å–ª–∏ OCR —Å–ª–∞–±—ã–π, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞" ‚Äî —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ–≥–æ —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ 1-11.

JSON:
{
        "–§–ò–û": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–°–ù–ò–õ–°": "...",
        "–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –î–æ–ª–∂–Ω–æ—Å—Ç—å" –∏–ª–∏ null (–µ—Å–ª–∏ —É–≤–æ–ª–µ–Ω),
        "–ó–∞–ø–∏—Å–∏": [
                {
                        "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å": "...",
                        "–†–µ–≥–ù–æ–º–µ—Ä": "...",
                        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–°–æ–±—ã—Ç–∏–µ": "–ü—Ä–∏—ë–º/–ü–µ—Ä–µ–≤–æ–¥/–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ",
                        "–î–æ–ª–∂–Ω–æ—Å—Ç—å": "...",
                        "–î–æ–∫—É–º–µ–Ω—Ç": "...",
                        "–û—Ç–º–µ–Ω–∞": false
                }
        ],
        "–ü–µ—Ä–∏–æ–¥—ã_–¥–æ_2019": ["..."]
}
–ó–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ (–æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º). –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å—á–µ—Ç–∞": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ —Å—á–µ—Ç–∞—Ö", "—Å—á–µ—Ç–∞", "–±–∞–Ω–∫–æ–≤", "–Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞", "—Ä–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–∞—Ö –∫–ª–∏–µ–Ω—Ç–∞.

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –≤ json, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫ –∏ —Ç.–¥.

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ò–ó–í–õ–ï–ö–ê–ô –í–°–ï –°–ß–ï–¢–ê:
- –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏ –í–ï–°–¨ –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞ –∏ –Ω–∞–π–¥–∏ –í–°–ï —Å—á–µ—Ç–∞!
- –ß–∏—Ç–∞–π —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å—Ç—Ä–æ—á–Ω–æ –¥–æ —Å–∞–º–æ–≥–æ –∫–æ–Ω—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π —Å—Ç—Ä–æ–∫–∏!
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∞–π: —Ç–µ–∫—É—â–∏–µ —Å—á–µ—Ç–∞, —Å—á–µ—Ç–∞ –ø–æ –≤–∫–ª–∞–¥—É, –¥–µ–ø–æ–∑–∏—Ç–Ω—ã–µ —Å—á–µ—Ç–∞, –∫–∞—Ä—Ç–æ—á–Ω—ã–µ —Å—á–µ—Ç–∞
- –ï—Å–ª–∏ –≤ —Å–ø—Ä–∞–≤–∫–µ 5 —Å—á–µ—Ç–æ–≤ - –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ 5! –ï—Å–ª–∏ 10 —Å—á–µ—Ç–æ–≤ - –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ 10! –ï—Å–ª–∏ 20 - –≤—Å–µ 20!
- –û–¥–∏–Ω –±–∞–Ω–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û —Å—á–µ—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –°–±–µ—Ä–±–∞–Ω–∫ —Ç–µ–∫—É—â–∏–π –≤ –ú–æ—Å–∫–≤–µ + –°–±–µ—Ä–±–∞–Ω–∫ –≤–∫–ª–∞–¥ –≤ –ß–µ–ª—è–±–∏–Ω—Å–∫–µ + –°–±–µ—Ä–±–∞–Ω–∫ –¥–µ–ø–æ–∑–∏—Ç)
- –ù–ï –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤—ã—Ö –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫ - —á–∏—Ç–∞–π —Ç–∞–±–ª–∏—Ü—É –¥–æ –∫–æ–Ω—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞!

–ü–û–õ–ï "–¢–∏–ø" - –∫–æ–ø–∏—Ä—É–π –≤–∏–¥ —Å—á–µ—Ç–∞ –¢–û–ß–ù–û –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –ü—Ä–∏–º–µ—Ä—ã: "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç", "–°—á–µ—Ç –ø–æ –≤–∫–ª–∞–¥—É", "–°—á–µ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞", "–ó–∞–ª–æ–≥–æ–≤—ã–π —Å—á–µ—Ç"
- –ù–æ—Ä–º–∞–ª–∏–∑—É–π —Ä–µ–≥–∏—Å—Ç—Ä: –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–µ
- "–¢–ï–ö–£–©–ò–ô –°–ß–ï–¢" ‚Üí "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç", "–°–ß–ï–¢ –ü–û –í–ö–õ–ê–î–£" ‚Üí "–°—á–µ—Ç –ø–æ –≤–∫–ª–∞–¥—É"

–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (–≤–∫–ª—é—á–∞–π —Ç–æ–ª—å–∫–æ –ê–ö–¢–ò–í–ù–´–ï):
- ‚úÖ –í–ö–õ–Æ–ß–ê–ô: "–æ—Ç–∫—Ä—ã—Ç", "–¢–µ–∫—É—â–∏–π —Å—á–µ—Ç", "–°—á–µ—Ç –ø–æ –≤–∫–ª–∞–¥—É", "–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"
- ‚ùå –ù–ï –í–ö–õ–Æ–ß–ê–ô: "–∑–∞–∫—Ä—ã—Ç", "–†–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç", "–ó–∞–∫—Ä—ã—Ç –ø–æ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–µ –∫–ª–∏–µ–Ω—Ç–∞", "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–æ –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"

–û–ø—Ä–µ–¥–µ–ª–∏:
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –≤—ã–¥–∞–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç (—à–∞–ø–∫–∞ –∏–ª–∏ –ø–æ–¥–ø–∏—Å—å).
- –§–ò–û –∫–ª–∏–µ–Ω—Ç–∞ –∏ –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã.
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ –∏ –∏—Å—Ö–æ–¥—è—â–∏–π –Ω–æ–º–µ—Ä (–æ–±—ã—á–Ω–æ —Ä—è–¥–æ–º —Å –ø–æ–¥–ø–∏—Å—å—é –∏–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º).
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ —Å—á–µ—Ç–∞–º–∏: –±–∞–Ω–∫ (–ü–û–õ–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ —Å –∞–¥—Ä–µ—Å–æ–º –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω), —Ç–∏–ø —Å—á—ë—Ç–∞ (—Ä–∞—Å—á—ë—Ç–Ω—ã–π, –¥–µ–ø–æ–∑–∏—Ç–Ω—ã–π, –∫–∞—Ä—Ç–æ—á–Ω—ã–π), –Ω–æ–º–µ—Ä/IBAN, –≤–∞–ª—é—Ç–∞, –¥–∞—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è, —Å—Ç–∞—Ç—É—Å, –æ—Å—Ç–∞—Ç–æ–∫, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–º–µ—Ç–∫–∏.

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ü–æ–ª–µ "–ë–∞–Ω–∫": –∏–∑–≤–ª–µ–∫–∞–π –ü–û–õ–ù–û–ï –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ë–ï–ó –∞–¥—Ä–µ—Å–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–π: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫
- –ü–æ–ª–µ "–ê–¥—Ä–µ—Å_–±–∞–Ω–∫–∞": –ò–ó–í–õ–ï–ö–ê–ô –ü–û–õ–ù–´–ô –ê–î–†–ï–° –±–∞–Ω–∫–∞ –∏–∑ —Å–ø—Ä–∞–≤–∫–∏ —Ü–µ–ª–∏–∫–æ–º!
  –ü—Ä–∏–º–µ—Ä—ã:
  - "420066, –≥. –ö–∞–∑–∞–Ω—å, —É–ª. –î–µ–∫–∞–±—Ä–∏—Å—Ç–æ–≤, 1"
  - "–†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª–∏—Ü–∞ –í–∞–≤–∏–ª–æ–≤–∞, –¥–æ–º 19"
  - –ù–ï —Å–æ–∫—Ä–∞—â–∞–π –∞–¥—Ä–µ—Å, –∫–æ–ø–∏—Ä—É–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ!

–ü—Ä–∏ —Å–∫–∞–Ω–µ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–∏–ø–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ "–ë–∞–Ω–∫"/"–ù–æ–º–µ—Ä —Å—á—ë—Ç–∞"/"–°—Ç–∞—Ç—É—Å".

JSON:
{
        "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è": "...",
        "–§–ò–û": "...",
        "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–°—á–µ—Ç–∞": [
                {
                        "–ë–∞–Ω–∫": "–ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –ë–ï–ó –∞–¥—Ä–µ—Å–∞",
                        "–ê–¥—Ä–µ—Å_–±–∞–Ω–∫–∞": "–∞–¥—Ä–µ—Å –±–∞–Ω–∫–∞ –∏–∑ —Å–ø—Ä–∞–≤–∫–∏ (–≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º)",
                        "–¢–∏–ø": "...",
                        "–ù–æ–º–µ—Ä": "...",
                        "–í–∞–ª—é—Ç–∞": "...",
                        "–î–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–°—Ç–∞—Ç—É—Å": "...",
                        "–û—Å—Ç–∞—Ç–æ–∫": "..."
                }
        ]
}
–í –º–∞—Å—Å–∏–≤ "–°—á–µ—Ç–∞" –≤–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û –∞–∫—Ç–∏–≤–Ω—ã–µ —Å—á–µ—Ç–∞. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç ‚Äî null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []. –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ": {
            "keywords": ["—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏", "–∫–≤–∏-001", "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è", "–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–≤–µ–¥–µ–Ω–∏–π", "–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"],
            "prompt": """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –†–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞ –æ–± –û–¢–°–£–¢–°–¢–í–ò–ò –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö —Å–≤–µ–¥–µ–Ω–∏–π –∏–∑ –ï–ì–†–ù.

–í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ –ù–ï –≤—ã–ø–∏—Å–∫–∞ –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏!
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ = –¥–æ–∫—É–º–µ–Ω—Ç –æ —Ç–æ–º, —á—Ç–æ –¥–∞–Ω–Ω—ã—Ö –ù–ï–¢
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å "–≤ –ï–ì–†–ù –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è", "–¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã", "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî —ç—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–º –Ω–æ–º–µ—Ä–æ–º ‚Äî —ç—Ç–æ –≤—ã–ø–∏—Å–∫–∞, –Ω–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–ù–∞–π–¥–∏:
- –ù–æ–º–µ—Ä –∏ –¥–∞—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º –±–ª–æ–∫–µ).
- –ö–æ–º—É –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–æ (–∑–∞—è–≤–∏—Ç–µ–ª—å/–ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å).
- –í–∏–¥ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø—É–Ω–∫—Ç–µ 1.
- –ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å (–æ –∫–æ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏—Å—å —Å–≤–µ–¥–µ–Ω–∏—è): –§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ø–∞—Å–ø–æ—Ä—Ç, –°–ù–ò–õ–°, –∞–¥—Ä–µ—Å.
- –ü–µ—Ä–∏–æ–¥, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª–∏—Å—å —Å–≤–µ–¥–µ–Ω–∏—è.
- –¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è (–≥–¥–µ –∏—Å–∫–∞–ª–∏).
- –ò—Ç–æ–≥: "–≤ –ï–ì–†–ù –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è" ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–ü—Ä–∏ —Å–∫–∞–Ω–∞—Ö –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è: –æ—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ —Å–ª–µ–≤–∞, —Ç–∞–±–ª–∏—Ü–∞ —Å –ø—É–Ω–∫—Ç–∞–º–∏ 1-2 —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞.

JSON:
{
        "–ù–æ–º–µ—Ä": "...",
        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ê–¥—Ä–µ—Å–∞—Ç": "...",
        "–í–∏–¥_–∑–∞–ø—Ä–æ—Å–∞": "...",
        "–ü–µ—Ä–∏–æ–¥": {
                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"
        },
        "–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è": "...",
        "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å": {
                "–§–ò–û": "...",
                "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–∞—Å–ø–æ—Ä—Ç": "...",
                "–°–ù–ò–õ–°": "...",
                "–ê–¥—Ä–µ—Å": "..."
        },
        "–†–µ–∑—É–ª—å—Ç–∞—Ç": "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"
}

–í–ê–ñ–ù–û: "–†–µ–∑—É–ª—å—Ç–∞—Ç" –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
–ü—É—Å—Ç—ã–µ –ø–æ–ª—è = null. –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤."""
        },
        "–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞": {
            "keywords": ["–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –µ–¥–∏–Ω–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Å–≤–µ–¥–µ–Ω–∏—è –∏–∑ –µ–≥—Ä–Ω", "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä", "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å", "–æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Å–≤–µ–¥–µ–Ω–∏—è –µ–≥—Ä–Ω", "–µ–≥—Ä–Ω", "—Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Ä–æ—Å—Ä–µ–µ—Å—Ç—Ä", "–µ–¥–∏–Ω—ã–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "–ø—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏", "–≤—ã–ø–∏—Å–∫–∞ —Ä–æ—Å—Ä–µ–µ—Å—Ç—Ä", "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –æ –ø—Ä–∞–≤–∞—Ö –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ª–∏—Ü–∞", "–∏–º–µ–≤—à–∏–µ—Å—è –∏–º–µ—é—â–∏–µ—Å—è", "–æ–±—ä–µ–∫—Ç—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏", "—Ñ–∏–ª–∏–∞–ª –ø—É–±–ª–∏—á–Ω–æ –ø—Ä–∞–≤–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏", "—Ä–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞ –ø–æ —Ä–µ—Å–ø—É–±–ª–∏–∫–µ"],
            "prompt": """–í—ã–ø–∏—Å–∫–∞ –∏–∑ –ï–ì–†–ù —Å –ü–û–î–†–û–ë–ù–´–ú–ò —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–ï –ò–ú–£–©–ï–°–¢–í–ê:

–ï–°–õ–ò –í–ò–î–ò–®–¨ –ö–ê–î–ê–°–¢–†–û–í–´–ô –ù–û–ú–ï–† (XX:XX:XXXXXXX:XXXX) ‚Üí –ò–ú–£–©–ï–°–¢–í–û –ï–°–¢–¨!
- –î–∞–∂–µ –û–î–ò–ù –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä = –æ–±—ä–µ–∫—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ = {"–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": true}
- –î–∞–∂–µ –µ—Å–ª–∏ –∞–¥—Ä–µ—Å —Ä–∞–∑–º—ã—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ - –µ—Å–ª–∏ –µ—Å—Ç—å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä, –∏–º—É—â–µ—Å—Ç–≤–æ –ï–°–¢–¨!

–£–í–ï–î–û–ú–õ–ï–ù–ò–ï –û–ë –û–¢–°–£–¢–°–¢–í–ò–ò (–∏–º—É—â–µ—Å—Ç–≤–∞ –ù–ï–¢):
- –§—Ä–∞–∑—ã: "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –í–∞–º–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", "–≤ –ï–ì–†–ù –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è"
- –ù–ï–¢ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ –≤–æ–æ–±—â–µ
- –¢–∞–±–ª–∏—Ü–∞ –ü–£–°–¢–ê–Ø –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ "–í–∏–¥ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏" –ë–ï–ó –¥–∞–Ω–Ω—ã—Ö
- –¢–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ: {"–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": false, "–ü—Ä–∏—á–∏–Ω–∞": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏"}

–í–´–ü–ò–°–ö–ê –° –ò–ú–£–©–ï–°–¢–í–û–ú (–∏–º—É—â–µ—Å—Ç–≤–æ –ï–°–¢–¨):
- –ï–°–¢–¨ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä (—Ñ–æ—Ä–º–∞—Ç: 74:19:1201002:4460 –∏–ª–∏ XX:XX:XXXXXXX:XXXX)
- –ï—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –æ–±—ä–µ–∫—Ç–∞
- –ï—Å—Ç—å —Ä–∞–∑–¥–µ–ª —Å –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö –§–ò–û
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: {"–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": true, "–û–±—ä–µ–∫—Ç—ã": [...]}

–ê–õ–ì–û–†–ò–¢–ú –ü–†–û–í–ï–†–ö–ò:
1. –ù–∞–π–¥–∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä ‚Üí –µ—Å–ª–∏ –µ—Å—Ç—å ‚Üí –∏–º—É—â–µ—Å—Ç–≤–æ –ï–°–¢–¨
2. –ù–µ—Ç –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ ‚Üí –∏—â–∏ —Ñ—Ä–∞–∑—É "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è" ‚Üí –∏–º—É—â–µ—Å—Ç–≤–∞ –ù–ï–¢
3. –ü—Ä–∏ –ª—é–±—ã—Ö —Å–æ–º–Ω–µ–Ω–∏—è—Ö: –µ—Å—Ç—å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä = –∏–º—É—â–µ—Å—Ç–≤–æ –ï–°–¢–¨

–í–ê–ñ–ù–û: –ü–æ–∫–∞–∑—ã–≤–∞–π —Ç–æ–ª—å–∫–æ –ê–ö–¢–£–ê–õ–¨–ù–´–• –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π!
- –ï—Å–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏" –µ—Å—Ç—å –æ—Ç–º–µ—Ç–∫–∏ "–ü—Ä–∞–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ", "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∞" ‚Äî –ù–ï –≤–∫–ª—é—á–∞–π –∏—Ö.
- –í–∫–ª—é—á–∞–π —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–∏ —Å —Ç–µ–∫—É—â–∏–º–∏ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–º–∏) –ø—Ä–∞–≤–∞–º–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.
- –ï—Å–ª–∏ –ø—Ä–∞–≤–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å (–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ) ‚Äî —É–∫–∞–∑—ã–≤–∞–π —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ (—Ç–µ–∫—É—â–µ–≥–æ) –≤–ª–∞–¥–µ–ª—å—Ü–∞.
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–º–µ–Ω–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ!
- –ò–º—É—â–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –∏–ø–æ—Ç–µ–∫–µ, –Ω–æ –æ–Ω–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞–π —Ç–∞–∫–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ.
- –ï—Å–ª–∏ "–¥–∞—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–∞–≤–∞: –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" ‚Äî –∑–Ω–∞—á–∏—Ç –ø—Ä–∞–≤–æ –¥–µ–π—Å—Ç–≤—É–µ—Ç, –≤–∫–ª—é—á–∞–π –∏–º—É—â–µ—Å—Ç–≤–æ.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–†–ê–ë–û–¢–ê –° –ê–î–†–ï–°–ê–ú–ò –û–ë–™–ï–ö–¢–û–í:
- –ê–¥—Ä–µ—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º—ã—Ç –∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω –ó–ê–ì–õ–ê–í–ù–´–ú–ò –ë–£–ö–í–ê–ú–ò - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
- –ò—â–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: —Ä–µ–≥–∏–æ–Ω/–æ–±–ª–∞—Å—Ç—å, –≥–æ—Ä–æ–¥/–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π –ø—É–Ω–∫—Ç, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–æ—Ä–ø—É—Å, –∫–≤–∞—Ä—Ç–∏—Ä–∞/–ø–æ–º–µ—â–µ–Ω–∏–µ
- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–£–õ.", "–î.", "–î–û–ú", "–ö–û–†–ü.", "–°–¢–†–û–ï–ù–ò–ï", "–°–¢–†.", "–ö–í.", "–ü–û–ú.", "–û–§–ò–°"
- –§–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞: "–≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –ö—Ä–∞—Å–Ω–æ–º–æ–ª–æ—Ç–æ–≤–∞, –¥. 65, –∫–æ—Ä–ø. 1, –∫–≤. 35"
- –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–∑–º—ã—Ç - —Ä–∞–∑–±–∏—Ä–∞–π –ø–æ —á–∞—Å—Ç—è–º: –≥–æ—Ä–æ–¥ + —É–ª–∏—Ü–∞ –º–∏–Ω–∏–º—É–º
- –ß–∏—Å–ª–∞ (–Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤, –∫–≤–∞—Ä—Ç–∏—Ä) –æ–±—ã—á–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –ª—É—á—à–µ –Ω–∞–∑–≤–∞–Ω–∏–π —É–ª–∏—Ü
- –ü—Ä–∏–≤–æ–¥–∏ CAPS LOCK –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É: "–≥. –ß–µ–ª—è–±–∏–Ω—Å–∫", –∞ –Ω–µ "–ì. –ß–ï–õ–Ø–ë–ò–ù–°–ö"
- –ù–ï –æ—Å—Ç–∞–≤–ª—è–π "–ê–¥—Ä–µ—Å" –ø—É—Å—Ç—ã–º (null) –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –≥–æ—Ä–æ–¥ –∏ —É–ª–∏—Ü–∞ —á–∏—Ç–∞—é—Ç—Å—è!

–û–°–û–ë–ï–ù–ù–û–°–¢–ò –†–ê–°–ü–û–ó–ù–ê–í–ê–ù–ò–Ø:
- –í–°–ï–ì–î–ê –∏—â–∏ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä - –æ–Ω –æ–±—ã—á–Ω–æ –≤ –Ω–∞—á–∞–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XX:XX:XXXXXXX:XXXX
- –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π - –ø—Ä–æ–≤–µ—Ä—å –í–°–ï —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
- –í –æ–¥–Ω–æ–π –≤—ã–ø–∏—Å–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û –æ–±—ä–µ–∫—Ç–æ–≤ - –∏–∑–≤–ª–µ–∫–∞–π –≤—Å–µ
- –ü–ª–æ—â–∞–¥—å –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–∞ –∫–∞–∫ "–æ–±—â–∞—è", "–∂–∏–ª–∞—è", "–∑–µ–º–ª–∏" - –±–µ—Ä–º –æ–±—â—É—é
- –°—Ç–æ–∏–º–æ—Å—Ç—å –∏—â–∏ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å" –∏–ª–∏ "–†—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å"
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å —Ç–∞–±–ª–∏—Ü—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º–∏ - –∏–∑–≤–ª–µ–∫–∏ –≤—Å–µ—Ö —Å –∏—Ö –¥–æ–ª—è–º–∏

–ß–¢–û –ò–ó–í–õ–ï–ö–ê–¢–¨ –ò–ó –í–´–ü–ò–°–ö–ò:
- –ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!) –∏ –Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∞–ª–∞.
- –í–∏–¥ –æ–±—ä–µ–∫—Ç–∞ (–∂–∏–ª—å—ë, –∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫, –ø–æ–º–µ—â–µ–Ω–∏–µ –∏ —Ç.–ø.), –∞–¥—Ä–µ—Å, –ø–ª–æ—â–∞–¥—å, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç—Ç–∞–∂–µ–π, –º–∞—Ç–µ—Ä–∏–∞–ª —Å—Ç–µ–Ω, –≥–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏.
- –ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –°–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è—Ö: –§–ò–û/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –¥–æ–ª—è, –≤–∏–¥ –ø—Ä–∞–≤–∞, –¥–æ–∫—É–º–µ–Ω—Ç-–æ—Å–Ω–æ–≤–∞–Ω–∏–µ, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- –ï—Å–ª–∏ –µ—Å—Ç—å –±–ª–æ–∫ "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è/–æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è" ‚Äî –ø–µ—Ä–µ–Ω–µ—Å–∏ –¢–û–õ–¨–ö–û –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É–π "–ø–æ–≥–∞—à–µ–Ω–æ", "–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ").
- –°–î–ï–õ–ö–ê: –µ—Å–ª–∏ –≤–∏–¥–∏—à—å —Å–º–µ–Ω—É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∞–≤–∞ ‚Äî –∏–∑–≤–ª–µ–∫–∏ –¥–∞—Ç—É, —Å—Ç–æ—Ä–æ–Ω—ã —Å–¥–µ–ª–∫–∏, –æ—Å–Ω–æ–≤–∞–Ω–∏–µ (–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ –∏ —Ç.–¥.).
–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã: –ø–µ—Ä–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞, –≤—Ç–æ—Ä–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ.

JSON –î–õ–Ø –í–´–ü–ò–°–ö–ò –° –ò–ú–£–©–ï–°–¢–í–û–ú:
{
        "–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": true,
        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "...",
        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–∫–≤–∞—Ä—Ç–∞–ª": "...",
        "–û–±—ä–µ–∫—Ç": {
                "–í–∏–¥": "...",
                "–ê–¥—Ä–µ—Å": "...",
                "–ü–ª–æ—â–∞–¥—å": "...",
                "–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ": "...",
                "–≠—Ç–∞–∂–Ω–æ—Å—Ç—å": "...",
                "–ú–∞—Ç–µ—Ä–∏–∞–ª_—Å—Ç–µ–Ω": "...",
                "–ì–æ–¥_–ø–æ—Å—Ç—Ä–æ–π–∫–∏": "..."
        },
        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "...",
        "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏": [
                {
                        "–§–ò–û": "...",
                        "–î–æ–ª—è": "...",
                        "–¢–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–æ–±—â–µ–¥–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/–æ–±—â–∞—è —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å",
                        "–í–∏–¥_–ø—Ä–∞–≤–∞": "...",
                        "–î–æ–∫—É–º–µ–Ω—Ç": "...",
                        "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
                }
        ],
        "–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è": ["..."],
        "–ü—Ä–µ–¥—ã–¥—É—â–∏–µ_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏": [
                {
                        "–§–ò–û": "...",
                        "–î–∞—Ç–∞_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è_–ø—Ä–∞–≤–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
                        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–¥—Ä—É–≥–æ–µ"
                }
        ],
        "–°–¥–µ–ª–∫–∞": {
                "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true/false,
                "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/–¥—Ä—É–≥–æ–µ",
                "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü—Ä–µ–¥—ã–¥—É—â–∏–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": "...",
                "–ù–æ–≤—ã–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": "...",
                "–°—Ç–æ–∏–º–æ—Å—Ç—å": 0.00
        }
}

–û–ë–†–ï–ú–ï–ù–ï–ù–ò–Ø –ò –ó–ê–õ–û–ì–û–î–ï–†–ñ–ê–¢–ï–õ–ò:
- –ò—â–∏ —Ä–∞–∑–¥–µ–ª "–°–≤–µ–¥–µ–Ω–∏—è –æ –ø—Ä–∞–≤–∞—Ö –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è—Ö" –∏–ª–∏ "–ó–∞–ø–∏—Å–∏ –æ–± –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è—Ö"
- –¢–∏–ø—ã –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–π: –∏–ø–æ—Ç–µ–∫–∞, –∑–∞–ª–æ–≥, –∞—Ä–µ–Ω–¥–∞, –∞—Ä–µ—Å—Ç, –∑–∞–ø—Ä–µ—â–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫
- –ó–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å/–±–∞–Ω–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ø–æ–ª–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º: "–ê–û ¬´–ß–µ–ª—è–±–∏–Ω–≤–µ—Å—Ç–±–∞–Ω–∫¬ª", "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫"
- –ú–æ–∂–µ—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –∫—Ä–∞—Ç–∫–æ: "–ë–∞–Ω–∫ –í–¢–ë", "–¢-–ë–∞–Ω–∫", "–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫"
- –û–±—Ä–∞—â–∞–π –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ª–æ–≤–∞: "–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å", "–∫—Ä–µ–¥–∏—Ç–æ—Ä", "–±–∞–Ω–∫", "–≤ –ø–æ–ª—å–∑—É"
- –ï—Å–ª–∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–µ "–ø–æ–≥–∞—à–µ–Ω–æ" –∏–ª–∏ "–ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ" - —É–∫–∞–∂–∏ –≤ –ø–æ–ª–µ "–ü–æ–≥–∞—à–µ–Ω–æ": true
- –í –∫–∞–∂–¥–æ–º –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∑—ã–≤–∞–π –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—è/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –µ—Å–ª–∏ –æ–Ω —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ï—Å–ª–∏ –ù–ï–¢ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∏–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç" / "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" ‚Äî –≤–µ—Ä–Ω–∏:
  {
    "–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å": false,
    "–ü—Ä–∏—á–∏–Ω–∞": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤–µ–¥–µ–Ω–∏–π –≤ –ï–ì–†–ù"
  }
- –í "–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏" –∏ "–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è" –≤–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∑–∞–ø–∏—Å–∏
- –ï—Å–ª–∏ –≤–∏–¥–∏—à—å –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî –∑–∞–ø–æ–ª–Ω–∏ "–°–¥–µ–ª–∫–∞" —Å "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true
- –ü–æ–ª—è –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–π"""
        },
        "–ø–µ–Ω—Å–∏–∏": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ —Å—Ñ—Ä", "–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–µ–Ω—Å–∏—è—Ö", "–µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –¥–µ–Ω–µ–∂–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã", "–µ–¥–≤"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –°–§–† –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–µ–Ω—Å–∏—è—Ö –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç–∞—Ö.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–Ω–∞–∑–≤–∞–Ω–∏—è —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π).

–û–ø—Ä–µ–¥–µ–ª–∏:
- –°–ù–ò–õ–°, –§–ò–û, –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è (–≤ —à–∞–ø–∫–µ —Ä—è–¥–æ–º —Å –Ω–æ–º–µ—Ä–æ–º –¥–µ–ª–∞).
- –û—Ä–≥–∞–Ω, –≤—ã–¥–∞–≤—à–∏–π —Å–ø—Ä–∞–≤–∫—É, –Ω–æ–º–µ—Ä –∏ –¥–∞—Ç—É.
- –ü–µ—Ä–µ—á–µ–Ω—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã, –ø—Ä–∞–≤–æ–≤–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ (—Å—Ç–∞—Ç—å—è –∑–∞–∫–æ–Ω–∞), –ø–µ—Ä–∏–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä, —Å—Ç–∞—Ç—É—Å –ù–°–£ (–ª–µ–∫–∞—Ä—Å—Ç–≤–∞, —Å–∞–Ω–∞—Ç–æ—Ä–∏–π, –ø—Ä–æ–µ–∑–¥).
- –†–∞–∑–º–µ—Ä –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –¥–µ–Ω–µ–∂–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã (–ï–î–í) –∏ –≤–æ–ª–µ–∏–∑—ä—è–≤–ª–µ–Ω–∏–µ –ø–æ –Ω–∞–±–æ—Ä—É —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥.
- –¶–µ–ª—å –≤—ã–¥–∞—á–∏/–æ—Å–Ω–æ–≤–∞–Ω–∏–µ (–≤–Ω–∏–∑—É –¥–æ–∫—É–º–µ–Ω—Ç–∞).
–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∑–Ω–∞–π: —à–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä, –°–ù–ò–õ–° –∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è, —Ç–∞–±–ª–∏—Ü–∞ –≤—ã–ø–ª–∞—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ.

JSON:
{
        "–§–ò–û": "...",
        "–°–ù–ò–õ–°": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ù–æ–º–µ—Ä_—Å–ø—Ä–∞–≤–∫–∏": "...",
        "–î–∞—Ç–∞_—Å–ø—Ä–∞–≤–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Ä–≥–∞–Ω": "...",
        "–í—ã–ø–ª–∞—Ç—ã": [
                {
                        "–í–∏–¥": "...",
                        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "...",
                        "–ü–µ—Ä–∏–æ–¥": {
                                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"/"–±–µ—Å—Å—Ä–æ—á–Ω–æ"
                        },
                        "–†–∞–∑–º–µ—Ä": "...",
                        "–ù–°–£": {
                                "–õ–µ–∫–∞—Ä—Å—Ç–≤–∞": "...",
                                "–°–∞–Ω–∞—Ç–æ—Ä–∏–π": "...",
                                "–ü—Ä–æ–µ–∑–¥": "..."
                        }
                }
        ],
        "–ï–î–í": "...",
        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–≤—ã–¥–∞—á–∏": "..."
}
–ï—Å–ª–∏ –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç ‚Äî null. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –¥–æ–±–∞–≤–ª—è–π.""",
        },
        "–≤—ã–ø–ª–∞—Ç—ã": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ –≤—ã–ø–ª–∞—Ç–∞—Ö", "—Å—Ñ—Ä", "–≤—ã–ø–ª–∞—Ç–∞—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥", "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –°–§–† –æ –≤—ã–ø–ª–∞—Ç–∞—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–§–∏–∫—Å–∏—Ä—É–π:
- –§–ò–û, –°–ù–ò–õ–°, –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è (—à–∞–ø–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞).
- –û—Ä–≥–∞–Ω –°–§–†, –Ω–æ–º–µ—Ä, –¥–∞—Ç—É —Å–ø—Ä–∞–≤–∫–∏.
- –ü–µ—Ä–∏–æ–¥, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ ("–≤ –ø–µ—Ä–∏–æ–¥ —Å ... –ø–æ ...").
- –¢–∞–±–ª–∏—Ü—É –≤—ã–ø–ª–∞—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã, –ø—Ä–∞–≤–æ–≤–æ–µ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–∏–æ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, —Ä–∞–∑–º–µ—Ä, –ù–°–£ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ), —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã –ø–æ –º–µ—Å—è—Ü–∞–º.
- –ò—Ç–æ–≥–æ–≤—ã–µ —Å—É–º–º—ã.
–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã", "–û—Å–Ω–æ–≤–∞–Ω–∏—è", "–ü–µ—Ä–∏–æ–¥", "–†–∞–∑–º–µ—Ä".

JSON:
{
        "–§–ò–û": "...",
        "–°–ù–ò–õ–°": "...",
        "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ù–æ–º–µ—Ä_—Å–ø—Ä–∞–≤–∫–∏": "...",
        "–î–∞—Ç–∞_—Å–ø—Ä–∞–≤–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Ä–≥–∞–Ω": "...",
        "–ü–µ—Ä–∏–æ–¥": {
                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"
        },
        "–í—ã–ø–ª–∞—Ç—ã": [
                {
                        "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "...",
                        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "...",
                        "–ü–µ—Ä–∏–æ–¥": {
                                "–°": "–î–î.–ú–ú.–ì–ì–ì–ì",
                                "–ü–æ": "–î–î.–ú–ú.–ì–ì–ì–ì"/"–±–µ—Å—Å—Ä–æ—á–Ω–æ"
                        },
                        "–†–∞–∑–º–µ—Ä": "...",
                        "–ù–°–£": "...",
                        "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏": "..."
                }
        ]
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–æ—Ç—á–µ—Ç_–æ–∫–±": {
            "keywords": ["–∫—Ä–µ–¥–∏—Ç–Ω—ã–π –æ—Ç—á–µ—Ç", "–æ–∫–±", "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–µ –±—é—Ä–æ", "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –±—é—Ä–æ", "–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è", "–æ—Ç—á–µ—Ç –æ–∫–±", "–±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π"],
            "prompt": """

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∏–ª–∏ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∫–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.

–í —Ä–∞–∑–¥–µ–ª–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –µ—Å—Ç—å –∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ 1. 2. 3. –∏ —Ç.–¥. —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É, –Ω–µ –Ω—É–∂–Ω–æ –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—ã—Ç–∞—Ç—å—Å—è –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ä–∞–∑—É –∏—â–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É.

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –ü–ê–û ¬´–í–¢–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø (–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø / –ò–°–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´):

–ï—Å–ª–∏ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –•–û–¢–Ø –ë–´ –û–î–ù–û –∏–∑ —É—Å–ª–æ–≤–∏–π –Ω–∏–∂–µ,
–î–û–ì–û–í–û–† –ù–£–ñ–ù–û –ü–û–õ–ù–û–°–¢–¨–Æ –ü–†–û–ü–£–°–¢–ò–¢–¨ –∏ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –≤ JSON:

1. –í —Ä–∞–∑–¥–µ–ª–µ "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è "0 —Ä."
   (–Ω–∞ –ª—é–±—É—é –¥–∞—Ç—É –ø–æ—Å–ª–µ –¥–∞—Ç—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞).

2. –í —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–∫–∞:
   "–°—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–∞—Ç—É –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É–±—ä–µ–∫—Ç—É
    –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞".

3. –í –¥–µ—Ç–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–∑—ã—Å–∫–∞–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞,
   –≤–∫–ª—é—á–∞—è (–Ω–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å):
   ‚Äî "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å"
   ‚Äî "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
   ‚Äî "–§–°–°–ü"
   ‚Äî "—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤"
   ‚Äî "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"
   ‚Äî "–≤–∑—ã—Å–∫–∞—Ç—å"
   ‚Äî "–ø—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è"

4. "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Ä–∞–≤–Ω–∞ 0 —Ä. –Ω–∞ –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

‚ùóÔ∏è –¢–∞–∫–∏–µ –∑–∞–ø–∏—Å–∏ —Å—á–∏—Ç–∞—Ç—å –ù–ï –∫—Ä–µ–¥–∏—Ç–∞–º–∏, –∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ / –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
‚ùóÔ∏è –≠—Ç–∏ –∑–∞–ø–∏—Å–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –û–¢–î–ï–õ–¨–ù–û –∏ –ù–ï –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ú–¢–°-–ë–ê–ù–ö –ü–ê–û)
2. –ù–∞–π–¥–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å —ç—Ç–∏–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–º –∏ –∏–∑–≤–ª–µ–∫–∏:
   - "–î–∞—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏" –∏–ª–∏ "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞"
   - "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
   - –í —Ä–∞–∑–¥–µ–ª–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ" –∏—â–∏ —Å—Ç—Ä–æ–∫—É "–ò–ù–ù –∏ –û–ì–†–ù (–û–ì–†–ù–ò–ü)". –¢–∞–º –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: "–ò–ù–ù¬≥ 7744000912" –∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ "–û–ì–†–ù 1027739019142"
   - –ò–ù–ù - —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–ù–ù¬≥" (10 —Ü–∏—Ñ—Ä). –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –µ–≥–æ!
   - –û–ì–†–ù –ù–ï –ù–£–ñ–ï–ù (—ç—Ç–æ 13 —Ü–∏—Ñ—Ä)
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –ù–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–π –∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
   - –í —Ç–∞–±–ª–∏—Ü–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∫–æ–ª–æ–Ω–∫–∞ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
     –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" = —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–†–û –î–û–õ–ì –í –û–ö–ë:
- –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´"
- "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –£–ñ–ï –í–ö–õ–Æ–ß–ê–ï–¢ –ø—Ä–æ—Å—Ä–æ—á–∫—É, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
- –ò–õ–ò —Å–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- –ù–ï —Å—É–º–º–∏—Ä—É–π "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü–µ –î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´!
- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∫–∞–∫ –µ—Å—Ç—å

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON:
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "—á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ '–ò–ù–ù¬≥' –≤ —Ä–∞–∑–¥–µ–ª–µ '–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ' (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: 7744000912)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ '–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' (–ù–ï —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å!)"
    }}
  ]
}}""",
        },
        "–æ—Ç—á–µ—Ç_–±–∫–∏": {
            "keywords": ["—Å–∫–æ—Ä–∏–Ω–≥", "–±–∫–∏", "–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥", "–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è", "–±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π", "–∫—Ä–µ–¥–∏—Ç–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥", "–æ—Ç—á–µ—Ç –±–∫–∏", "—Å–∫–æ—Ä–∏–Ω–≥–æ–≤—ã–π –±–∞–ª–ª"],
            "prompt": """

–ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–≤–µ –≤–µ—Ä—Å–∏–∏ –æ—Ç—á—ë—Ç–∞ –ë–ö–ò: —Å—Ç–∞—Ä–∞—è –∏ –Ω–æ–≤–∞—è.
            
–í —Å—Ç–∞—Ä–æ–º –æ—Ç—á–µ—Ç–µ —Ç–∞–±–ª–∏—Ü–∞ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∞ –≤ –Ω–æ–≤–æ–π "–î–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫—Ä–µ–¥–∏—Ç—ã, –∑–∞–π–º—ã, –∫–∞—Ä—Ç—ã".

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –∏–∑–≤–ª–µ–∫–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏)
- –í —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏: –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –ù–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–π –∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.). –ê –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ "–ò—Å—Ç–æ—á–Ω–∏–∫ (–∫—Ä–µ–¥–∏—Ç–æ—Ä) / –í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –≤ —ç—Ç–æ–π –∫–æ–ª–æ–Ω–∫–µ —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –∏ –≤–∏–¥ –∫—Ä–µ–¥–∏—Ç–∞.
- –í —Å—Ç–∞—Ä–æ–π: –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∞"). –ê –≤ –Ω–æ–≤–æ–π: –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞")
- –í —Å—Ç–∞—Ä–æ–π: –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞). –ê –≤ –Ω–æ–≤–æ–π: –°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ / –ª–∏–º–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
- –í —Å—Ç–∞—Ä–æ–π: –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–¢–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" + "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞, —Å—É–º–º–∞". –ê –≤ –Ω–æ–≤–æ–π —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞ (–æ—Å–Ω.–¥–æ–ª–≥, %, –ø–µ–Ω–∏...)", —Ç–æ –µ—Å—Ç—å –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —É–∂–µ –≤—Å—ë –≤–∫–ª—é—á–µ–Ω–æ –≤ –æ–¥–Ω—É –∫–æ–ª–æ–Ω–∫—É "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞ (–æ—Å–Ω.–¥–æ–ª–≥, %, –ø–µ–Ω–∏...)".

–í–ê–ñ–ù–û: 
- "–°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É" - —ç—Ç–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, –ù–ï —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥!
- –ü–æ–ª–µ –≤ JSON –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–ö—Ä–µ–¥–∏—Ç—ã", –ù–ï "–î–æ–≥–æ–≤–æ—Ä—ã"!
- –í –ë–ö–ò –æ—Ç—á—ë—Ç–µ –ù–ï–¢ –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–¥–∞—Ç–∞",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏",
      "–°—É–º–º–∞": "—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ø—Ä–æ—Å—Ä–æ—á–∫–∞"
    }}
  ]
}}""",
        },
        "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏": {
            "keywords": ["–Ω–±–∫–∏", "–Ω–±–∫–∏ –æ—Ç—á–µ—Ç", "–æ—Ç—á–µ—Ç –Ω–±–∫–∏", "–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π", "–∫—Ä–µ–¥–∏—Ç–Ω—ã–π –æ—Ç—á–µ—Ç –¥–ª—è —Å—É–±—ä–µ–∫—Ç–∞", "–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –Ω–±–∫–∏", "nbch", "nbki"],
            "prompt": """

–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ" - —Ç–∞–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞".

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–í–ê–ñ–ù–û - –ò–ì–ù–û–†–ò–†–£–ô –ü–û–ì–ê–®–ï–ù–ù–´–ï –ö–†–ï–î–ò–¢–´:
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –Ω–∞–ø–∏—Å–∞–Ω–æ "–ù–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Äî –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫! –ê –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç "–ù/–î" ‚Äî –∫—Ä–µ–¥–∏—Ç –î–ï–ô–°–¢–í–£–Æ–©–ò–ô, –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ!
- –ï—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç!
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" —Å—Ç–æ–∏—Ç "–°—Ç–∞—Ç—É—Å: –°—á–µ—Ç –∑–∞–∫—Ä—ã—Ç" - –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫!
- –í–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ–∫—É—â–∏–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∫—Ä–µ–¥–∏—Ç—ã —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –≥–¥–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Å—Ç–æ–∏—Ç "–ù/–î"!

–î–ª—è –ö–ê–ñ–î–û–ì–û –î–ï–ô–°–¢–í–£–Æ–©–ï–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
2. –í —Ç–∞–±–ª–∏—Ü–µ "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ":
   - –°—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–π–º–∞ (–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –°—Ç–æ–ª–±–µ—Ü "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –¥–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏)
   - –°—Ç–æ–ª–±–µ—Ü "–û–ì–†–ù/–ò–ù–ù" - —Ç–∞–º –¥–≤–∞ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ü–ï–†–í–û–ï (13 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –û–ì–†–ù, –ù–ï –ù–£–ñ–ù–û. –í–¢–û–†–û–ï (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏!
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
3. –í —Ç–∞–±–ª–∏—Ü–µ "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
   - –ù–∞–π–¥–∏ –°–ê–ú–£–Æ –ü–û–°–õ–ï–î–ù–Æ–Æ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–°—É–º–º–∞" (—ç—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥)
   - –ò–ì–ù–û–†–ò–†–£–ô –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª–±—Ü—ã ("–°—É–º–º–∞ –ø–æ –æ—Å–Ω.–¥–æ–ª–≥—É", "–°—É–º–º–∞ –ø–æ %%", –∏ —Ç.–¥.)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—é—é(–Ω–∏–∂–Ω—é—é) —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û —Å—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞" –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
- –ù–ï —Å—É–º–º–∏—Ä—É–µ–º –Ω–∏—á–µ–≥–æ, –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
- –í —Å—Ç–æ–ª–±—Ü–µ "–û–ì–†–ù/–ò–ù–ù" –±–µ—Ä–µ–º –í–¢–û–†–û–ï —á–∏—Å–ª–æ (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù!
- –ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "–í–¢–û–†–û–ï —á–∏—Å–ª–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ –û–ì–†–ù/–ò–ù–ù (10 —Ü–∏—Ñ—Ä)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–æ–ª–±–µ—Ü –°—É–º–º–∞"
    }}
  ]
}}""",
        },
        "–≥–∏–±–¥–¥": {
            "keywords": ["–≥–∏–±–¥–¥", "–≥–∞–∏", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–ø—Ç—Å", "—Å—Ç—Å", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ç—Å", "–ø–∞—Å–ø–æ—Ä—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞", "–∞–≤—Ç–æ–º–æ–±–∏–ª", "–º—Ä—ç–æ", "–≥–æ—Å–∞–≤—Ç–æ–∏–Ω—Å–ø–µ–∫—Ü–∏—è", "–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ", "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç—Å", "–º–≤–¥"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –ì–ò–ë–î–î –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–º —Å—Ä–µ–¥—Å—Ç–≤–µ (–ü–¢–°, –°–¢–°, –≤—ã–ø–∏—Å–∫–∞ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞, –¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, —Å–ø—Ä–∞–≤–∫–∞ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –°–ü–†–ê–í–ö–ê –û–ë –û–¢–°–£–¢–°–¢–í–ò–ò:
- –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–≤ —Ä–µ–µ—Å—Ç—Ä–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ" ‚Äî —ç—Ç–æ –°–ü–†–ê–í–ö–ê –û–ë –û–¢–°–£–¢–°–¢–í–ò–ò —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
- –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–µ—Ä–Ω–∏ –ü–£–°–¢–û–ô JSON: {"–†–µ–∑—É–ª—å—Ç–∞—Ç": "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"}
- –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞—Ç—É —Å–ø—Ä–∞–≤–∫–∏, –ø–µ—Ä–∏–æ–¥, –§–ò–û ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–∏ —á—Ç–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–µ—Ç
- –ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞: "–í –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–º —Ä–µ–µ—Å—Ç—Ä–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –≤ –ø–µ—Ä–∏–æ–¥ —Å 25.11.2022 –ø–æ 25.11.2025, —Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç"

–í–ù–ò–ú–ê–ù–ò–ï - –ï–°–õ–ò –¢–†–ê–ù–°–ü–û–†–¢ –ï–°–¢–¨:
- –ï—Å–ª–∏ —ç—Ç–æ –î–û–ì–û–í–û–† –ö–£–ü–õ–ò-–ü–†–û–î–ê–ñ–ò ‚Äî –º–∞—à–∏–Ω–∞ –£–ñ–ï –ü–†–û–î–ê–ù–ê! –í "–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏" –Ω–∞–ø–∏—à–∏ "–ü—Ä–æ–¥–∞–Ω–æ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É –æ—Ç [–¥–∞—Ç–∞]"
- –ï—Å–ª–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ "—Å–Ω—è—Ç–æ —Å —É—á–µ—Ç–∞", "–ø—Ä–æ–¥–∞–∂–∞", "–ø–µ—Ä–µ–¥–∞—á–∞" ‚Äî –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∂–∏ –≤ "–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏"
- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–¥–µ–ª–∫–µ, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ!

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –ú–∞—Ä–∫—É, –º–æ–¥–µ–ª—å, VIN, –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä.
- –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞, —Ü–≤–µ—Ç, –Ω–æ–º–µ—Ä –∫—É–∑–æ–≤–∞/—à–∞—Å—Å–∏.
- –¢–∏–ø –¢–° (–ª–µ–≥–∫–æ–≤–æ–π, –≥—Ä—É–∑–æ–≤–æ–π, –º–æ—Ç–æ—Ü–∏–∫–ª).
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫: –§–ò–û, –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –Ω–æ–º–µ—Ä –∏ —Å–µ—Ä–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞.
- –û—Å–æ–±—ã–µ –æ—Ç–º–µ—Ç–∫–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∑–∞–ª–æ–≥, –∞—Ä–µ—Å—Ç, –°–ù–Ø–¢–û –° –£–ß–ï–¢–ê, –ü–†–û–î–ê–ù–û).
- –°–î–ï–õ–ö–ê (–µ—Å–ª–∏ –µ—Å—Ç—å): —Ç–∏–ø (–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ), –¥–∞—Ç–∞, –≤—Ç–æ—Ä–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (–ø–æ–∫—É–ø–∞—Ç–µ–ª—å/–ø—Ä–æ–¥–∞–≤–µ—Ü), —Å—Ç–æ–∏–º–æ—Å—Ç—å.

–†–ê–ë–û–¢–ê –° –ê–î–†–ï–°–û–ú –°–û–ë–°–¢–í–ï–ù–ù–ò–ö–ê:
- –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¢–° –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–º—ã—Ç –∏–ª–∏ –≤ CAPS LOCK - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!
- –§–æ—Ä–º–∞—Ç –∞–¥—Ä–µ—Å–∞: –≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –¥–æ–º, –∫–æ—Ä–ø—É—Å (–µ—Å–ª–∏ –µ—Å—Ç—å), –∫–≤–∞—Ä—Ç–∏—Ä–∞
- –ò—â–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "–ì–û–†.", "–ì.", "–£–õ.", "–î.", "–î–û–ú", "–ö–í.", "–ö–û–†–ü."
- –ü—Ä–∏–≤–æ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É: "–≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1, –∫–≤. 10"
- –î–∞–∂–µ –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —Ä–∞–∑–º—ã—Ç - —Ä–∞–∑–±–∏—Ä–∞–π –ø–æ —á–∞—Å—Ç—è–º (–≥–æ—Ä–æ–¥ + —É–ª–∏—Ü—É –º–∏–Ω–∏–º—É–º)
- –ß–∏—Å–ª–∞ (–Ω–æ–º–µ—Ä–∞ –¥–æ–º–æ–≤, –∫–≤–∞—Ä—Ç–∏—Ä) –æ–±—ã—á–Ω–æ —á–∏—Ç–∞—é—Ç—Å—è –ª—É—á—à–µ –Ω–∞–∑–≤–∞–Ω–∏–π —É–ª–∏—Ü
- –ù–ï –æ—Å—Ç–∞–≤–ª—è–π –∞–¥—Ä–µ—Å –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –≥–æ—Ä–æ–¥ —á–∏—Ç–∞–µ—Ç—Å—è!

JSON:
{
        "–¢–∏–ø_–¢–°": "–ª–µ–≥–∫–æ–≤–æ–π/–≥—Ä—É–∑–æ–≤–æ–π/–º–æ—Ç–æ—Ü–∏–∫–ª/...",
        "–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å": "...",
        "VIN": "...",
        "–ì–æ—Å_–Ω–æ–º–µ—Ä": "...",
        "–ì–æ–¥_–≤—ã–ø—É—Å–∫–∞": "–ì–ì–ì–ì",
        "–¶–≤–µ—Ç": "...",
        "–ù–æ–º–µ—Ä_–∫—É–∑–æ–≤–∞": "...",
        "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫": {
                "–§–ò–û": "...",
                "–ê–¥—Ä–µ—Å": "..."
        },
        "–î–æ–∫—É–º–µ–Ω—Ç": {
                "–¢–∏–ø": "–ü–¢–°/–°–¢–°/–≤—ã–ø–∏—Å–∫–∞/–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏",
                "–°–µ—Ä–∏—è_–Ω–æ–º–µ—Ä": "...",
                "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
        },
        "–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏": "...",
        "–°–¥–µ–ª–∫–∞": {
                "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true/false,
                "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–¥—Ä—É–≥–æ–µ",
                "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
                "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å_–§–ò–û": "...",
                "–ü—Ä–æ–¥–∞–≤–µ—Ü_–§–ò–û": "...",
                "–°—Ç–æ–∏–º–æ—Å—Ç—å": 0.00
        }
}

–í–ê–ñ–ù–û: –ï—Å–ª–∏ —ç—Ç–æ –¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ –¢–° –∏–ª–∏ –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–µ—Ä–µ–¥–∞—á–µ –ø—Ä–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
- "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": true
- –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è "–°–¥–µ–ª–∫–∞"
–ï—Å–ª–∏ –æ–±—ã—á–Ω–æ–µ –°–¢–°/–ü–¢–° –±–µ–∑ —Å–¥–µ–ª–∫–∏:
- "–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞": false
- "–°–¥–µ–ª–∫–∞" –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å null

–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—É—á—Ä–µ–¥–∏—Ç–µ–ª—å": {
            "keywords": ["–µ–≥—Ä—é–ª", "—É—á—Ä–µ–¥–∏—Ç–µ–ª—å", "—É—Å—Ç–∞–≤", "—É—á–∞—Å—Ç–Ω–∏–∫", "–¥–æ–ª—è", "–∞–∫—Ü–∏–æ–Ω–µ—Ä", "–≤—ã–ø–∏—Å–∫–∞ –∏–∑ –µ–≥—Ä—é–ª"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –æ–± —É—á—Ä–µ–¥–∏—Ç–µ–ª—å—Å—Ç–≤–µ –∏–ª–∏ —É—á–∞—Å—Ç–∏–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–≤—ã–ø–∏—Å–∫–∞ –ï–ì–†–Æ–õ, —É—Å—Ç–∞–≤, —Å–ø–∏—Å–æ–∫ –∞–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤, –¥–æ–≥–æ–≤–æ—Ä –æ–± —É—á—Ä–µ–∂–¥–µ–Ω–∏–∏).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –ò–ù–ù, –û–ì–†–ù.
- –§–æ—Ä–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–û–û–û, –û–ê–û, –ó–ê–û –∏ —Ç.–¥.).
- –§–ò–û —É—á–∞—Å—Ç–Ω–∏–∫–∞/—É—á—Ä–µ–¥–∏—Ç–µ–ª—è.
- –†–∞–∑–º–µ—Ä –¥–æ–ª–∏/–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ü–∏–π (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –∏–ª–∏ –Ω–æ–º–∏–Ω–∞–ª–µ).
- –ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–ª–∏/–∞–∫—Ü–∏–π.
- –î–∞—Ç–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

JSON:
{
        "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è": {
                "–ù–∞–∑–≤–∞–Ω–∏–µ": "...",
                "–ò–ù–ù": "...",
                "–û–ì–†–ù": "...",
                "–§–æ—Ä–º–∞": "–û–û–û/–û–ê–û/–ó–ê–û/...",
                "–ê–¥—Ä–µ—Å": "..."
        },
        "–£—á–∞—Å—Ç–Ω–∏–∫": {
                "–§–ò–û": "...",
                "–î–æ–ª—è": "...%/... –∞–∫—Ü–∏–π",
                "–ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "... —Ä—É–±.",
                "–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
        }
}
–ï—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –≤–µ—Ä–Ω–∏ –º–∞—Å—Å–∏–≤ –≤ –ø–æ–ª–µ "–£—á–∞—Å—Ç–Ω–∏–∫–∏". –ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Ü–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏": {
            "keywords": ["–¥–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π", "–±—Ä–æ–∫–µ—Ä", "—Å—á–µ—Ç –¥–µ–ø–æ", "—Ü–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏", "–∞–∫—Ü–∏–∏", "–æ–±–ª–∏–≥–∞—Ü–∏–∏", "–ø–∞–∏", "–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π —Å—á–µ—Ç"],
            "prompt": """–í—ã–ø–∏—Å–∫–∞ –∏–∑ –¥–µ–ø–æ–∑–∏—Ç–∞—Ä–∏—è –∏–ª–∏ –±—Ä–æ–∫–µ—Ä—Å–∫–∏–π –æ—Ç—á–µ—Ç –æ —Ü–µ–Ω–Ω—ã—Ö –±—É–º–∞–≥–∞—Ö.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –í–ª–∞–¥–µ–ª–µ—Ü (–§–ò–û, –ø–∞—Å–ø–æ—Ä—Ç –∏–ª–∏ –ò–ù–ù).
- –î–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π/–±—Ä–æ–∫–µ—Ä, –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞ –¥–µ–ø–æ/–±—Ä–æ–∫–µ—Ä—Å–∫–æ–≥–æ —Å—á–µ—Ç–∞.
- –î–∞—Ç–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞/–≤—ã–ø–∏—Å–∫–∏, –ø–µ—Ä–∏–æ–¥.
- –ü–µ—Ä–µ—á–µ–Ω—å —Ü–µ–Ω–Ω—ã—Ö –±—É–º–∞–≥: –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —ç–º–∏—Ç–µ–Ω—Ç–∞, —Ç–∏–ø (–∞–∫—Ü–∏—è/–æ–±–ª–∏–≥–∞—Ü–∏—è/–ø–∞–π/...), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –Ω–æ–º–∏–Ω–∞–ª, —Ç–µ–∫—É—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å, ISIN.
- –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è.

JSON:
{
        "–í–ª–∞–¥–µ–ª–µ—Ü": {
                "–§–ò–û": "...",
                "–ü–∞—Å–ø–æ—Ä—Ç": "...",
                "–ò–ù–ù": "..."
        },
        "–î–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π": "...",
        "–ù–æ–º–µ—Ä_—Å—á–µ—Ç–∞": "...",
        "–î–∞—Ç–∞_–≤—ã–ø–∏—Å–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ü–µ—Ä–∏–æ–¥": "—Å ... –ø–æ ...",
        "–¶–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏": [
                {
                        "–≠–º–∏—Ç–µ–Ω—Ç": "...",
                        "–¢–∏–ø": "–∞–∫—Ü–∏—è/–æ–±–ª–∏–≥–∞—Ü–∏—è/–ø–∞–π/...",
                        "ISIN": "...",
                        "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ": ...,
                        "–ù–æ–º–∏–Ω–∞–ª": "...",
                        "–¢–µ–∫—É—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
                }
        ],
        "–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ_–ø—Ä–∞–≤–∞": {
            "keywords": ["–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞", "–¥–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è", "–∞–∫—Ç —Å–≤–µ—Ä–∫–∏", "–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å", "–ø—Ä–∞–≤–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è", "–¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –æ–± –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∞—Ö (–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞, –∞–∫—Ç —Å–≤–µ—Ä–∫–∏, —Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞ –æ –≤–∑—ã—Å–∫–∞–Ω–∏–∏, –¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã —Å –ø—Ä–∞–≤–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –ø–ª–∞—Ç—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –†–û–õ–ò:
–≠—Ç–æ –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ = –ö–†–ï–î–ò–¢–û–† (–∑–∞–π–º–æ–¥–∞–≤–µ—Ü, –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å).
–ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ = –î–û–õ–ñ–ù–ò–ö (–∑–∞—ë–º—â–∏–∫, –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä) - —ç—Ç–æ –ù–ï –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ, –∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–°–¢–í–û!

–ü—Ä–æ–≤–µ—Ä—å:
1. –ö—Ç–æ –¥–∞—ë—Ç –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ? ‚Üí –ö–†–ï–î–ò–¢–û–† (–∑–∞–π–º–æ–¥–∞–≤–µ—Ü, –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å)
2. –ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ? ‚Üí –î–û–õ–ñ–ù–ò–ö (–∑–∞—ë–º—â–∏–∫, –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä)

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞/–∞–∫—Ç —Å–≤–µ—Ä–∫–∏/—Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞/–¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã).
- –°—Ç–æ—Ä–æ–Ω—ã: 
  * –ö—Ä–µ–¥–∏—Ç–æ—Ä (–∑–∞–π–º–æ–¥–∞–≤–µ—Ü, –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—å) - –∫—Ç–æ –î–ê–Å–¢ –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ
  * –î–æ–ª–∂–Ω–∏–∫ (–∑–∞—ë–º—â–∏–∫, –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä) - –∫—Ç–æ –ü–û–õ–£–ß–ê–ï–¢ –¥–µ–Ω—å–≥–∏/–∏–º—É—â–µ—Å—Ç–≤–æ
- –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞/–¥–µ–ª–∞, –¥–∞—Ç–∞.
- –°—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏/–µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –ø–ª–∞—Ç—ã.
- –°—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–∞/–ø–µ—Ä–∏–æ–¥ –∞—Ä–µ–Ω–¥—ã.
- –û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è (–ø—Ä–æ—Ü–µ–Ω—Ç—ã, –Ω–µ—É—Å—Ç–æ–π–∫–∞, –≥—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π).

JSON:
{
        "–¢–∏–ø": "–¥–æ–≥–æ–≤–æ—Ä –∑–∞–π–º–∞/–∞–∫—Ç —Å–≤–µ—Ä–∫–∏/—Ä–µ—à–µ–Ω–∏–µ —Å—É–¥–∞/–¥–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã",
        "–ù–æ–º–µ—Ä": "...",
        "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–§–ò–û –∑–∞–π–º–æ–¥–∞–≤—Ü–∞/–∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª—è (–∫—Ç–æ –î–ê–Å–¢ –¥–µ–Ω—å–≥–∏)",
        "–î–æ–ª–∂–Ω–∏–∫": "–§–ò–û –∑–∞—ë–º—â–∏–∫–∞/–∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä–∞ (–∫—Ç–æ –ü–û–õ–£–ß–ê–ï–¢ –¥–µ–Ω—å–≥–∏)",
        "–†–æ–ª—å_–≤–ª–∞–¥–µ–ª—å—Ü–∞_–¥–æ–∫—É–º–µ–Ω—Ç–∞": "–∫—Ä–µ–¥–∏—Ç–æ—Ä/–¥–æ–ª–∂–Ω–∏–∫",
        "–°—É–º–º–∞": "...",
        "–°—Ä–æ–∫": "...",
        "–£—Å–ª–æ–≤–∏—è": "..."
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": {
            "keywords": ["—Å–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", "–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥", "—Å—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", "—Ä–∞–∑–º–µ—Ä –¥–æ–ª–≥–∞", "—Å–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥"],
            "prompt": """–°–ø—Ä–∞–≤–∫–∞ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–º (–±–∞–Ω–∫, –ú–§–û, –ú–ö–ö).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä: –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–û–û–û –ú–ö–ö "...", –ü–ê–û "...", –ê–û "...").
- –î–æ–ª–∂–Ω–∏–∫: –§–ò–û.
- –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞/—Å—á–µ—Ç–∞.
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–ø—Ä–∞–≤–∫–∏.
- –°—É–º–º–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–ª–≥–∞ (—Ç–µ–ª–æ –∫—Ä–µ–¥–∏—Ç–∞).
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã/–ø–µ–Ω–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ).
- –ò–¢–û–ì–û–í–ê–Ø –°–£–ú–ú–ê –ó–ê–î–û–õ–ñ–ï–ù–ù–û–°–¢–ò (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥ + –ø—Ä–æ—Ü–µ–Ω—Ç—ã + –ø–µ–Ω–∏).
- –î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –Ω–∞–ø–∏—Å–∞–Ω–æ —Ç–∞–∫: "...–±—ã–ª –∑–∞–∫–ª—é—á–µ–Ω –¥–æ–≥–æ–≤–æ—Ä –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞ –æ—Ç 17.09.2024..."

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò—â–∏ –ò–¢–û–ì–û–í–£–Æ —Å—É–º–º—É! –û–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–æ–∑–Ω–∞—á–µ–Ω–∞ –∫–∞–∫:
- "–û–±—â–∞—è —Å—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- "–ò—Ç–æ–≥–æ –∫ –ø–æ–≥–∞—à–µ–Ω–∏—é"
- "–†–∞–∑–º–µ—Ä –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- "–°—É–º–º–∞ –¥–æ–ª–≥–∞ –Ω–∞ –¥–∞—Ç—É"

JSON:
{
        "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "...",
        "–î–æ–ª–∂–Ω–∏–∫": "...",
        "–ù–æ–º–µ—Ä_–¥–æ–≥–æ–≤–æ—Ä–∞": "...",
        "–î–∞—Ç–∞_—Å–ø—Ä–∞–≤–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": 12345.67,
        "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": 1234.56,
        "–ü–µ–Ω–∏": 123.45,
        "–ò—Ç–æ–≥–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": 13703.68,
        "–î–∞—Ç–∞_–≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì"
}

–í–ê–ñ–ù–û: –°—É–º–º—ã —É–∫–∞–∑—ã–≤–∞–π –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏ (–±–µ–∑ "—Ä—É–±.", –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤). –ï—Å–ª–∏ —Å—É–º–º–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ - —Å—Ç–∞–≤—å null.
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞": {
            "keywords": ["–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è", "—Ñ—Å—Å–ø", "—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤", "—Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ", "–≤–∑—ã—Å–∫–∞–Ω–∏–µ", "–ø—Ä–∏—Å—Ç–∞–≤", "—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–∞—è —Å–ª—É–∂–±–∞ —Å—É–¥–µ–±–Ω—ã—Ö –ø—Ä–∏—Å—Ç–∞–≤–æ–≤", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–ø—Ä–∏—Å—Ç–∞–≤-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å"],
            "prompt": """–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –æ –≤–æ–∑–±—É–∂–¥–µ–Ω–∏–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏–ª–∏ –æ —Ä–∞—Å—á—ë—Ç–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –ü–ê–û ¬´–í–¢–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ò–¢–û–ì–û–í–ê–Ø –°–£–ú–ú–ê –í–ó–´–°–ö–ê–ù–ò–Ø:

–í –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ù–ï–°–ö–û–õ–¨–ö–û —Å—É–º–º:
1. –û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥ (–æ—Å–Ω–æ–≤–Ω–∞—è —Å—É–º–º–∞ –¥–æ–ª–≥–∞) - –Ω–∞–ø—Ä–∏–º–µ—Ä: 96391,98 —Ä—É–±
2. –ü—Ä–æ—Ü–µ–Ω—Ç—ã - –Ω–∞–ø—Ä–∏–º–µ—Ä: 48815,70 —Ä—É–±
3. –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –Ω–æ—Ç–∞—Ä–∏–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è - –Ω–∞–ø—Ä–∏–º–µ—Ä: 1558,00 —Ä—É–±
4. –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π —Å–±–æ—Ä - –Ω–∞–ø—Ä–∏–º–µ—Ä: 7% –æ—Ç —Å—É–º–º—ã
5. **–ò–¢–û–ì–û –í–ó–´–°–ö–ê–ù–ò–ï** ‚Üê –°–ê–ú–û–ï –í–ê–ñ–ù–û–ï –ü–û–õ–ï!

–ê–õ–ì–û–†–ò–¢–ú –ü–û–ò–°–ö–ê –ò–¢–û–ì–û–í–û–ô –°–£–ú–ú–´:
1. –ò—â–∏ —Å—Ç—Ä–æ–∫—É —Å–æ —Å–ª–æ–≤–∞–º–∏ "–ò—Ç–æ–≥–æ" –∏–ª–∏ "–í—Å–µ–≥–æ –≤–∑—ã—Å–∫–∞—Ç—å" –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
2. –ü—Ä–∏–º–µ—Ä—ã —Ñ—Ä–∞–∑:
   - "–ò—Ç–æ–≥–æ, –ø–æ –Ω–∞—Å—Ç–æ—è—â–µ–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏ –≤–∑—ã—Å–∫–∞—Ç—å 146765,68 —Ä—É–±–ª–µ–π"
   - "–ò—Ç–æ–≥–æ –≤–∑—ã—Å–∫–∞–Ω–∏–µ: 146 765.68 —Ä—É–±"
   - "–í—Å–µ–≥–æ –≤–∑—ã—Å–∫–∞—Ç—å: 146765,68"
   - "–ü–æ–¥–ª–µ–∂–∏—Ç –≤–∑—ã—Å–∫–∞–Ω–∏—é: 146 765,68 —Ä—É–±–ª–µ–π"
3. –ò–∑–≤–ª–µ–∫–∏ —á–∏—Å–ª–æ –ü–û–°–õ–ï —Å–ª–æ–≤–∞ "–ò—Ç–æ–≥–æ"/"–í—Å–µ–≥–æ" - —ç—Ç–æ –∏ –µ—Å—Ç—å "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ"
4. –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—É–º–º "–ò—Ç–æ–≥–æ" - –±–µ—Ä–∏ –ü–û–°–õ–ï–î–ù–Æ–Æ (—Ñ–∏–Ω–∞–ª—å–Ω—É—é)

–ü–†–ê–í–ò–õ–û:
"–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ" = –í–°–Ø —Å—É–º–º–∞, –∫–æ—Ç–æ—Ä—É—é –¥–æ–ª–∂–µ–Ω –∑–∞–ø–ª–∞—Ç–∏—Ç—å –¥–æ–ª–∂–Ω–∏–∫ –ø–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é
–ï—Å–ª–∏ "–ò—Ç–æ–≥–æ" –Ω–∞–ø–∏—Å–∞–Ω–æ —è–≤–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π –≠–¢–£ —Ü–∏—Ñ—Ä—É, –ù–ï —Å–∫–ª–∞–¥—ã–≤–∞–π —á–∞—Å—Ç–∏!

–ù–∞–π–¥–∏:
- –ù–æ–º–µ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞.
- –î–∞—Ç–∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.
- –°—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤: –§–ò–û, –æ—Ç–¥–µ–ª –§–°–°–ü.
- –î–æ–ª–∂–Ω–∏–∫: –§–ò–û.
- –í–∑—ã—Å–∫–∞—Ç–µ–ª—å (–∫—Ä–µ–¥–∏—Ç–æ—Ä): –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –§–ò–û.
- –ê–¥—Ä–µ—Å –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω).
- –ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å –ø–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã–º –ø–ª–∞—Ç–µ–∂–∞–º (–∫—Ä–æ–º–µ –∏–ø–æ—Ç–µ–∫–∏)").
- –û—Å–Ω–æ–≤–∞–Ω–∏–µ: –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ª–∏—Å—Ç, —Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏–∫–∞–∑ (–Ω–æ–º–µ—Ä, –¥–∞—Ç–∞).
- –û—Ä–≥–∞–Ω, –≤—ã–¥–∞–≤—à–∏–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–°—É–¥–µ–±–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ ‚Ññ 9 –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫–∞").
- –ê–¥—Ä–µ—Å –æ—Ä–≥–∞–Ω–∞.
- –ù–æ–º–µ—Ä –¥–µ–ª–∞.
- –°—É–º–º–∞ –≤–∑—ã—Å–∫–∞–Ω–∏—è (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥).
- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å—Å–∫–∏–π —Å–±–æ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å).
- –†–∞—Å—Ö–æ–¥—ã –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º—É –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É (–µ—Å–ª–∏ –µ—Å—Ç—å).
- –ò–¢–û–ì–û–í–ê–Ø –°–£–ú–ú–ê –í–ó–´–°–ö–ê–ù–ò–Ø (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!).

JSON:
{
        "–ù–æ–º–µ—Ä_–ò–ü": "404852/25/74059-–ò–ü",
        "–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è": "29.10.2025",
        "–ü—Ä–∏—Å—Ç–∞–≤": "–ö–∞—â–µ–Ω–∫–æ –Æ–ª–∏—è –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
        "–û—Ç–¥–µ–ª_–§–°–°–ü": "...",
        "–î–æ–ª–∂–Ω–∏–∫": "–û–≤—á–∏–Ω–Ω–∏–∫–æ–≤ –ò–≥–æ—Ä—å –Æ—Ä—å–µ–≤–∏—á",
        "–í–∑—ã—Å–∫–∞—Ç–µ–ª—å": "–ü–ê–û ¬´–í–¢–ë¬ª",
        "–ê–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è": "191144, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ø–µ—Ä –î–µ–≥—Ç—è—Ä–Ω—ã–π, –¥ 11 –ª–∏—Ç–µ—Ä –ê",
        "–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è": "–í–∑—ã—Å–∫–∞–Ω–∏–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏",
        "–û—Å–Ω–æ–≤–∞–Ω–∏–µ": "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å –Ω–æ—Ç–∞—Ä–∏—É—Å–∞",
        "–ù–æ–º–µ—Ä_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "–£-0004721706",
        "–î–∞—Ç–∞_–æ—Å–Ω–æ–≤–∞–Ω–∏—è": "28.10.2025",
        "–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π": "–ù–æ—Ç–∞—Ä–∏—É—Å –°—É–≥—É—Ä–æ–≤ –ú–∞—Ä–∞—Ç –ñ–∞—Å–ª–∞–Ω–æ–≤–∏—á",
        "–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞": "455045, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª, –≥ –ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫, —É–ª –ë–æ—Ä–∏—Å–∞ –†—É—á—å–µ–≤–∞, –¥ 1–ê",
        "–ù–æ–º–µ—Ä_–¥–µ–ª–∞": "–£-0004721706",
        "–°—É–º–º–∞_–¥–æ–ª–≥–∞": 96391.98,
        "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": 48815.70,
        "–†–∞—Å—Ö–æ–¥—ã": 1558.00,
        "–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ": 146765.68
}

–ü–†–ò–ú–ï–†: "–ò—Ç–æ–≥–æ, –ø–æ –Ω–∞—Å—Ç–æ—è—â–µ–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞–¥–ø–∏—Å–∏ –≤–∑—ã—Å–∫–∞—Ç—å 146765,68 —Ä—É–±–ª–µ–π"
‚Üí –ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ = 146765.68

–í–ê–ñ–ù–û: –°—É–º–º—ã —É–∫–∞–∑—ã–≤–∞–π –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏. –ï—Å–ª–∏ —Å—É–º–º–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ - —Å—Ç–∞–≤—å null.
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": {
            "keywords": ["–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏", "—é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è", "–∑–æ–ª–æ—Ç–æ", "—Å–µ—Ä–µ–±—Ä–æ", "—É–∫—Ä–∞—à–µ–Ω–∏—è", "–∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç", "–∫–∞—Ä—Ç–∏–Ω—ã", "–∫–æ–ª–ª–µ–∫—Ü–∏—è", "–ø—Ä–µ–¥–º–µ—Ç—ã –∏—Å–∫—É—Å—Å—Ç–≤–∞", "–æ–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞", "–æ—Ü–µ–Ω–∫–∞ –∏–º—É—â–µ—Å—Ç–≤–∞", "–∞–∫—Ç –æ—Ü–µ–Ω–∫–∏"],
            "prompt": """–î–æ–∫—É–º–µ–Ω—Ç –æ –Ω–∞–ª–∏—á–Ω—ã—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö –∏ –∏–Ω–æ–º —Ü–µ–Ω–Ω–æ–º –∏–º—É—â–µ—Å—Ç–≤–µ (–æ–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞, –∞–∫—Ç –æ—Ü–µ–Ω–∫–∏, –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—è –æ –Ω–∞–ª–∏—á–∏–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –í–ª–∞–¥–µ–ª–µ—Ü (–§–ò–û).
- –ù–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã): —Å—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö –∏/–∏–ª–∏ –≤–∞–ª—é—Ç–µ.
- –î—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è: –æ–ø–∏—Å–∞–Ω–∏–µ (–∑–æ–ª–æ—Ç–æ–µ –∫–æ–ª—å—Ü–æ, —Å–µ—Ä—å–≥–∏ –∏ —Ç.–¥.), –≤–µ—Å/–ø—Ä–æ–±–∞, –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –ü—Ä–µ–¥–º–µ—Ç—ã –∏—Å–∫—É—Å—Å—Ç–≤–∞ –∏ –∞–Ω—Ç–∏–∫–≤–∞—Ä–∏–∞—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä, –≥–æ–¥, –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –ö–æ–ª–ª–µ–∫—Ü–∏–∏: –æ–ø–∏—Å–∞–Ω–∏–µ (–º–æ–Ω–µ—Ç—ã, –º–∞—Ä–∫–∏, —á–∞—Å—ã), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –î–æ—Ä–æ–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞: –æ–ø–∏—Å–∞–Ω–∏–µ, –º–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å, –≥–æ–¥, —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –î—Ä—É–≥–æ–µ —Ü–µ–Ω–Ω–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ: –æ–ø–∏—Å–∞–Ω–∏–µ, —Å—Ç–æ–∏–º–æ—Å—Ç—å.
- –î–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏/—Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–ø–∏—Å–∏.
- –û—Ü–µ–Ω—â–∏–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å): –§–ò–û, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è.

JSON:
{
        "–í–ª–∞–¥–µ–ª–µ—Ü": "...",
        "–î–∞—Ç–∞_—Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–û—Ü–µ–Ω—â–∏–∫": "...",
        "–ù–∞–ª–∏—á–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞": {
                "RUB": "...",
                "USD": "...",
                "EUR": "...",
                "–î—Ä—É–≥–∞—è_–≤–∞–ª—é—Ç–∞": "..."
        },
        "–ò–º—É—â–µ—Å—Ç–≤–æ": [
                {
                        "–ö–∞—Ç–µ–≥–æ—Ä–∏—è": "–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏/–∏—Å–∫—É—Å—Å—Ç–≤–æ/–∫–æ–ª–ª–µ–∫—Ü–∏—è/—Ç–µ—Ö–Ω–∏–∫–∞/–¥—Ä—É–≥–æ–µ",
                        "–û–ø–∏—Å–∞–Ω–∏–µ": "...",
                        "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": "...",
                        "–û—Ü–µ–Ω–æ—á–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
                }
        ],
        "–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "..."
}
–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null, —Å–ø–∏—Å–∫–∏ –¥–æ–ø—É—Å–∫–∞—é—Ç []. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–¥–µ–ª–∫–∏": {
            "keywords": ["–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏", "–¥–æ–≥–æ–≤–æ—Ä –¥–∞—Ä–µ–Ω–∏—è", "–¥–æ–≥–æ–≤–æ—Ä –º–µ–Ω—ã", "–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏ –ø—Ä–æ–¥–∞–∂–∏", "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å", "–ø—Ä–æ–¥–∞–≤–µ—Ü", "–¥–∞—Ä–∏—Ç–µ–ª—å", "–æ–¥–∞—Ä—è–µ–º—ã–π", "–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ", "–∞–≤—Ç–æ–º–æ–±–∏–ª—å", "–∫–≤–∞—Ä—Ç–∏—Ä–∞", "–¥–æ–º", "–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫", "–∞–∫—Ç –ø—Ä–∏–µ–º–∞-–ø–µ—Ä–µ–¥–∞—á–∏"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Å–¥–µ–ª–∫–∞—Ö –¥–æ–ª–∂–Ω–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞: –¥–æ–≥–æ–≤–æ—Ä—ã –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, –¥–∞—Ä–µ–Ω–∏—è, –º–µ–Ω—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∏ –∏–Ω–æ–≥–æ —Ü–µ–Ω–Ω–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.

–ù–∞–π–¥–∏:
- –¢–∏–ø —Å–¥–µ–ª–∫–∏: –∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞, –¥–∞—Ä–µ–Ω–∏–µ, –º–µ–Ω–∞, –¥—Ä—É–≥–æ–µ.
- –î–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–¥–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞).
- –†–æ–ª—å –¥–æ–ª–∂–Ω–∏–∫–∞: –ø–æ–∫—É–ø–∞—Ç–µ–ª—å, –ø—Ä–æ–¥–∞–≤–µ—Ü, –¥–∞—Ä–∏—Ç–µ–ª—å, –æ–¥–∞—Ä—è–µ–º—ã–π, –∏ —Ç.–¥.
- –ü—Ä–µ–¥–º–µ—Ç —Å–¥–µ–ª–∫–∏: —á—Ç–æ –ø—Ä–æ–¥–∞–Ω–æ/–∫—É–ø–ª–µ–Ω–æ/–ø–æ–¥–∞—Ä–µ–Ω–æ (–∫–≤–∞—Ä—Ç–∏—Ä–∞, –¥–æ–º, –∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫, –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –∏ —Ç.–¥.).
- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞: –∞–¥—Ä–µ—Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –º–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å –¢–°, –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä, –¥—Ä—É–≥–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–¥–µ–ª–∫–∏ (—Å—É–º–º–∞ –≤ —Ä—É–±–ª—è—Ö).
- –í—Ç–æ—Ä–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏: –§–ò–û –ø–æ–∫—É–ø–∞—Ç–µ–ª—è/–ø—Ä–æ–¥–∞–≤—Ü–∞/–¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã.
- –û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è: —Ä–∞—Å—Å—Ä–æ—á–∫–∞, –∫—Ä–µ–¥–∏—Ç, –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è, –∏ —Ç.–¥.

–ö–†–ò–¢–ï–†–ò–ò –û–¢–ë–û–†–ê:
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –¢–û–õ–¨–ö–û –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ —Å–¥–µ–ª–∫–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã.
- –°–¥–µ–ª–∫–∏ —Å –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é: –∫–≤–∞—Ä—Ç–∏—Ä—ã, –¥–æ–º–∞, –∑–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏, –≥–∞—Ä–∞–∂–∏, –Ω–µ–∂–∏–ª—ã–µ –ø–æ–º–µ—â–µ–Ω–∏—è.
- –°–¥–µ–ª–∫–∏ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º: –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –º–æ—Ç–æ—Ü–∏–∫–ª—ã, —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∞.
- –°–¥–µ–ª–∫–∏ —Å –∏–Ω—ã–º —Ü–µ–Ω–Ω—ã–º –∏–º—É—â–µ—Å—Ç–≤–æ–º (–ª—é–±–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏).

JSON:
{
        "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ/–º–µ–Ω–∞/–¥—Ä—É–≥–æ–µ",
        "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
        "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å/–ø—Ä–æ–¥–∞–≤–µ—Ü/–¥–∞—Ä–∏—Ç–µ–ª—å/–æ–¥–∞—Ä—è–µ–º—ã–π",
        "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": "–∫–≤–∞—Ä—Ç–∏—Ä–∞/–¥–æ–º/–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫/–∞–≤—Ç–æ–º–æ–±–∏–ª—å/–¥—Ä—É–≥–æ–µ",
        "–û–ø–∏—Å–∞–Ω–∏–µ": "...",
        "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": "...",
        "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "...",
        "–°—Ç–æ–∏–º–æ—Å—Ç—å": 0.00,
        "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": "–§–ò–û",
        "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": "..."
}

–ü—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è = null. –°—É–º–º—ã –¢–û–õ–¨–ö–û —á–∏—Å–ª–∞–º–∏. –ë–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        
        # === –î–æ–∫—É–º–µ–Ω—Ç—ã —Å—É–ø—Ä—É–≥–∞ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–µ –∂–µ –ø—Ä–æ–º–ø—Ç—ã —á—Ç–æ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã) ===
        "–ø–∞—Å–ø–æ—Ä—Ç_—Å—É–ø—Ä—É–≥–∞": {
            "keywords": ["–ø–∞—Å–ø–æ—Ä—Ç —Å—É–ø—Ä—É–≥–∞", "–ø–∞—Å–ø–æ—Ä—Ç–∞ —Å—É–ø—Ä—É–≥–∞", "–ø–∞—Å–ø–æ—Ä—Ç –∂–µ–Ω—ã", "–ø–∞—Å–ø–æ—Ä—Ç–∞ –∂–µ–Ω—ã", "–ø–∞—Å–ø–æ—Ä—Ç –º—É–∂–∞", "–ø–∞—Å–ø–æ—Ä—Ç–∞ –º—É–∂–∞", "–ø–∞—Å–ø–æ—Ä—Ç –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "–ø–∞—Å–ø–æ—Ä—Ç–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "passport spouse"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –ø–∞—Å–ø–æ—Ä—Ç –†–§. –ò–∑–≤–ª–µ–∫–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2-3 (–æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):
   - –í –≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞: —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä (–ø—Ä–∏–º–µ—Ä: 1234 567890 ‚Äî –≤–µ—Ä–Ω–∏ –∫–∞–∫ "1234 567890").
   - –ù–∏–∂–µ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ" ‚Äî –ø–æ—Å—Ç—Ä–æ—á–Ω–æ.
   - –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –î–î.–ú–ú.–ì–ì–ì–ì.
   - –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è:
     - –ü—Ä–∏–≤–µ–¥–∏ –∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É
     - –ù–ï —É–±–∏—Ä–∞–π "–≥–æ—Ä.", "—Å.", "–ø–æ—Å.", "–¥.", "–æ–±–ª.", "—Ä–µ—Å–ø.", "–∫—Ä–∞–π"
     - –ü—Ä–∏–º–µ–Ω—è–π –ø—Ä–∞–≤–∏–ª–∞:
       * "–ì–û–†." ‚Üí "–≥–æ—Ä." (—Å—Ç—Ä–æ—á–Ω—ã–µ)
       * "–ì –ú–û–°–ö–í–ê" ‚Üí "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞" (–¥–æ–±–∞–≤—å —Ç–æ—á–∫—É)
       * "–ì.–ú–û–°–ö–í–ê" ‚Üí "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞" (–ø—Ä–æ–±–µ–ª)
       * "–ì–û–† –ú–û–°–ö–í–ê" ‚Üí "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞"
       * "–°. –ë–û–õ–¨–®–û–ï" ‚Üí "—Å. –ë–æ–ª—å—à–æ–µ"
       * "–î –ö–†–ê–°–ù–û–ï" ‚Üí "–¥. –ö—Ä–∞—Å–Ω–æ–µ" (–¥–æ–±–∞–≤—å —Ç–æ—á–∫—É)
       * "–ü–û–°.–Æ–ñ–ù–´–ô" ‚Üí "–ø–æ—Å. –Æ–∂–Ω—ã–π" (–ø—Ä–æ–±–µ–ª)
     - –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:
       * "–≥–æ—Ä. –ú–æ—Å–∫–≤–∞"
       * "—Å. –ë–æ–ª—å—à–æ–µ"
       * "–¥. –ö—Ä–∞—Å–Ω–æ–µ, –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª."
       * "–ø–æ—Å. –Æ–∂–Ω—ã–π, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π"
       * "–≥–æ—Ä. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥"
       * "—Ä–µ—Å–ø. –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, –≥–æ—Ä. –ö–∞–∑–∞–Ω—å"
     - –ï—Å–ª–∏ –∞–¥—Ä–µ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π, —Å–æ—Ö—Ä–∞–Ω—è–π –∏–µ—Ä–∞—Ä—Ö–∏—é: "—Ä–µ—Å–ø. –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, –≥–æ—Ä. –ö–∞–∑–∞–Ω—å"
   - –ü–æ–ª: "–º—É–∂" –∏–ª–∏ "–∂–µ–Ω".
   - –°—Ç—Ä–æ–∫–∞ "–ö–µ–º –≤—ã–¥–∞–Ω" ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –£–§–ú–°/–ú–í–î.
   - –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏: –î–î.–ú–ú.–ì–ì–ì–ì.
   - –ö–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è: XXX-XXX.

2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ 5 (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è):
   - –®—Ç–∞–º–ø —Å –∞–¥—Ä–µ—Å–æ–º (—á–∞—Å—Ç–æ —Ä–∞–∑–º—ã—Ç –∏–ª–∏ –∫—Ä–∏–≤–æ–π) ‚Äî –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å.
   - –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —à—Ç–∞–º–ø–∞.
   - –ï—Å–ª–∏ —à—Ç–∞–º–ø —Ä–∞–∑–º—ã—Ç, –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ª–æ–≥–∏–∫—É (–ø–µ—Ä–≤–∞—è –ø—Ä–æ–ø–∏—Å—å –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ –æ–±—ã—á–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è).

–ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å—Ç–∞—Ä—ã–π –∏–ª–∏ –Ω–æ–≤—ã–π (2022 –≥. –∏ –ø–æ–∑–∂–µ), –∞–ª–≥–æ—Ä–∏—Ç–º —Ç–æ—Ç –∂–µ.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–°–µ—Ä–∏—è_–∏_–Ω–æ–º–µ—Ä": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": "...",
  "–ö–µ–º_–≤—ã–¥–∞–Ω": "...",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "..."
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "–∏–Ω–Ω_—Å—É–ø—Ä—É–≥–∞": {
            "keywords": ["–∏–Ω–Ω —Å—É–ø—Ä—É–≥–∞", "–∏–Ω–Ω–∞ —Å—É–ø—Ä—É–≥–∞", "–∏–Ω–Ω –∂–µ–Ω—ã", "–∏–Ω–Ω–∞ –∂–µ–Ω—ã", "–∏–Ω–Ω –º—É–∂–∞", "–∏–Ω–Ω –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "–∏–Ω–Ω–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á—ë—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ (–ò–ù–ù).

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢ –ò–ù–ù:
–ò–ù–ù –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: 123456789012
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 1234 5678 9012 –∏–ª–∏ 123 456 789 012
- –° –¥–µ—Ñ–∏—Å–∞–º–∏: 1234-5678-9012 –∏–ª–∏ 123-456-789-012
- –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ: (123) 456-789-012
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –ò–ù–ù –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä (—Ñ–∏–∑. –ª–∏—Ü–æ) ‚Äî –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –¥–µ—Ñ–∏—Å–æ–≤
- –ò—â–∏ ~12 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏: "–ò–ù–ù", "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä", "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ"
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Å–∫–æ–±–∫–∏
- –ü—Ä–∏–≤–µ–¥–∏ –∫ —Ñ–æ—Ä–º–∞—Ç—É: 123456789012
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã 10-11 —Ü–∏—Ñ—Ä
- –ù–ï –ø—É—Ç–∞–π —Å –û–ì–†–ù (13/15 —Ü–∏—Ñ—Ä), –°–ù–ò–õ–° (11 —Ü–∏—Ñ—Ä), –¥–∞—Ç–∞–º–∏, —Ç–µ–ª–µ—Ñ–æ–Ω–∞–º–∏

–°–¢–†–£–ö–¢–£–†–ê –î–û–ö–£–ú–ï–ù–¢–ê:
1. –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á—ë—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞ –≤ –Ω–∞–ª–æ–≥–æ–≤–æ–º –æ—Ä–≥–∞–Ω–µ" –∏–ª–∏ "–°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á—ë—Ç".
2. –°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä (–Ω–µ –ø—É—Ç–∞–π —Å –ò–ù–ù): –æ–±—ã—á–Ω–æ —Ñ–æ—Ä–º–∞—Ç XX ‚Ññ XXXXXXXXXX (—Ç–æ–∂–µ 12 —Ü–∏—Ñ—Ä, –Ω–æ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ).
3. –ò–ù–ù: –∫—Ä—É–ø–Ω—ã–π –Ω–æ–º–µ—Ä, —á–∞—Å—Ç–æ –≤—ã–¥–µ–ª–µ–Ω –∂–∏—Ä–Ω—ã–º –∏–ª–∏ —Ä–∞–º–∫–æ–π ‚Äî –í–°–ï–ì–î–ê 12 —Ü–∏—Ñ—Ä.
4. –§–ò–û: –±–ª–æ–∫ —Ç–µ–∫—Å—Ç–∞ "–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ" –∏–ª–∏ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ.
5. –ü–æ–¥–ø–∏—Å—å –∏ –ø–µ—á–∞—Ç—å –Ω–∞–ª–æ–≥–æ–≤–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
- –ò–ù–ù –æ–±—ã—á–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–µ –∏–ª–∏ —Å–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞ –∫—Ä—É–ø–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º.
- –§–ò–û –Ω–∏–∂–µ –ò–ù–ù.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–ò–ù–ù": "123456789012"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },
        "—Å–Ω–∏–ª—Å_—Å—É–ø—Ä—É–≥–∞": {
            "keywords": ["—Å–Ω–∏–ª—Å —Å—É–ø—Ä—É–≥–∞", "—Å–Ω–∏–ª—Å–∞ —Å—É–ø—Ä—É–≥–∞", "—Å–Ω–∏–ª—Å –∂–µ–Ω—ã", "—Å–Ω–∏–ª—Å–∞ –∂–µ–Ω—ã", "—Å–Ω–∏–ª—Å –º—É–∂–∞", "—Å–Ω–∏–ª—Å–∞ –º—É–∂–∞", "—Å–Ω–∏–ª—Å –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞", "—Å–Ω–∏–ª—Å–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ–Ω—Å–∏–æ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è (–°–ù–ò–õ–°) ‚Äî —Å—Ç–∞—Ä—ã–π –∑–µ–ª—ë–Ω—ã–π –ø–ª–∞—Å—Ç–∏–∫ –∏–ª–∏ –Ω–æ–≤–∞—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û, –∞–¥—Ä–µ—Å–∞ —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –§–û–†–ú–ê–¢–´ –°–ù–ò–õ–°:
–°–ù–ò–õ–° –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω –ø–æ-—Ä–∞–∑–Ω–æ–º—É:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ: 123-456-789 12
- –°–ª–∏—Ç–Ω–æ: 12345678912
- –° –ø—Ä–æ–±–µ–ª–∞–º–∏: 123 456 789 12
- –ë–µ–∑ –¥–µ—Ñ–∏—Å–æ–≤: 123 456 789 12
- –° —Ç–æ—á–∫–∞–º–∏: 123.456.789.12
- –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–º—ã—Ç

–ò–ù–°–¢–†–£–ö–¶–ò–Ø:
- –°–ù–ò–õ–° –í–°–ï–ì–î–ê 11 —Ü–∏—Ñ—Ä –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ XXX-XXX-XXX XX
- –ò—â–∏ ~11 —Ü–∏—Ñ—Ä —Ä—è–¥–æ–º —Å–æ —Å–ª–æ–≤–∞–º–∏: "–°–ù–ò–õ–°", "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä", "–°–§–†"
- –£–±–µ—Ä–∏ –≤—Å–µ –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã, —Ç–æ—á–∫–∏
- –ü—Ä–∏–≤–µ–¥–∏ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É: XXX-XXX-XXX XX (—Å –¥–µ—Ñ–∏—Å–∞–º–∏ –º–µ–∂–¥—É —Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø—Ä–æ–±–µ–ª–æ–º –ø–µ—Ä–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–≤–æ–π–∫–æ–π)
- –ï—Å–ª–∏ —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä —Ä–∞–∑–º—ã—Ç–∞ - –ø–æ–ø—ã—Ç–∞–π—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã 9-10 —Ü–∏—Ñ—Ä
- –ù–ï –ø—É—Ç–∞–π —Å –ò–ù–ù (12 —Ü–∏—Ñ—Ä), —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º, –¥—Ä—É–≥–∏–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏

1. –°—Ç–∞—Ä—ã–π –±–ª–∞–Ω–∫:
        - –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–°—Ç—Ä–∞—Ö–æ–≤–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ" –∏ —Å—Ç—Ä–æ–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä" ‚Äî —Ñ–æ—Ä–º–∞—Ç XXX-XXX-XXX XX.
        - –ù–∏–∂–µ –±–ª–æ–∫ "–§–∞–º–∏–ª–∏—è", "–ò–º—è", "–û—Ç—á–µ—Å—Ç–≤–æ".
        - –í–Ω–∏–∑—É —Å–ª–µ–≤–∞ "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è" –∏ "–ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è".
        - –ü–æ–¥ –ø–æ–¥–ø–∏—Å—å—é —Å—Ç—Ä–∞—Ö–æ–≤–∞—Ç–µ–ª—è ‚Äî –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏.
2. –ù–æ–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞ –°–§–†:
        - –®–∞–ø–∫–∞ "–°—Ç—Ä–∞—Ö–æ–≤–æ–π –Ω–æ–º–µ—Ä –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ª–∏—Ü–µ–≤–æ–≥–æ —Å—á—ë—Ç–∞" ‚Äî —Ä—è–¥–æ–º –°–ù–ò–õ–°.
        - –¢–∞–±–ª–∏—Ü–∞ —Å –§–ò–û, –¥–∞—Ç–æ–π –∏ –º–µ—Å—Ç–æ–º —Ä–æ–∂–¥–µ–Ω–∏—è.

–ï—Å–ª–∏ OCR –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É–π –º–∞–∫–µ—Ç: –Ω–æ–º–µ—Ä –∫—Ä—É–ø–Ω–æ –≤ —Ü–µ–Ω—Ç—Ä–µ, –§–ò–û –±–ª–æ–∫–æ–º –Ω–∏–∂–µ, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥ –§–ò–û.

–í–µ—Ä–Ω–∏ JSON:
{
  "–§–ò–û": "...",
  "–°–ù–ò–õ–°": "XXX-XXX-XXX XX",
  "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–¢–∏–ø_–±–ª–∞–Ω–∫–∞": "–∫–∞—Ä—Ç–∞ 1997/—Å–ø—Ä–∞–≤–∫–∞ –°–§–†"
}
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏_–±—Ä–∞–∫–∞": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞–∑–≤–æ–¥–µ", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–µ –±—Ä–∞–∫–∞", "—Ä–∞–∑–≤–æ–¥", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "–∑–∞–≥—Å"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

–ù–∞–π–¥–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –§–ò–û –±—ã–≤—à–µ–≥–æ —Å—É–ø—Ä—É–≥–∞ (–º—É–∂–∞)
- –§–ò–û –±—ã–≤—à–µ–π —Å—É–ø—Ä—É–≥–∏ (–∂–µ–Ω—ã)
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –±—ã–≤—à–µ–≥–æ —Å—É–ø—Ä—É–≥–∞
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –±—ã–≤—à–µ–π —Å—É–ø—Ä—É–≥–∏
- –î–∞—Ç–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –±—Ä–∞–∫–∞
- –û—Ä–≥–∞–Ω –ó–ê–ì–°, –≤—ã–¥–∞–≤—à–∏–π —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ
- –ù–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∞ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
- –§–∞–º–∏–ª–∏–∏ –ø–æ—Å–ª–µ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –±—Ä–∞–∫–∞ (–µ—Å–ª–∏ –º–µ–Ω—è–ª–∏—Å—å)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –†–∞–∑–ª–∏—á–∞–π –§–ò–û –±—ã–≤—à–µ–≥–æ —Å—É–ø—Ä—É–≥–∞ –∏ –±—ã–≤—à–µ–π —Å—É–ø—Ä—É–≥–∏
- –î–∞—Ç–∞ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –±—Ä–∞–∫–∞ ‚Äî —ç—Ç–æ –¥–∞—Ç–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è –≤ –ó–ê–ì–°, –Ω–µ –¥–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
- –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã —Ñ–∞–º–∏–ª–∏–∏ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–æ–¥–∞ ‚Äî –∏–∑–≤–ª–µ–∫–∏ –∏—Ö –æ—Ç–¥–µ–ª—å–Ω–æ

–í–µ—Ä–Ω–∏ JSON:
{
  \"–ë—ã–≤—à–∏–π_—Å—É–ø—Ä—É–≥_–§–ò–û\": \"–§–ò–û –º—É–∂–∞\",
  \"–ë—ã–≤—à–∏–π_—Å—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è\": \"–î–î.–ú–ú.–ì–ì–ì–ì\",
  \"–ë—ã–≤—à–∞—è_—Å—É–ø—Ä—É–≥–∞_–§–ò–û\": \"–§–ò–û –∂–µ–Ω—ã\",
  \"–ë—ã–≤—à–∞—è_—Å—É–ø—Ä—É–≥–∞_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è\": \"–î–î.–ú–ú.–ì–ì–ì–ì\",
  \"–î–∞—Ç–∞_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏—è_–±—Ä–∞–∫–∞\": \"–î–î.–ú–ú.–ì–ì–ì–ì\",
  \"–§–∞–º–∏–ª–∏—è_—Å—É–ø—Ä—É–≥–∞_–ø–æ—Å–ª–µ_—Ä–∞–∑–≤–æ–¥–∞\": \"...\",
  \"–§–∞–º–∏–ª–∏—è_—Å—É–ø—Ä—É–≥–∏_–ø–æ—Å–ª–µ_—Ä–∞–∑–≤–æ–¥–∞\": \"...\",
  \"–û—Ä–≥–∞–Ω_–ó–ê–ì–°\": \"...\",
  \"–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏\": \"...\",
  \"–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏\": \"–î–î.–ú–ú.–ì–ì–ì–ì\"
}

–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –±—Ä–∞–∫–µ", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –∑–∞–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞–∫–∞ (–†–§ –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω –°–ù–ì, –Ω–∞–ø—Ä–∏–º–µ—Ä –¢–∞–¥–∂–∏–∫–∏—Å—Ç–∞–Ω–∞).

üî¥ –ö–û–ù–¢–ï–ö–°–¢: –§–ò–û –î–û–õ–ñ–ù–ò–ö–ê = {debtor_fio}

–¢–í–û–Ø –ó–ê–î–ê–ß–ê: –ù–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –°–£–ü–†–£–ì–ê –¥–æ–ª–∂–Ω–∏–∫–∞ (–º—É–∂–∞ –∏–ª–∏ –∂–µ–Ω—É) –∏ –≤–µ—Ä–Ω—É—Ç—å –¢–û–õ–¨–ö–û –µ–≥–æ/–µ—ë –¥–∞–Ω–Ω—ã–µ.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

üéØ –ê–õ–ì–û–†–ò–¢–ú:

1. –ü—Ä–æ—á–∏—Ç–∞–π –§–ò–û –æ–±–æ–∏—Ö —Å—É–ø—Ä—É–≥–æ–≤ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–º—É–∂ –ò –∂–µ–Ω–∞)
2. –û–ø—Ä–µ–¥–µ–ª–∏, –∫—Ç–æ –∏–∑ –Ω–∏—Ö –î–û–õ–ñ–ù–ò–ö (—Å—Ä–∞–≤–Ω–∏ —Å –§–ò–û: {debtor_fio})
3. –í–µ—Ä–Ω–∏ –¥–∞–Ω–Ω—ã–µ –°–£–ü–†–£–ì–ê (—Ç–æ–≥–æ, –∫—Ç–æ –ù–ï —è–≤–ª—è–µ—Ç—Å—è –¥–æ–ª–∂–Ω–∏–∫–æ–º)

–ü–†–ò–ú–ï–†:
–ï—Å–ª–∏ {debtor_fio} = "–ú–∞–Ω—Å—É—Ä–æ–≤ –ê—Ö–º–∞–¥ –¢–æ–¥–∂–∏–¥–∏–Ω–æ–≤–∏—á"
–ò –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ:
- –º—É–∂: –ú–ê–ù–°–£–†–û–í –ê–•–ú–ê–î –¢–û–î–ñ–ò–î–ò–ù–û–í–ò–ß, 14.01.1997
- –∂–µ–Ω–µ: –®–ê–•–û–í–ë–ò–õ–õ–ò–ù–ó–û–î–ê –ë–ò–ë–ò–†–ê–î–ñ–ê–ë –®–û–ú–£–†–û–î, 06.08.1999
- –ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Ñ–∞–º–∏–ª–∏–∏: –º—É–∂—É –ú–ê–ù–°–£–†–û–í, –∂–µ–Ω–µ –®–ê–•–û–í–ë–ò–õ–õ–ò–ù–ó–û–î–ê

–¢–æ –¥–æ–ª–∂–Ω–∏–∫ = –º—É–∂ (–ú–∞–Ω—Å—É—Ä–æ–≤), –∑–Ω–∞—á–∏—Ç –°–£–ü–†–£–ì = –∂–µ–Ω–∞
–í–µ—Ä–Ω–∏:
- –°—É–ø—Ä—É–≥_–§–ò–û: "–®–∞—Ö–æ–≤–±–∏–ª–ª–∏–Ω–∑–æ–¥–∞ –ë–∏–±–∏—Ä–∞–¥–∂–∞–± –®–æ–º—É—Ä–æ–¥"
- –°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è: "06.08.1999"

üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –°—Ä–∞–≤–Ω–∏–≤–∞–π –§–ò–û –ø–æ —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏ (–æ—Ç—á–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)
- –ò—Å–ø–æ–ª—å–∑—É–π –ê–ö–¢–£–ê–õ–¨–ù–´–ï —Ñ–∞–º–∏–ª–∏–∏ –ø–æ—Å–ª–µ –±—Ä–∞–∫–∞ (–∏–∑ –±–ª–æ–∫–∞ "–ø—Ä–∏—Å–≤–æ–µ–Ω—ã —Ñ–∞–º–∏–ª–∏–∏")
- –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—à—å —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–æ–ª–∂–Ω–∏–∫–∞ - –≤–µ—Ä–Ω–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–≥–æ –ø–æ–ª–∞ –¥–æ–ª–∂–Ω–∏–∫–∞
- –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –û–î–ù–û–ì–û —Å—É–ø—Ä—É–≥–∞ (—Ç–æ–≥–æ, –∫—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–∏–∫)
- –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—à—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ä—É–∫–æ–ø–∏—Å–Ω—ã–π —Ç–µ–∫—Å—Ç - —á–∏—Ç–∞–π –ø–µ—á–∞—Ç–Ω—ã–π –±–ª–æ–∫ –≤–Ω–∏–∑—É

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON:
{
  "–°—É–ø—Ä—É–≥_–§–ò–û": "–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ —Å—É–ø—Ä—É–≥–∞ –¥–æ–ª–∂–Ω–∏–∫–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ –±—Ä–∞–∫–∞)",
  "–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–î–∞—Ç–∞_–∑–∞–∫–ª—é—á–µ–Ω–∏—è_–±—Ä–∞–∫–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
  "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
  "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "...",
  "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "–î–î.–ú–ú.–ì–ì–ì–ì"
}

–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–æ–∂–¥–µ–Ω–∏–∏": {
            "keywords": ["—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ —Ä–µ–±–µ–Ω–∫–∞", "–∫–æ–ø–∏—è —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "–∫–æ–ø–∏–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "–∫–æ–ø–∏–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π",  "—Ä–æ–¥–∏–ª—Å—è", "—Ä–æ–¥–∏–ª–∞—Å—å", "–∑–∞–ø–∏—Å—å –∞–∫—Ç–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏", "—Ä–µ–±–µ–Ω–æ–∫", "–∑–∞–≥—Å"],
            "prompt": """–¢—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ(–∞) –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ —Ä–µ–±–µ–Ω–∫–∞/–¥–µ—Ç–µ–π.

–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï: –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç –≤ CAPS LOCK ‚Äî –ø—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É (–§–ò–û —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã).

üî¥üî¥üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ò–ó–í–õ–ï–ö–ê–ô –í–°–ï–• –î–ï–¢–ï–ô:
- –í –û–î–ù–û–ú —Ñ–∞–π–ª–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 1, 2, 3 –∏–ª–∏ –ë–û–õ–¨–®–ï —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏!
- –ü–†–û–í–ï–†–¨ –ö–ê–ñ–î–£–Æ –°–¢–†–ê–ù–ò–¶–£ –î–û–ö–£–ú–ï–ù–¢–ê –û–¢ –ù–ê–ß–ê–õ–ê –î–û –ö–û–ù–¶–ê
- –°—á–∏—Ç–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö –§–ò–û –¥–µ—Ç–µ–π –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö:
  ‚Ä¢ 1 —Ä–µ–±–µ–Ω–æ–∫ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 1 —ç–ª–µ–º–µ–Ω—Ç–æ–º
  ‚Ä¢ 2 —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 2 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
  ‚Ä¢ 3 —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 3 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –ù–ï –ü–†–û–ü–£–°–ö–ê–ô –°–¢–†–ê–ù–ò–¶–´! –ü—Ä–æ—á–∏—Ç–∞–π –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω–æ!

–ê–õ–ì–û–†–ò–¢–ú:
1. –ü—Ä–æ—á–∏—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É 1 ‚Üí –Ω–∞—à—ë–ª —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ –º–∞—Å—Å–∏–≤
2. –ü—Ä–æ—á–∏—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É 2 ‚Üí –Ω–∞—à—ë–ª –î–†–£–ì–û–ì–û —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ –º–∞—Å—Å–∏–≤
3. –ü—Ä–æ—á–∏—Ç–∞–π —Å—Ç—Ä–∞–Ω–∏—Ü—É 3 ‚Üí –Ω–∞—à—ë–ª –ï–©–Å –û–î–ù–û–ì–û —Ä–µ–±–µ–Ω–∫–∞ ‚Üí –¥–æ–±–∞–≤—å –≤ –º–∞—Å—Å–∏–≤
4. –ü—Ä–æ–¥–æ–ª–∂–∞–π –¥–æ –∫–æ–Ω—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ö–ê–ö –†–ê–ó–õ–ò–ß–ê–¢–¨ –†–ê–ó–ù–´–ï –°–í–ò–î–ï–¢–ï–õ–¨–°–¢–í–ê:
- –ö–∞–∂–¥–æ–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ = –û–¢–î–ï–õ–¨–ù–´–ô —Ä–µ–±–µ–Ω–æ–∫ —Å –†–ê–ó–ù–´–ú –§–ò–û –∏ –†–ê–ó–ù–û–ô –¥–∞—Ç–æ–π —Ä–æ–∂–¥–µ–Ω–∏—è
- –†–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–µ—Ç–µ–π (–ê—Ä—Ç—ë–º, –ú–∏–ª–∞, –î–µ–º–∏–¥) = —Ä–∞–∑–Ω—ã–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
- –†–∞–∑–Ω—ã–µ –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è (30.08.2010, 24.02.2021, 18.03.2015) = —Ä–∞–∑–Ω—ã–µ –¥–µ—Ç–∏
- –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –∫–æ–ø–∏—è –û–î–ù–û–ì–û —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ (–æ–¥–Ω–æ –§–ò–û –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω–∞—Ö) ‚â† –¥–≤–∞ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞

–î–ª—è –ö–ê–ñ–î–û–ì–û –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑–≤–ª–µ–∫–∏:
- –§–ò–û —Ä–µ–±–µ–Ω–∫–∞ (–ø–æ–ª–Ω–æ—Å—Ç—å—é: –§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ) - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞ - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
- –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è —Ä–µ–±–µ–Ω–∫–∞
- –§–ò–û –º–∞—Ç–µ—Ä–∏
- –§–ò–û –æ—Ç—Ü–∞
- –û—Ä–≥–∞–Ω –ó–ê–ì–°, –≤—ã–¥–∞–≤—à–∏–π —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ
- –ù–æ–º–µ—Ä –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∞
- –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞

–†–ê–ó–õ–ò–ß–ê–ô:
- –§–ò–û —Ä–µ–±–µ–Ω–∫–∞ (—á—å–µ —ç—Ç–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ) ‚â† –§–ò–û –º–∞—Ç–µ—Ä–∏ ‚â† –§–ò–û –æ—Ç—Ü–∞
- –ï—Å–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ–Ω–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —É–∫–∞–∂–∏ null

–í–µ—Ä–Ω–∏ JSON:
{
  "–î–µ—Ç–∏": [
    {
      "–†–µ–±–µ–Ω–æ–∫_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ê—Ä—Ç—ë–º –ú–∞–∫—Å–∏–º–æ–≤–∏—á",
      "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "30.08.2010",
      "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–≥. –ö—Ä–∞—Å–Ω–æ—Ç—É—Ä—å–∏–Ω—Å–∫",
      "–ú–∞—Ç—å_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–µ—Ü_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á",
      "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
      "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "174",
      "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "08.09.2010"
    },
    {
      "–†–µ–±–µ–Ω–æ–∫_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –ú–∏–ª–∞ –ú–∞–∫—Å–∏–º–æ–≤–Ω–∞",
      "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "24.02.2021",
      "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–≥. –ú–∏–∞—Å—Å",
      "–ú–∞—Ç—å_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–µ—Ü_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á",
      "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
      "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "110219740001800274009",
      "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "05.03.2021"
    },
    {
      "–†–µ–±–µ–Ω–æ–∫_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –î–µ–º–∏–¥ –ú–∞–∫—Å–∏–º–æ–≤–∏—á",
      "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "18.03.2015",
      "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–≥. –ú–∏–∞—Å—Å",
      "–ú–∞—Ç—å_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–Ω–∞",
      "–û—Ç–µ—Ü_–§–ò–û": "–ú–∏—Ö–∞–ª—ë–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥–µ–µ–≤–∏—á",
      "–û—Ä–≥–∞–Ω_–ó–ê–ì–°": "...",
      "–ù–æ–º–µ—Ä_–∑–∞–ø–∏—Å–∏": "503",
      "–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏": "31.03.2015"
    }
  ]
}

–ü–†–ê–í–ò–õ–û:
- 1 —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 1 —ç–ª–µ–º–µ–Ω—Ç–æ–º
- 2 —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 2 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏  
- 3 —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ ‚Üí –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" —Å 3 —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ!)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –†–ê–ó–ù–´–• –¥–µ—Ç–µ–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
–ï—Å–ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å—Ç–∞–≤—å null. –ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.""",
        },

        "–æ–±—â–∏–π": {
            "keywords": [],
            "prompt": """–¢—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.

–û–ø—Ä–µ–¥–µ–ª–∏ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –∫–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è (–§–ò–û, –¥–∞—Ç—ã, —Å—É–º–º—ã, –Ω–æ–º–µ—Ä–∞) –∏ –≤–µ—Ä–Ω–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π JSON.
–ï—Å–ª–∏ —Ç–∏–ø –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω, –≤–µ—Ä–Ω–∏ {"raw_text": "..."} —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º.
–ù–µ –¥–æ–±–∞–≤–ª—è–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –≤—ã–≤–æ–¥ —Å—Ç—Ä–æ–≥–æ JSON.""",
        },
    }

    # === Utilities ===
    @staticmethod
    def detect_document_type(filename: str, first_page_text: Optional[str] = None) -> tuple[str, str]:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É.

        Args:
            filename: –ò–º—è —Ñ–∞–π–ª–∞
            first_page_text: –¢–µ–∫—Å—Ç –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è)

        Returns:
            –ö–æ—Ä—Ç–µ–∂ (—Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞, –ø—Ä–æ–º–ø—Ç –¥–ª—è GPT)
        """
        # –ó–∞–º–µ–Ω—è–µ–º –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–±–µ–ª—ã –¥–ª—è –ª—É—á—à–µ–≥–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
        filename_lower = filename.lower().replace('_', ' ')

        # –ü–†–ò–û–†–ò–¢–ï–¢ 1: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –°–£–ü–†–£–ì–ê –∏ –ë–†–ê–ö–ê (–æ–Ω–∏ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã)
        spouse_doc_types = ["–ø–∞—Å–ø–æ—Ä—Ç_—Å—É–ø—Ä—É–≥–∞", "–∏–Ω–Ω_—Å—É–ø—Ä—É–≥–∞", "—Å–Ω–∏–ª—Å_—Å—É–ø—Ä—É–≥–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏_–±—Ä–∞–∫–∞", "—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ"]
        for doc_type in spouse_doc_types:
            if doc_type in DocumentProcessor.DOCUMENT_TYPES:
                config = DocumentProcessor.DOCUMENT_TYPES[doc_type]
                for keyword in config.get("keywords", []):
                    if keyword in filename_lower:
                        return doc_type, config["prompt"]
        
        # –ü–†–ò–û–†–ò–¢–ï–¢ 2: –ü–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—ã—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –î–û–õ–ñ–ù–ò–ö–ê
        for doc_type, config in DocumentProcessor.DOCUMENT_TYPES.items():
            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å—É–ø—Ä—É–≥–∞, –æ–Ω–∏ —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
            if doc_type in spouse_doc_types:
                continue
            for keyword in config.get("keywords", []):
                if keyword in filename_lower:
                    return doc_type, config["prompt"]

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ –∏–º–µ–Ω–∏ –∏ –µ—Å—Ç—å —Ç–µ–∫—Å—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
        if first_page_text:
            text_lower = first_page_text.lower()

            # –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏—Å—Ç–∞–≤–∞ - –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
            if any(kw in text_lower for kw in ["—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤", "—Ñ—Å—Å–ø", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ", "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ", "—Å—É–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç–∞–≤–∞-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"]):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", {})
                return "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", config.get("prompt", "")

            # –î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞
            if "–ø–æ—Ä—É—á–∏—Ç–µ–ª" in text_lower and "–¥–æ–≥–æ–≤–æ—Ä" in text_lower:
                # –≠—Ç–æ –æ–±—ã—á–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∫ –æ–±—â–∏–π —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–µ
                return "–æ–±—â–∏–π", """–î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞.

–ù–∞–π–¥–∏:
- –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞ –∏ –¥–∞—Ç—É
- –ü–æ—Ä—É—á–∏—Ç–µ–ª—å (–∫—Ç–æ –¥–∞—ë—Ç –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–æ): –§–ò–û
- –î–æ–ª–∂–Ω–∏–∫ (–∑–∞ –∫–æ–≥–æ –ø–æ—Ä—É—á–∞—é—Ç—Å—è): –§–ò–û
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (–≤ —á—å—é –ø–æ–ª—å–∑—É –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–æ): –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞

JSON:
{
    "–¢–∏–ø": "–î–æ–≥–æ–≤–æ—Ä –ø–æ—Ä—É—á–∏—Ç–µ–ª—å—Å—Ç–≤–∞",
    "–ù–æ–º–µ—Ä": "...",
    "–î–∞—Ç–∞": "–î–î.–ú–ú.–ì–ì–ì–ì",
    "–ü–æ—Ä—É—á–∏—Ç–µ–ª—å": "...",
    "–î–æ–ª–∂–Ω–∏–∫": "...",
    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "...",
    "–°—É–º–º–∞": "...",
    "–°—Ä–æ–∫": "..."
}
"""

            # –ï–ì–†–ù –≤—ã–ø–∏—Å–∫–∞
            if "–µ–¥–∏–Ω—ã–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏" in text_lower or "–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä" in text_lower:
                if "–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Å–≤–µ–¥–µ–Ω–∏—è" in text_lower or "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ" in text_lower:
                    config = DocumentProcessor.DOCUMENT_TYPES.get("–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", {})
                    return "–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", config.get("prompt", "")
                else:
                    config = DocumentProcessor.DOCUMENT_TYPES.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", {})
                    return "–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", config.get("prompt", "")

            # –ë–ö–ò/–ù–ë–ö–ò/–û–ö–ë –æ—Ç—á—ë—Ç—ã - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º —Å–ª–æ–≤–∞–º (–ü–û–†–Ø–î–û–ö –í–ê–ñ–ï–ù!)
            # –°–Ω–∞—á–∞–ª–∞ –ù–ë–ö–ò (—Å–∞–º—ã–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π)
            if "–Ω–±–∫–∏" in text_lower or "–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –±—é—Ä–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π" in text_lower or "nbch" in text_lower or "nbki" in text_lower:
                config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", {})
                return "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏", config.get("prompt", "")
            
            # –ü–æ—Ç–æ–º –û–ö–ë
            if "–æ–∫–±" in text_lower or "–æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–µ –∫—Ä–µ–¥–∏—Ç–Ω–æ–µ –±—é—Ä–æ" in text_lower:
                config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–æ–∫–±", {})
                return "–æ—Ç—á–µ—Ç_–æ–∫–±", config.get("prompt", "")
            
            # –í –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—á–µ—Ä–µ–¥—å –ë–ö–ò (—Å–∞–º—ã–π –æ–±—â–∏–π)
            if "–±–∫–∏" in text_lower or "—Å–∫–æ—Ä–∏–Ω–≥" in text_lower or ("–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è" in text_lower and "–±—é—Ä–æ" in text_lower):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–æ—Ç—á–µ—Ç_–±–∫–∏", {})
                return "–æ—Ç—á–µ—Ç_–±–∫–∏", config.get("prompt", "")

            # –ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            if "–Ω–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ" in text_lower or ("–≤—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ" in text_lower and "—Ñ–Ω—Å" in text_lower):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", {})
                return "–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", config.get("prompt", "")

            # –ì–ò–ë–î–î - –∑–∞—è–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —Å–ø—Ä–∞–≤–∫–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
            gibdd_keywords = ["–≥–∏–±–¥–¥", "–≥–∞–∏", "–º—Ä—ç–æ", "–≥–æ—Å–∞–≤—Ç–æ–∏–Ω—Å–ø–µ–∫—Ü–∏—è", "–≥–æ—Å–∞–≤—Ç–æ–∏–Ω—Å–ø–µ–∫—Ü–∏–∏", "–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è"]
            transport_keywords = ["—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω", "–∑–∞—è–≤–ª–µ–Ω–∏–µ", "–∞–≤—Ç–æ–º–æ–±–∏–ª", "—Ç—Å", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω", "—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü", "–ø—Ç—Å", "—Å—Ç—Å", "—Å–ø—Ä–∞–≤–∫–∞"]
            
            has_gibdd = any(kw in text_lower for kw in gibdd_keywords)
            has_transport = any(kw in text_lower for kw in transport_keywords)
            
            if has_gibdd or (has_transport and any(kw in filename_lower for kw in ["–≥–∏–±–¥–¥", "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", "—Å–ø—Ä–∞–≤–∫–∞"])):
                config = DocumentProcessor.DOCUMENT_TYPES.get("–≥–∏–±–¥–¥", {})
                return "–≥–∏–±–¥–¥", config.get("prompt", "")

        # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –æ–±—â–∏–π —Ç–∏–ø
        return "–æ–±—â–∏–π", DocumentProcessor.DOCUMENT_TYPES.get("–æ–±—â–∏–π", {}).get(
            "prompt", "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–µ—Ä–Ω–∏ JSON"
        )

    @staticmethod
    def clean_json_response(text: str) -> str:
        text = text.strip()
        if text.startswith("```json"):
            text = text[7:]
        elif text.startswith("```"):
            text = text[3:]
        if text.endswith("```"):
            text = text[:-3]
        return text.strip()

    @staticmethod
    def encode_image_to_base64(image_path: str) -> str:
        """Encode image to base64 for OpenAI API."""
        with open(image_path, "rb") as image_file:
            return base64.b64encode(image_file.read()).decode('utf-8')

    @staticmethod
    def parse_decimal(value: Optional[str]) -> Optional[Decimal]:
        if not value:
            return None
        cleaned = str(value)
        for token in ("\xa0", " ", "—Ä—É–±.", "—Ä—É–±", "—Ä.", "—Ä", "‚ÇΩ"):
            cleaned = cleaned.replace(token, "")
        cleaned = cleaned.replace(",", ".")
        allowed = "0123456789.-"
        normalized = "".join(ch for ch in cleaned if ch in allowed)
        if not normalized or normalized in {"-", ".", "-."}:
            return None
        try:
            return Decimal(normalized)
        except InvalidOperation:
            return None

    @staticmethod
    def format_decimal(value: Decimal) -> str:
        quantized = value.quantize(Decimal("0.01"))
        formatted = f"{quantized:,.2f}".replace(",", " ")
        return formatted.replace(".", ",")

    @staticmethod
    def format_count_with_word(count: int, singular: str, few: str, many: str) -> str:
        """–°–∫–ª–æ–Ω—è–µ—Ç —Å–ª–æ–≤–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —á–∏—Å–ª–∞.
        
        Args:
            count: –ß–∏—Å–ª–æ
            singular: –§–æ—Ä–º–∞ –¥–ª—è 1 (—Å—á–µ—Ç)
            few: –§–æ—Ä–º–∞ –¥–ª—è 2-4 (—Å—á–µ—Ç–∞)
            many: –§–æ—Ä–º–∞ –¥–ª—è 5+ –∏ 0 (—Å—á–µ—Ç–æ–≤)
            
        Returns:
            –°—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ "5 —Å—á–µ—Ç–æ–≤", "1 —Å—á–µ—Ç", "3 —Å—á–µ—Ç–∞"
        """
        if count % 10 == 1 and count % 100 != 11:
            return f"{count} {singular}"
        elif count % 10 in [2, 3, 4] and count % 100 not in [12, 13, 14]:
            return f"{count} {few}"
        else:
            return f"{count} {many}"

    @staticmethod
    def normalize_creditor_name(name: str) -> str:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–±–∞–Ω–∫–∞/–ú–§–û/–ú–ö–ö).
        
        Args:
            name: –ò—Å—Ö–æ–¥–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
            
        Returns:
            –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
        """
        if not name:
            return ""
        
        # 1. –£–±–∏—Ä–∞–µ–º –ø—Ä–µ—Ñ–∏–∫—Å "–ú–§–û: " –∏ –ø–æ—Ö–æ–∂–∏–µ
        result = name.strip()
        for prefix in ["–ú–§–û:", "–ú—Ñ–æ:", "–ú–§–û :", "–ú—Ñ–æ :", "–ë–∞–Ω–∫: ", "–ë–ê–ù–ö: ", "–ë–∞–Ω–∫ :", "–ë–ê–ù–ö :"]:
            if result.startswith(prefix):
                result = result[len(prefix):].strip()
        
        # 2. –£–±–∏—Ä–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π –≤ —Å–∫–æ–±–∫–∞—Ö (—Ä–∞–Ω–µ–µ - ...)
        # –ò—â–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –æ—Ç–∫—Ä—ã–≤–∞—é—â—É—é —Å–∫–æ–±–∫—É —Å —Ç–µ–∫—Å—Ç–æ–º "—Ä–∞–Ω–µ–µ"
        import re
        result = re.sub(r'\s*\(—Ä–∞–Ω–µ–µ[^)]*\)\s*', ' ', result, flags=re.IGNORECASE)
        
        # 3. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–∞–≤—ã—á–∫–∏: '' "" ‚Üí ¬´¬ª
        # –°–ù–ê–ß–ê–õ–ê –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ —Å –ø–æ–º–æ—â—å—é regex
        # –ü–∞—Ç—Ç–µ—Ä–Ω: ''—Ç–µ–∫—Å—Ç'' ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r"''([^']+)''", r'¬´\1¬ª', result)
        # –ü–∞—Ç—Ç–µ—Ä–Ω: ""—Ç–µ–∫—Å—Ç"" ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r'""([^"]+)""', r'¬´\1¬ª', result)
        # –ü–∞—Ç—Ç–µ—Ä–Ω: "—Ç–µ–∫—Å—Ç" ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r'"([^"]+)"', r'¬´\1¬ª', result)
        # –ü–∞—Ç—Ç–µ—Ä–Ω: '—Ç–µ–∫—Å—Ç' ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = re.sub(r"'([^']+)'", r'¬´\1¬ª', result)
        
        # –ü–û–¢–û–ú –∑–∞–º–µ–Ω—è–µ–º —É–º–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ (–∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å)
        result = result.replace('"', '¬´').replace('"', '¬ª')  # –£–º–Ω—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∫–∞–≤—ã—á–∫–∏
        result = result.replace("'", '¬´').replace("'", '¬ª')  # –£–º–Ω—ã–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
        
        # –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –∫–∞–≤—ã—á–∫–∏ ¬´¬´—Ç–µ–∫—Å—Ç¬ª¬ª ‚Üí ¬´—Ç–µ–∫—Å—Ç¬ª
        result = result.replace('¬´¬´', '¬´').replace('¬ª¬ª', '¬ª')
        
        # 4. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã (–ú–ö–ö/–ú–§–ö –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä) –ü–ï–†–ï–î –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
        result = re.sub(r'\b(–º–∫–∫|–º—Ñ–∫|–º—Ñ–æ|–æ–æ–æ|–ø–∞–æ|–∞–æ)\b', lambda m: m.group(1).upper(), result, flags=re.IGNORECASE)
        
        # 5. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É: –û–û–û ¬´–î–∞-–∫—Ä–µ–¥–∏—Ç –ú–ö–ö¬ª ‚Üí –û–û–û –ú–ö–ö ¬´–î–∞-–∫—Ä–µ–¥–∏—Ç¬ª
        # –ü–∞—Ç—Ç–µ—Ä–Ω: –û–û–û ¬´[–Ω–∞–∑–≤–∞–Ω–∏–µ] –ú–ö–ö/–ú–§–ö¬ª ‚Üí –û–û–û –ú–ö–ö/–ú–§–ö ¬´[–Ω–∞–∑–≤–∞–Ω–∏–µ]¬ª
        patterns = [
            # –ú–ö–ö/–ú–§–ö –≤ –∫–æ–Ω—Ü–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ –∫–∞–≤—ã—á–∫–∞—Ö
            (r'–û–û–û\s+¬´([^¬ª]+?)\s+(–ú–ö–ö|–ú–§–ö|–ú–§–û)¬ª', r'–û–û–û \2 ¬´\1¬ª'),
            # –ú–ö–ö/–ú–§–ö –≤ –Ω–∞—á–∞–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤ –∫–∞–≤—ã—á–∫–∞—Ö: –û–û–û ¬´–ú–ö–ö –ù–∞–∑–≤–∞–Ω–∏–µ¬ª ‚Üí –û–û–û –ú–ö–ö ¬´–ù–∞–∑–≤–∞–Ω–∏–µ¬ª
            (r'–û–û–û\s+¬´(–ú–ö–ö|–ú–§–ö|–ú–§–û)\s+([^¬ª]+)¬ª', r'–û–û–û \1 ¬´\2¬ª'),
            (r'–û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é\s+¬´([^¬ª]+?)\s+(–ú–ö–ö|–ú–§–ö|–ú–§–û)¬ª', r'–û–û–û \2 ¬´\1¬ª'),
            (r'–û–û–û\s+([^\s¬´]+)\s+(–ú–ö–ö|–ú–§–ö|–ú–§–û)', r'–û–û–û \2 ¬´\1¬ª'),  # –ë–µ–∑ –∫–∞–≤—ã—á–µ–∫
        ]
        
        for pattern, replacement in patterns:
            result = re.sub(pattern, replacement, result, flags=re.IGNORECASE)
        
        # 6. –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
        result = ' '.join(result.split())
        
        return result.strip()

    @staticmethod
    def extract_search_keywords(name: str) -> list:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ —Ä–µ–µ—Å—Ç—Ä–∞—Ö.
        
        Args:
            name: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            
        Returns:
            –°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        """
        import re
        
        # –£–±–∏—Ä–∞–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –∏ —Ç–∏–ø—ã
        clean_name = name
        for prefix in ['–ü–ê–û', '–û–ê–û', '–ó–ê–û', '–ê–û', '–û–û–û', '–ú–ö–ö', '–ú–§–ö', '–ú–§–û', 
                       '–ü—É–±–ª–∏—á–Ω–æ–µ –∞–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ', '–ê–∫—Ü–∏–æ–Ω–µ—Ä–Ω–æ–µ –æ–±—â–µ—Å—Ç–≤–æ',
                       '–û–±—â–µ—Å—Ç–≤–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é',
                       '–ú–∏–∫—Ä–æ–∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è', '–ú–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è',
                       '–ú–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è']:
            clean_name = re.sub(r'\b' + re.escape(prefix) + r'\b', '', clean_name, flags=re.IGNORECASE)
        
        # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏
        clean_name = clean_name.replace('¬´', '').replace('¬ª', '').replace('"', '').replace("'", '')
        
        # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —Å–ª–æ–≤–∞ –∏ –±–µ—Ä—ë–º –∑–Ω–∞—á–∏–º—ã–µ (–¥–ª–∏–Ω–Ω–µ–µ 2 —Å–∏–º–≤–æ–ª–æ–≤)
        words = [w.strip().lower() for w in clean_name.split() if len(w.strip()) > 2]
        
        return words

    @staticmethod
    def get_bank_address(bank_name: str) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å –±–∞–Ω–∫–∞/–ú–§–û –∏–∑ —Ä–µ–µ—Å—Ç—Ä–æ–≤ –¶–ë –†–§.

        Args:
            bank_name: –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–ú–§–û (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–ª–∏ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ)

        Returns:
            –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –∏–ª–∏ —Ñ–æ–ª–ª–±—ç–∫ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
        """
        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
        keywords = DocumentProcessor.extract_search_keywords(bank_name)
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
        name_upper = bank_name.upper()
        is_mfo = any(marker in name_upper for marker in ["–ú–ö–ö", "–ú–§–ö", "–ú–§–û", "–ú–ò–ö–†–û–ö–†–ï–î–ò–¢–ù–ê–Ø", "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø"])
        is_bank = any(marker in name_upper for marker in ["–ë–ê–ù–ö", "–ü–ê–û", "–ê–û"])
        
        # –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤ —Ä–µ–µ—Å—Ç—Ä–µ
        def search_in_registry(registry, keywords):
            if not registry or not keywords:
                return None
            for key, data in registry.items():
                name_lower = data.get("–Ω–∞–∑–≤–∞–Ω–∏–µ", "").lower()
                matches = sum(1 for kw in keywords if kw in name_lower)
                if matches >= len(keywords) * 0.7:  # 70% –ø–æ—Ä–æ–≥
                    address = data.get("–∞–¥—Ä–µ—Å", "")
                    if address:
                        return address
            return None
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ï—Å–ª–∏ —ç—Ç–æ –ú–§–û/–ú–ö–ö - —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤ MFO_REGISTRY
        if is_mfo and not is_bank:
            address = search_in_registry(DocumentProcessor.MFO_REGISTRY, keywords)
            if address:
                return address
            # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ - –ø—Ä–æ–±—É–µ–º –≤ BANK_REGISTRY
            address = search_in_registry(DocumentProcessor.BANK_REGISTRY, keywords)
            if address:
                return address
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ï—Å–ª–∏ —ç—Ç–æ –±–∞–Ω–∫ - —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤ BANK_REGISTRY
        elif is_bank:
            address = search_in_registry(DocumentProcessor.BANK_REGISTRY, keywords)
            if address:
                return address
            # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ - –ø—Ä–æ–±—É–µ–º –≤ MFO_REGISTRY
            address = search_in_registry(DocumentProcessor.MFO_REGISTRY, keywords)
            if address:
                return address
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω - –∏—â–µ–º –≤ –æ–±–æ–∏—Ö —Ä–µ–µ—Å—Ç—Ä–∞—Ö
        else:
            address = search_in_registry(DocumentProcessor.MFO_REGISTRY, keywords)
            if address:
                return address
            address = search_in_registry(DocumentProcessor.BANK_REGISTRY, keywords)
            if address:
                return address
        
        # 3. FALLBACK: —Å–ª–æ–≤–∞—Ä—å –∞–¥—Ä–µ—Å–æ–≤ –±–∞–Ω–∫–æ–≤ –∏ –ú–§–û (–¥–∞–Ω–Ω—ã–µ –Ω–∞ 03.11.2025)
        BANK_ADDRESSES = {
            # –ö—Ä—É–ø–Ω–µ–π—à–∏–µ –±–∞–Ω–∫–∏
            "–°–ë–ï–†–ë–ê–ù–ö": "117312, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞–≤–∏–ª–æ–≤–∞, –¥. 19",
            "–°–ë–ï–†–ë–ê–ù–ö –†–û–°–°–ò–ò": "117312, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞–≤–∏–ª–æ–≤–∞, –¥. 19",
            "–†–û–°–°–ò–ò": "117312, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞–≤–∏–ª–æ–≤–∞, –¥. 19",  # –î–ª—è "–°–±–µ—Ä–±–∞–Ω–∫ –†–æ—Å—Å–∏–∏"
            "–í–¢–ë": "191144, –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –î–µ–≥—Ç—è—Ä–Ω—ã–π –ø–µ—Ä–µ—É–ª–æ–∫, –¥. 11, –ª–∏—Ç. –ê",
            "–ê–õ–¨–§–ê": "107078, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ö–∞–ª–∞–Ω—á—ë–≤—Å–∫–∞—è, –¥. 27",
            "–¢–ò–ù–¨–ö–û–§–§": "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26",
            "–¢ –ë–ê–ù–ö": "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26",
            "–¢-–ë–ê–ù–ö": "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26",
            "–¢–ë–ê–ù–ö": "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26",
            "T BANK": "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26",
            "TBANK": "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26",
            "–ú–¢–°": "115432, –≥. –ú–æ—Å–∫–≤–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç –ê–Ω–¥—Ä–æ–ø–æ–≤–∞, –¥. 18, –∫–æ—Ä–ø. 1",
            "–ì–ê–ó–ü–†–û–ú–ë–ê–ù–ö": "117420, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ù–∞–º–µ—Ç–∫–∏–Ω–∞, –¥. 10",
            "–†–û–°–°–ï–õ–¨–•–û–ó–ë–ê–ù–ö": "119034, –≥. –ú–æ—Å–∫–≤–∞, –ì–∞–≥–∞—Ä–∏–Ω—Å–∫–∏–π –ø–µ—Ä., –¥. 3",
            "–°–û–í–ö–û–ú–ë–ê–ù–ö": "156000, –ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ö–æ—Å—Ç—Ä–æ–º–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç –¢–µ–∫—Å—Ç–∏–ª—å—â–∏–∫–æ–≤, –¥. 46",
            "–û–¢–ö–†–´–¢–ò–ï": "115114, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ—Ç–Ω–∏–∫–æ–≤—Å–∫–∞—è, –¥. 2, —Å—Ç—Ä. 4",
            "–ü–û–ß–¢–ê": "107061, –≥. –ú–æ—Å–∫–≤–∞, –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω—Å–∫–∞—è –ø–ª., –¥. 8",
            "–£–†–ê–õ–°–ò–ë": "119048, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ï—Ñ—Ä–µ–º–æ–≤–∞, –¥. 8",
            "–ü–†–û–ú–°–í–Ø–ó–¨–ë–ê–ù–ö": "109052, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–º–∏—Ä–Ω–æ–≤—Å–∫–∞—è, –¥. 10, —Å—Ç—Ä. 22",
            "–û–¢–ü": "125171, –≥. –ú–æ—Å–∫–≤–∞, –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–µ —à., –¥. 16–ê, —Å—Ç—Ä. 2",
            "–†–ï–ù–ï–°–°–ê–ù–°": "115114, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ö–æ–∂–µ–≤–Ω–∏—á–µ—Å–∫–∞—è, –¥. 14",
            "–†–£–°–°–ö–ò–ô –°–¢–ê–ù–î–ê–†–¢": "105187, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–∫–∞—Ü–∫–∞—è, –¥. 36",
            "–†–ê–ô–§–§–ê–ô–ó–ï–ù–ë–ê–ù–ö": "119002, –≥. –ú–æ—Å–∫–≤–∞, –°–º–æ–ª–µ–Ω—Å–∫–∞—è-–°–µ–Ω–Ω–∞—è –ø–ª., –¥. 28",
            "–†–û–°–ë–ê–ù–ö": "107078, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ú–∞—à–∏ –ü–æ—Ä—ã–≤–∞–µ–≤–æ–π, –¥. 34",
            "–•–û–£–ú –ö–†–ï–î–ò–¢": "125040, –≥. –ú–æ—Å–∫–≤–∞, 3-—è —É–ª. –Ø–º—Å–∫–æ–≥–æ –ü–æ–ª—è, –¥. 44",
            "–†–£–°–§–ò–ù–ê–ù–°": "127015, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ù–æ–≤–æ–¥–º–∏—Ç—Ä–æ–≤—Å–∫–∞—è –ë., –¥. 14, —Å—Ç—Ä. 1",

            # –ú–æ—Å–∫–æ–≤—Å–∫–∏–µ –±–∞–Ω–∫–∏
            "–ú–û–°–ö–û–í–°–ö–ò–ô –ö–†–ï–î–ò–¢–ù–´–ô": "107045, –≥. –ú–æ—Å–∫–≤–∞, –õ—É–∫–æ–≤ –ø–µ—Ä., –¥. 2, —Å—Ç—Ä. 1",
            "–ú–ö–ë": "107045, –≥. –ú–æ—Å–∫–≤–∞, –õ—É–∫–æ–≤ –ø–µ—Ä., –¥. 2, —Å—Ç—Ä. 1",
            "–ê–ë–°–û–õ–Æ–¢": "127051, –≥. –ú–æ—Å–∫–≤–∞, –¶–≤–µ—Ç–Ω–æ–π –±-—Ä, –¥. 18",
            "–ê–í–ê–ù–ì–ê–†–î": "119180, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ë–æ–ª—å—à–∞—è –Ø–∫–∏–º–∞–Ω–∫–∞, –¥. 1",
            "–õ–û–ö–û": "125167, –≥. –ú–æ—Å–∫–≤–∞, –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, –¥. 39, —Å—Ç—Ä. 80",
            "–¢–†–ê–°–¢": "121151, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ú–æ–∂–∞–π—Å–∫–∏–π –í–∞–ª, –¥. 8",
            "–ú–ï–¢–ê–õ–õ–ò–ù–í–ï–°–¢–ë–ê–ù–ö": "119180, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ë–æ–ª—å—à–∞—è –ü–æ–ª—è–Ω–∫–∞, –¥. 47, —Å—Ç—Ä. 2",
            "–ù–û–í–ò–ö–û–ú–ë–ê–ù–ö": "119180, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ë–æ–ª—å—à–∞—è –ü–æ–ª—è–Ω–∫–∞, –¥. 50/1, —Å—Ç—Ä. 1",
            "–ó–ï–ù–ò–¢": "129090, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢—Ä–æ–∏—Ü–∫–∞—è, –¥. 17, —Å—Ç—Ä. 1",
            "–°–î–ú": "125424, –≥. –ú–æ—Å–∫–≤–∞, –í–æ–ª–æ–∫–æ–ª–∞–º—Å–∫–æ–µ —à., –¥. 73",
            "–Æ–ù–ò–ö–†–ï–î–ò–¢": "119034, –≥. –ú–æ—Å–∫–≤–∞, –ü—Ä–µ—á–∏—Å—Ç–µ–Ω—Å–∫–∞—è –Ω–∞–±., –¥. 9",
            "–°–ò–¢–ò–ë–ê–ù–ö": "125047, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ì–∞—à–µ–∫–∞, –¥. 8‚Äì10, —Å—Ç—Ä. 1",
            "–ò–ù–¢–ï–ó–ê": "101000, –≥. –ú–æ—Å–∫–≤–∞, –ü–µ—Ç—Ä–æ–≤–µ—Ä–∏–≥—Å–∫–∏–π –ø–µ—Ä., –¥. 2",
            "–†–û–°–≠–ö–°–ò–ú–ë–ê–ù–ö": "123610, –≥. –ú–æ—Å–∫–≤–∞, –ö—Ä–∞—Å–Ω–æ–ø—Ä–µ—Å–Ω–µ–Ω—Å–∫–∞—è –Ω–∞–±., –¥. 12",
            "–§–ò–ù–ê–ú": "127006, –≥. –ú–æ—Å–∫–≤–∞, –ù–∞—Å—Ç–∞—Å—å–∏–Ω—Å–∫–∏–π –ø–µ—Ä., –¥. 7, —Å—Ç—Ä. 2",
            "–Ø–ù–î–ï–ö–°": "115035, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–∞–¥–æ–≤–Ω–∏—á–µ—Å–∫–∞—è, –¥. 82, —Å—Ç—Ä. 2",
            

            # –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
            "–°–ê–ù–ö–¢ –ü–ï–¢–ï–†–ë–£–†–ì": "195112, –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ú–∞–ª–æ–æ—Ö—Ç–∏–Ω—Å–∫–∏–π –ø—Ä., –¥. 64, –ª–∏—Ç. –ê",
            "–ê–õ–ï–ö–°–ê–ù–î–†–û–í–°–ö–ò–ô": "191119, –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ó–∞–≥–æ—Ä–æ–¥–Ω—ã–π –ø—Ä., –¥. 46, –ª–∏—Ç. –ë, –∫–æ—Ä–ø. 2",
            "–ü–°–ö–ë": "191123, –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –®–ø–∞–ª–µ—Ä–Ω–∞—è, –¥. 42, –ª–∏—Ç. –ê",
            "–ë–ê–õ–¢–ò–ù–í–ï–°–¢–ë–ê–ù–ö": "197101, –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –î–∏–≤–µ–Ω—Å–∫–∞—è, –¥. 1, –ª–∏—Ç. –ê",

            # –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±–∞–Ω–∫–∏
            "–ö–£–ë–ê–ù–¨ –ö–†–ï–î–ò–¢": "350000, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, —É–ª. –û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ, –¥. 46",
            "–ö–£–ë–ê–ù–¨": "350000, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, —É–ª. –û—Ä–¥–∂–æ–Ω–∏–∫–∏–¥–∑–µ, –¥. 46",
            "–ü–†–ò–ú–°–û–¶–ë–ê–ù–ö": "690106, –ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫, –ü–∞—Ä—Ç–∏–∑–∞–Ω—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, –¥. 44",
            "–ü–†–ò–ú–û–†–¨–ï": "690091, –ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫, —É–ª. –°–≤–µ—Ç–ª–∞–Ω—Å–∫–∞—è, –¥. 47",
            "–î–ê–õ–¨–ù–ï–í–û–°–¢–û–ß–ù–´–ô": "690990, –ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫, —É–ª. –í–µ—Ä—Ö–Ω–µ–ø–æ—Ä—Ç–æ–≤–∞—è, –¥. 27–∞",

            # –ú–§–û/–ú–§–ö
            "–ó–ê–ô–ú–ï–†": "–≥. –ú–æ—Å–∫–≤–∞",
            "ZAIMER": "–≥. –ú–æ—Å–∫–≤–∞",
            "–í–≠–ë–ë–ê–ù–ö–ò–†": "125627, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–æ–∫–æ–ª–æ–≤–æ-–ú–µ—â–µ—Ä—Å–∫–∞—è, –¥. 29, –æ—Ñ. 308",
            "–í–ï–ë–ë–ê–ù–ö–ò–†": "125627, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–æ–∫–æ–ª–æ–≤–æ-–ú–µ—â–µ—Ä—Å–∫–∞—è, –¥. 29, –æ—Ñ. 308",
            "–í–≠–ë –ë–ê–ù–ö–ò–†": "125627, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–æ–∫–æ–ª–æ–≤–æ-–ú–µ—â–µ—Ä—Å–∫–∞—è, –¥. 29, –æ—Ñ. 308",
            "WEBBANKIR": "125627, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–æ–∫–æ–ª–æ–≤–æ-–ú–µ—â–µ—Ä—Å–∫–∞—è, –¥. 29, –æ—Ñ. 308",
            "–¢–£–†–ë–û–ó–ê–ô–ú": "–≥. –ú–æ—Å–∫–≤–∞",
            "TURBOZAIM": "–≥. –ú–æ—Å–∫–≤–∞",
            "–ú–ê–ù–ò –ú–ï–ù": "121096, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞—Å–∏–ª–∏—Å—ã –ö–æ–∂–∏–Ω–æ–π, –¥. 1, –æ—Ñ. –î13",
            "–ú–ê–ù–ò–ú–ï–ù": "121096, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞—Å–∏–ª–∏—Å—ã –ö–æ–∂–∏–Ω–æ–π, –¥. 1, –æ—Ñ. –î13",
            "MONEYMAN": "121096, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –í–∞—Å–∏–ª–∏—Å—ã –ö–æ–∂–∏–Ω–æ–π, –¥. 1, –æ—Ñ. –î13",
            "–ú–ò–ì –ö–†–ï–î–ò–¢": "127015, –≥. –ú–æ—Å–∫–≤–∞, –≤–Ω. —Ç–µ—Ä. –≥. –º—É–Ω. –æ–∫—Ä—É–≥ –ë—É—Ç—ã—Ä—Å–∫–∏–π, —É–ª. –ë–æ–ª—å—à–∞—è –ù–æ–≤–æ–¥–º–∏—Ç—Ä–æ–≤—Å–∫–∞—è, –¥. 23, —Å—Ç—Ä. 3",
            "–ú–ò–ì–ö–†–ï–î–ò–¢": "127015, –≥. –ú–æ—Å–∫–≤–∞, –≤–Ω. —Ç–µ—Ä. –≥. –º—É–Ω. –æ–∫—Ä—É–≥ –ë—É—Ç—ã—Ä—Å–∫–∏–π, —É–ª. –ë–æ–ª—å—à–∞—è –ù–æ–≤–æ–¥–º–∏—Ç—Ä–æ–≤—Å–∫–∞—è, –¥. 23, —Å—Ç—Ä. 3",
            "MIG KREDIT": "127015, –≥. –ú–æ—Å–∫–≤–∞, –≤–Ω. —Ç–µ—Ä. –≥. –º—É–Ω. –æ–∫—Ä—É–≥ –ë—É—Ç—ã—Ä—Å–∫–∏–π, —É–ª. –ë–æ–ª—å—à–∞—è –ù–æ–≤–æ–¥–º–∏—Ç—Ä–æ–≤—Å–∫–∞—è, –¥. 23, —Å—Ç—Ä. 3",
            "–õ–ê–ô–ú": "630102, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –ö–∏—Ä–æ–≤–∞, –¥. 48, –æ—Ñ. 1401",
            "LIME": "630102, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –ö–∏—Ä–æ–≤–∞, –¥. 48, –æ—Ñ. 1401",
            "–ë–´–°–¢–†–û–î–ï–ù–¨–ì–ò": "121087, –≥. –ú–æ—Å–∫–≤–∞, –≤–Ω. —Ç–µ—Ä. –≥. –º—É–Ω. –æ–∫—Ä—É–≥ –§–∏–ª—ë–≤—Å–∫–∏–π –ø–∞—Ä–∫, —É–ª. –ë–∞—Ä–∫–ª–∞—è, –¥. 6, —Å—Ç—Ä. 5",
            "–ë–´–°–¢–†–û –î–ï–ù–¨–ì–ò": "121087, –≥. –ú–æ—Å–∫–≤–∞, –≤–Ω. —Ç–µ—Ä. –≥. –º—É–Ω. –æ–∫—Ä—É–≥ –§–∏–ª—ë–≤—Å–∫–∏–π –ø–∞—Ä–∫, —É–ª. –ë–∞—Ä–∫–ª–∞—è, –¥. 6, —Å—Ç—Ä. 5",
            "BISTRODENGI": "121087, –≥. –ú–æ—Å–∫–≤–∞, –≤–Ω. —Ç–µ—Ä. –≥. –º—É–Ω. –æ–∫—Ä—É–≥ –§–∏–ª—ë–≤—Å–∫–∏–π –ø–∞—Ä–∫, —É–ª. –ë–∞—Ä–∫–ª–∞—è, –¥. 6, —Å—Ç—Ä. 5",
            "–°–†–û–ß–ù–û–î–ï–ù–¨–ì–ò": "603022, –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥, —É–ª. –¢–∏–º–∏—Ä—è–∑–µ–≤–∞, –¥. 15, –∫–æ—Ä–ø. 2, –ø–æ–º–µ—â. –ü406",
            "–°–†–û–ß–ù–û –î–ï–ù–¨–ì–ò": "603022, –ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥, —É–ª. –¢–∏–º–∏—Ä—è–∑–µ–≤–∞, –¥. 15, –∫–æ—Ä–ø. 2, –ø–æ–º–µ—â. –ü406",
            "–ï–ö–ê–ü–£–°–¢–ê": "–≥. –ú–æ—Å–∫–≤–∞",
            "–ï –ö–ê–ü–£–°–¢–ê": "–≥. –ú–æ—Å–∫–≤–∞",
            "EKAPUSTA": "–≥. –ú–æ—Å–∫–≤–∞",
            "–ú–ò–ö–†–û–ó–ê–ô–ú": "–≥. –ú–æ—Å–∫–≤–∞",
            "–ú–ò–ö–†–û –ó–ê–ô–ú": "–≥. –ú–æ—Å–∫–≤–∞",
            "–ó–ê–ô–ú–û–ì–†–ê–î": "–≥. –ú–æ—Å–∫–≤–∞",
            "–†–£–°–ò–ù–¢–ï–†–§–ò–ù–ê–ù–°": "630055, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –ì–Ω–µ—Å–∏–Ω—ã—Ö, –¥. 10/1, –æ—Ñ. 202",
            "–ö–û–†–û–ù–ê": "630559, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, —Ä.–ø. –ö–æ–ª—å—Ü–æ–≤–æ, —É–ª. –¢–µ—Ö–Ω–æ–ø–∞—Ä–∫–æ–≤–∞—è, —Å—Ç—Ä. 1",
            "–°–¢–†–ê–ù–ê –≠–ö–°–ü–†–ï–°–°": "630559, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, —Ä.–ø. –ö–æ–ª—å—Ü–æ–≤–æ, —É–ª. –¢–µ—Ö–Ω–æ–ø–∞—Ä–∫–æ–≤–∞—è, —Å—Ç—Ä. 1",
            "–ê –î–ï–ù–¨–ì–ò": "107078, –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ú–∞—à–∏ –ü–æ—Ä—ã–≤–∞–µ–≤–æ–π, –¥. 7, —Å—Ç—Ä. –ê, —ç—Ç–∞–∂ 8, –ø–æ–º–µ—â. 5‚Äì6–ë, –∫–æ–º. 805‚Äì806",
            "–î–ó–ü –ï–î–ò–ù–´–ô": "197374, –≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥ ‚Ññ 65, —É–ª. –ú–µ–±–µ–ª—å–Ω–∞—è, –¥. 12, –∫–æ—Ä–ø. 1, –ª–∏—Ç. –ê, –ø–æ–º–µ—â. 53-–ù, –∫–æ–º. 428",
            "–ê–ö–ê–î–ï–ú–ò–ß–ï–°–ö–ê–Ø": "630007, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –ö–æ–º–º—É–Ω–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, –¥. 50",
        }

        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
        search_name = bank_name.upper().strip()

        # –£–±–∏—Ä–∞–µ–º –û–ü–§ –∏ –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã (—Ç–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ —Å–ª–æ–≤–∞ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ)
        import re
        for opf in ["–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û", "–ú–§–ö", "–ú–ö–ö", "–ö–ë"]:
            # –£–±–∏—Ä–∞–µ–º –û–ü–§ —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ –∏–ª–∏ –∫–æ–Ω—Ü–µ (—Ü–µ–ª–æ–µ —Å–ª–æ–≤–æ)
            search_name = re.sub(r'\b' + opf + r'\b', ' ', search_name)

        search_name = search_name.replace("¬´", "").replace("¬ª", "").replace('"', "")
        search_name = search_name.replace("-", " ")
        while "  " in search_name:
            search_name = search_name.replace("  ", " ")
        search_name = search_name.strip()

        # –ò—â–µ–º —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        if search_name in BANK_ADDRESSES:
            return BANK_ADDRESSES[search_name]

        # –ò—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (—Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ)
        matches = []
        for key, addr in BANK_ADDRESSES.items():
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏–∑ key –≤ search_name
            key_words = set(key.split())
            search_words = set(search_name.split())

            # –ï—Å–ª–∏ –≤—Å–µ —Å–ª–æ–≤–∞ –∏–∑ key –µ—Å—Ç—å –≤ search_name (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)
            if key_words.issubset(search_words) or search_words.issubset(key_words):
                matches.append((len(key), addr))
            # –ò–ª–∏ –µ—Å–ª–∏ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—Ä—É–≥—É—é
            elif key in search_name or search_name in key:
                matches.append((len(key), addr))

        if matches:
            matches.sort(reverse=True)
            return matches[0][1]

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º "–ú–æ—Å–∫–≤–∞" –¥–ª—è –±–∞–Ω–∫–æ–≤, –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
        if any(word in bank_name.upper() for word in ["–ë–ê–ù–ö", "–ú–§–ö", "–ú–ö–ö", "–ú–§–û"]):
            return "–≥. –ú–æ—Å–∫–≤–∞"

        return ""

    @staticmethod
    def get_bank_inn(bank_name: str) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ò–ù–ù –±–∞–Ω–∫–∞/–ú–§–û –∏–∑ —Ä–µ–µ—Å—Ç—Ä–æ–≤ –¶–ë –†–§.

        Args:
            bank_name: –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–ú–§–û (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–ª–∏ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ)

        Returns:
            –ò–ù–ù –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –∏–ª–∏ —Ñ–æ–ª–ª–±—ç–∫ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
        """
        # –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –¥–ª—è –í–¢–ë
        if bank_name and "–í–¢–ë" in bank_name.upper():
            return "7702070139"
        
        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
        keywords = DocumentProcessor.extract_search_keywords(bank_name)
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
        name_upper = bank_name.upper()
        is_mfo = any(marker in name_upper for marker in ["–ú–ö–ö", "–ú–§–ö", "–ú–§–û", "–ú–ò–ö–†–û–ö–†–ï–î–ò–¢–ù–ê–Ø", "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø"])
        is_bank = any(marker in name_upper for marker in ["–ë–ê–ù–ö", "–ü–ê–û", "–ê–û"])
        
        # –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ò–ù–ù –≤ —Ä–µ–µ—Å—Ç—Ä–µ –ú–§–û (–∫–ª—é—á = –ò–ù–ù)
        def search_inn_in_mfo(keywords):
            if not DocumentProcessor.MFO_REGISTRY or not keywords:
                return None
            for inn, mfo_data in DocumentProcessor.MFO_REGISTRY.items():
                mfo_name_lower = mfo_data.get("–Ω–∞–∑–≤–∞–Ω–∏–µ", "").lower()
                matches = sum(1 for kw in keywords if kw in mfo_name_lower)
                if matches >= len(keywords) * 0.7:  # 70% –ø–æ—Ä–æ–≥
                    return inn  # –ö–ª—é—á —Å–ª–æ–≤–∞—Ä—è - —ç—Ç–æ –ò–ù–ù!
            return None
        
        # –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ò–ù–ù –≤ —Ä–µ–µ—Å—Ç—Ä–µ –±–∞–Ω–∫–æ–≤ (–ø–æ–ª–µ "–∏–Ω–Ω")
        def search_inn_in_bank(keywords):
            if not DocumentProcessor.BANK_REGISTRY or not keywords:
                return None
            for ogrn, bank_data in DocumentProcessor.BANK_REGISTRY.items():
                bank_name_lower = bank_data.get("–Ω–∞–∑–≤–∞–Ω–∏–µ", "").lower()
                matches = sum(1 for kw in keywords if kw in bank_name_lower)
                if matches >= len(keywords) * 0.7:  # 70% –ø–æ—Ä–æ–≥
                    inn = bank_data.get("–∏–Ω–Ω", "")
                    if inn:
                        return inn
            return None
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ï—Å–ª–∏ —ç—Ç–æ –ú–§–û/–ú–ö–ö - —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤ MFO_REGISTRY
        if is_mfo and not is_bank:
            inn = search_inn_in_mfo(keywords)
            if inn:
                return inn
            inn = search_inn_in_bank(keywords)
            if inn:
                return inn
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ï—Å–ª–∏ —ç—Ç–æ –±–∞–Ω–∫ - —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤ BANK_REGISTRY
        elif is_bank:
            inn = search_inn_in_bank(keywords)
            if inn:
                return inn
            inn = search_inn_in_mfo(keywords)
            if inn:
                return inn
        
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ï—Å–ª–∏ —Ç–∏–ø –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω - –∏—â–µ–º –≤ –æ–±–æ–∏—Ö —Ä–µ–µ—Å—Ç—Ä–∞—Ö
        else:
            inn = search_inn_in_mfo(keywords)
            if inn:
                return inn
            inn = search_inn_in_bank(keywords)
            if inn:
                return inn
        
        # 2. FALLBACK: —Å–ª–æ–≤–∞—Ä—å –ò–ù–ù –±–∞–Ω–∫–æ–≤ (–¥–∞–Ω–Ω—ã–µ –Ω–∞ 03.11.2025)
        BANK_INN = {
            # –ö—Ä—É–ø–Ω–µ–π—à–∏–µ –±–∞–Ω–∫–∏
            "–°–ë–ï–†–ë–ê–ù–ö": "7707083893",
            "–°–ë–ï–†–ë–ê–ù–ö –†–û–°–°–ò–ò": "7707083893",
            "–†–û–°–°–ò–ò": "7707083893",
            "–í–¢–ë": "7702070139",
            "–ê–õ–¨–§–ê": "7728168971",
            "–¢–ò–ù–¨–ö–û–§–§": "7710140679",
            "–¢-–ë–ê–ù–ö": "7710140679",  # –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ –¢-–ë–∞–Ω–∫
            "–ú–¢–°": "7702045051",
            "–ì–ê–ó–ü–†–û–ú–ë–ê–ù–ö": "7744001497",
            "–†–û–°–°–ï–õ–¨–•–û–ó–ë–ê–ù–ö": "7725114488",
            "–°–û–í–ö–û–ú–ë–ê–ù–ö": "4401116480",
            "–û–¢–ö–†–´–¢–ò–ï": "7706092528",
            "–ü–û–ß–¢–ê": "3232005484",
            "–£–†–ê–õ–°–ò–ë": "0274062111",
            "–ü–†–û–ú–°–í–Ø–ó–¨–ë–ê–ù–ö": "7744000912",
            "–û–¢–ü": "7708001614",
            "–†–ï–ù–ï–°–°–ê–ù–°": "7744000126",
            "–†–£–°–°–ö–ò–ô –°–¢–ê–ù–î–ê–†–¢": "7738177339",
            "–†–ê–ô–§–§–ê–ô–ó–ï–ù–ë–ê–ù–ö": "7744000302",
            "–†–û–°–ë–ê–ù–ö": "7272101820",
            "–•–û–£–ú –ö–†–ï–î–ò–¢": "7710140679",  # –•–æ—É–º –ö—Ä–µ–¥–∏—Ç —Ç–µ–ø–µ—Ä—å –¢-–ë–∞–Ω–∫ (–±—ã–≤—à–∏–π –¢–∏–Ω—å–∫–æ—Ñ—Ñ)
            "–¢ –ë–ê–ù–ö": "7710140679",
            "–¢–ë–ê–ù–ö": "7710140679",
            "T BANK": "7710140679",
            "TBANK": "7710140679",
            "–†–£–°–§–ò–ù–ê–ù–°": "5047102587",
            "–ú–û–°–ö–û–í–°–ö–ò–ô –ö–†–ï–î–ò–¢–ù–´–ô": "7734202860",
            "–ú–ö–ë": "7734202860",
            "–ê–ë–°–û–õ–Æ–¢": "7736046991",
            "–ê–í–ê–ù–ì–ê–†–î": "7729076543",
            "–õ–û–ö–û": "7750003943",
            "–¢–†–ê–°–¢": "7831001567",
            "–ó–ï–ù–ò–¢": "7729405872",
            "–Æ–ù–ò–ö–†–ï–î–ò–¢": "7710030411",
            "–ß–ï–õ–Ø–ë–ò–ù–í–ï–°–¢–ë–ê–ù–ö": "7452017275",
            "–£–†–ê–õ–¨–°–ö–ò–ô –ë–ê–ù–ö –†–ï–ö–û–ù–°–¢–†–£–ö–¶–ò–ò": "6608000242",
            "–£–ë–†–∏–†": "6608000242",
        }

        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
        search_name = bank_name.upper().strip()

        # –£–±–∏—Ä–∞–µ–º –û–ü–§ –∏ –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã
        import re
        for opf in ["–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û", "–ú–§–ö", "–ú–ö–ö", "–ö–ë"]:
            search_name = re.sub(r'\b' + opf + r'\b', ' ', search_name)

        search_name = search_name.replace("¬´", "").replace("¬ª", "").replace('"', "")
        search_name = search_name.replace("-", " ")
        while "  " in search_name:
            search_name = search_name.replace("  ", " ")
        search_name = search_name.strip()

        # –ò—â–µ–º —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        if search_name in BANK_INN:
            return BANK_INN[search_name]

        # –ò—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        for key, inn in BANK_INN.items():
            key_words = set(key.split())
            search_words = set(search_name.split())

            if key_words.issubset(search_words) or search_words.issubset(key_words):
                return inn
            elif key in search_name or search_name in key:
                return inn

        return ""

    @staticmethod
    def normalize_bank_name(name: str) -> tuple[str, str]:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ç–µ–∂: (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ)
        - –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ - –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
        - –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ_–Ω–∞–∑–≤–∞–Ω–∏–µ - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

        –ü—Ä–∏–º–µ—Ä—ã:
            "–ú–¢–°-–ë–ê–ù–ö –ü–ê–û" -> ("–ú–¢–° –ë–ê–ù–ö", "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª")
            "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª" -> ("–ú–¢–° –ë–ê–ù–ö", "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª")
            "–°–±–µ—Ä–±–∞–Ω–∫ –†–æ—Å—Å–∏–∏" -> ("–°–ë–ï–†–ë–ê–ù–ö", "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫")
        """
        if not name:
            return ("", "")

        original = name.strip()
        
        # –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –¥–ª—è –í–¢–ë (–≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è)
        name_upper = original.upper()
        if "–í–¢–ë" in name_upper and "–ë–ê–ù–ö" in name_upper:
            return ("–í–¢–ë", "–ü–ê–û ¬´–í–¢–ë¬ª")
        
        # –°–ù–ê–ß–ê–õ–ê –ø—Ä–∏–º–µ–Ω—è–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –ú–§–û/–ú–ö–ö (—É–±–∏—Ä–∞–µ–º "–ú–§–û:", –∏—Å—Ç–æ—Ä–∏—é, –∫–∞–≤—ã—á–∫–∏)
        canonical_name = DocumentProcessor.normalize_creditor_name(original)

        # –°–ª–æ–≤–∞—Ä—å –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –±–∞–Ω–∫–æ–≤/–ú–§–û
        CANONICAL_NAMES = {
            "–°–ë–ï–†–ë–ê–ù–ö": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",
            "–°–ë–ï–†": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",
            "–°–ë–ï–† –†–û–°–°–ò–ò": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",
            "–†–û–°–°–ò–ò": "–ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª",  # –î–ª—è "–°–±–µ—Ä–±–∞–Ω–∫ –†–æ—Å—Å–∏–∏" –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è "–ë–ê–ù–ö"
            "–í–¢–ë": "–ü–ê–û ¬´–í–¢–ë¬ª",
            "–ê–õ–¨–§–ê –ë–ê–ù–ö": "–ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª",
            "–ê–õ–¨–§–ê": "–ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª",
            "–¢–ò–ù–¨–ö–û–§–§": "–ê–û ¬´–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫¬ª",
            "–¢–ò–ù–¨–ö–û–§–§ –ë–ê–ù–ö": "–ê–û ¬´–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫¬ª",
            "–¢–ò–ù–ö–û–í": "–ê–û ¬´–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫¬ª",
            "–†–û–°–°–ï–õ–¨–•–û–ó–ë–ê–ù–ö": "–ê–û ¬´–†–æ—Å—Å–µ–ª—å—Ö–æ–∑–±–∞–Ω–∫¬ª",
            "–†–û–°–°–ï–õ–¨–•–û–ó": "–ê–û ¬´–†–æ—Å—Å–µ–ª—å—Ö–æ–∑–±–∞–Ω–∫¬ª",
            "–ì–ê–ó–ü–†–û–ú–ë–ê–ù–ö": "–ê–û ¬´–ì–ü–ë¬ª",
            "–ì–ê–ó–ü–†–û–ú": "–ê–û ¬´–ì–ü–ë¬ª",
            "–ú–¢–° –ë–ê–ù–ö": "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª",
            "–ú–¢–°": "–ü–ê–û ¬´–ú–¢–°-–ë–∞–Ω–∫¬ª",
            "–†–ê–ô–§–§–ê–ô–ó–ï–ù–ë–ê–ù–ö": "–ê–û ¬´–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω–±–∞–Ω–∫¬ª",
            "–†–ê–ô–§–§–ê–ô–ó–ï–ù": "–ê–û ¬´–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω–±–∞–Ω–∫¬ª",
            "–†–û–°–ë–ê–ù–ö": "–ü–ê–û ¬´–†–û–°–ë–ê–ù–ö¬ª",
            "–†–û–°": "–ü–ê–û ¬´–†–û–°–ë–ê–ù–ö¬ª",
            "–•–û–£–ú –ö–†–ï–î–ò–¢": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",  # –•–æ—É–º –ö—Ä–µ–¥–∏—Ç –ø—Ä–æ–¥–∞–Ω –¢–∏–Ω—å–∫–æ—Ñ—Ñ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ –¢-–ë–∞–Ω–∫
            "–•–û–£–ú –ö–†–ï–î–ò–¢ –≠–ù–î –§–ò–ù–ê–ù–°": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "HOME CREDIT": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–¢ –ë–ê–ù–ö": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–¢–ë–ê–ù–ö": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–¢": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "T BANK": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "TBANK": "–ê–û ¬´–¢-–ë–∞–Ω–∫¬ª",
            "–†–£–°–§–ò–ù–ê–ù–° –ë–ê–ù–ö": "–û–û–û –ö–ë ¬´–†—É—Å—Ñ–∏–Ω–∞–Ω—Å –ë–∞–Ω–∫¬ª",
            "–†–£–°–§–ò–ù–ê–ù–°": "–û–û–û –ö–ë ¬´–†—É—Å—Ñ–∏–Ω–∞–Ω—Å –ë–∞–Ω–∫¬ª",
            "–†–£–°–ò–ù–¢–ï–†–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–†–£–°–ò–ù–ï–†–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–†–£–° –ò–ù–¢–ï–† –§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–°–û–í–ö–û–ú–ë–ê–ù–ö": "–ü–ê–û ¬´–°–æ–≤–∫–æ–º–±–∞–Ω–∫¬ª",
            "–°–û–í–ö–û–ú": "–ü–ê–û ¬´–°–æ–≤–∫–æ–º–±–∞–Ω–∫¬ª",
            "–û–¢–ö–†–´–¢–ò–ï": "–ü–ê–û –ë–∞–Ω–∫ ¬´–§–ö –û—Ç–∫—Ä—ã—Ç–∏–µ¬ª",
            "–ü–û–ß–¢–ê –ë–ê–ù–ö": "–ü–ê–û ¬´–ü–æ—á—Ç–∞ –ë–∞–Ω–∫¬ª",
            "–ü–û–ß–¢–ê": "–ü–ê–û ¬´–ü–æ—á—Ç–∞ –ë–∞–Ω–∫¬ª",
            "–£–†–ê–õ–°–ò–ë": "–ü–ê–û ¬´–ë–ê–ù–ö –£–†–ê–õ–°–ò–ë¬ª",
            "–£–†–ê–õ –°–ò–ë": "–ü–ê–û ¬´–ë–ê–ù–ö –£–†–ê–õ–°–ò–ë¬ª",
            "–ü–†–û–ú–°–í–Ø–ó–¨–ë–ê–ù–ö": "–ü–ê–û ¬´–ü—Ä–æ–º—Å–≤—è–∑—å–±–∞–Ω–∫¬ª",
            "–ü–†–û–ú–°–í–Ø–ó–¨": "–ü–ê–û ¬´–ü—Ä–æ–º—Å–≤—è–∑—å–±–∞–Ω–∫¬ª",
            "–û–¢–ü –ë–ê–ù–ö": "–ê–û ¬´–û–¢–ü –ë–∞–Ω–∫¬ª",
            "–û–¢–ü": "–ê–û ¬´–û–¢–ü –ë–∞–Ω–∫¬ª",
            "–†–ï–ù–ï–°–°–ê–ù–° –ö–†–ï–î–ò–¢": "–û–û–û –ö–ë ¬´–†–µ–Ω–µ—Å—Å–∞–Ω—Å –ö—Ä–µ–¥–∏—Ç¬ª",
            "–†–ï–ù–ï–°–°–ê–ù–°": "–û–û–û –ö–ë ¬´–†–µ–Ω–µ—Å—Å–∞–Ω—Å –ö—Ä–µ–¥–∏—Ç¬ª",
            "–†–£–°–°–ö–ò–ô –°–¢–ê–ù–î–ê–†–¢": "–ê–û ¬´–ë–∞–Ω–∫ –†—É—Å—Å–∫–∏–π –°—Ç–∞–Ω–¥–∞—Ä—Ç¬ª",
            "–ü–°–ë": "–ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª",
            "–ü–°–ë –ë–ê–ù–ö": "–ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª",
            "–ë–ê–ù–ö –ü–°–ë": "–ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª",
            "–ê–ö –ë–ê–†–°": "–ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫",
            "–ê–ö–ë–ê–†–°": "–ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫",
            "–ê–ö –ë–ê–†–° –ë–ê–ù–ö": "–ü–ê–û ¬´–ê–ö –ë–ê–†–°¬ª –ë–∞–Ω–∫",

            # –ú–§–û/–ú–§–ö/–ú–ö–ö
            "–ó–ê–ô–ú–ï–†": "–û–û–û –ú–§–ö ¬´–ó–∞–π–º–µ—Ä¬ª",
            "–ó–ê–ô–ú –≠–†": "–û–û–û –ú–§–ö ¬´–ó–∞–π–º–µ—Ä¬ª",
            "–í–≠–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–ï–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ó–ë–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ó–ë–ê–ù–ö–ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ë –ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–í–≠–ó–ë –ò–†": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "WEBBANKIR": "–û–û–û –ú–ö–ö ¬´–í—ç–±–ë–∞–Ω–∫–∏—Ä¬ª",
            "–¢–£–†–ë–û–ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "–¢–£–†–ë–û –ó–ê–ô–ú": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "–¢–£–†–ë–û": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "TURBOZAIM": "–û–û–û –ú–ö–ö ¬´–¢—É—Ä–±–æ–ó–∞–π–º¬ª",
            "–ú–û–ù–ï–ô–ú–ï–ù": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "–ú–ê–ù–ò –ú–ï–ù": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "MONEYMAN": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "MONEY MAN": "–û–û–û –ú–§–ö ¬´–ú–∞–Ω–∏–ú–µ–Ω¬ª",
            "–ú–ò–ì–ö–†–ï–î–ò–¢": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "–ú–ò–ì –ö–†–ï–î–ò–¢": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "–ú–ò–ì": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "MIGCREDIT": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "MIGKREDIT": "–û–û–û –ú–§–ö ¬´–ú–∏–≥–ö—Ä–µ–¥–∏—Ç¬ª",
            "–î–ï–ù–¨–ì–ò –°–†–ê–ó–£": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É¬ª",
            "DENGISRAZY": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É¬ª",
            "DENGI SRAZY": "–û–û–û –ú–ö–ö ¬´–î–µ–Ω—å–≥–∏ —Å—Ä–∞–∑—É¬ª",
            "–ïKAP–£–°–¢–ê": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "–ï –ö–ê–ü–£–°–¢–ê": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "EKAPUSTA": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "E KAPUSTA": "–û–û–û –ú–ö–ö ¬´–ï–∫–∞–ø—É—Å—Ç–∞¬ª",
            "–õ–ê–ô–ú –ó–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "–õ–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "LIME ZAIM": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "LIMEZAIM": "–û–û–û –ú–§–ö ¬´–õ–∞–π–º-–ó–∞–π–º¬ª",
            "–°–†–û–ß–ù–û–î–ï–ù–¨–ì–ò": "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",
            "–°–†–û–ß–ù–û –î–ï–ù–¨–ì–ò": "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",
            "SROCHNODENG–Ü": "–û–û–û –ú–§–ö ¬´–°—Ä–æ—á–Ω–æ–î–µ–Ω—å–≥–∏¬ª",
            "–ë–´–°–¢–†–û–î–ï–ù–¨–ì–ò": "–û–û–û –ú–ö–ö ¬´–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏¬ª",
            "–ë–´–°–¢–†–û –î–ï–ù–¨–ì–ò": "–û–û–û –ú–ö–ö ¬´–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏¬ª",
            "BISTRODENGI": "–û–û–û –ú–ö–ö ¬´–ë—ã—Å—Ç—Ä–æ–î–µ–Ω—å–≥–∏¬ª",
            "–ú–ò–ö–†–û–ó–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–ú–∏–∫—Ä–æ–ó–∞–π–º¬ª",
            "–ú–ò–ö–†–û –ó–ê–ô–ú": "–û–û–û –ú–§–ö ¬´–ú–∏–∫—Ä–æ–ó–∞–π–º¬ª",
            "MICROZAIM": "–û–û–û –ú–§–ö ¬´–ú–∏–∫—Ä–æ–ó–∞–π–º¬ª",
            "–ó–ê–ô–ú–û–ì–†–ê–î": "–û–û–û –ú–ö–ö ¬´–ó–∞–π–º–æ–ì—Ä–∞–¥¬ª",
            "ZAIMO GRAD": "–û–û–û –ú–ö–ö ¬´–ó–∞–π–º–æ–ì—Ä–∞–¥¬ª",
            "ZAIMOGRAD": "–û–û–û –ú–ö–ö ¬´–ó–∞–π–º–æ–ì—Ä–∞–¥¬ª",
            "–†–£–°–ò–ù–¢–ï–†–§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "–†–£–°–ò–ù–¢–ï–† –§–ò–ù–ê–ù–°": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
            "RUSINTERFINANS": "–û–û–û –ú–ö–ö ¬´–†—É—Å–∏–Ω—Ç–µ—Ä—Ñ–∏–Ω–∞–Ω—Å¬ª",
        }

        # –®–∞–≥ 1: –£–±–∏—Ä–∞–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ —Ñ–æ—Ä–º—ã –∏ –∑–Ω–∞–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ)
        normalized = canonical_name.upper()

        # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
        normalized = normalized.replace('"', '').replace("'", '').replace('¬´', '').replace('¬ª', '')

        # –£–±–∏—Ä–∞–µ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤—ã–µ —Ñ–æ—Ä–º—ã
        opf_patterns = [
            "–ü–£–ë–õ–ò–ß–ù–û–ï –ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û",
            "–ê–ö–¶–ò–û–ù–ï–†–ù–û–ï –û–ë–©–ï–°–¢–í–û",
            "–û–ë–©–ï–°–¢–í–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ù–û–ô –û–¢–í–ï–¢–°–¢–í–ï–ù–ù–û–°–¢–¨–Æ",
            "–ö–û–ú–ú–ï–†–ß–ï–°–ö–ò–ô –ë–ê–ù–ö",
            "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø –ö–û–ú–ü–ê–ù–ò–Ø",
            "–ú–ò–ö–†–û–ö–†–ï–î–ò–¢–ù–ê–Ø –ö–û–ú–ü–ê–ù–ò–Ø",
            "–ú–ò–ö–†–û–§–ò–ù–ê–ù–°–û–í–ê–Ø –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø",
            "–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û", "–ó–ê–û",
            "–ú–§–ö", "–ú–ö–ö", "–ú–§–û",
            "–ö–ë", "–ë–ê–ù–ö",
        ]

        for pattern in opf_patterns:
            normalized = normalized.replace(pattern, " ")

        # –£–±–∏—Ä–∞–µ–º —Å–∫–æ–±–∫–∏ –∏ –¥–µ—Ñ–∏—Å—ã
        normalized = normalized.replace("(", " ").replace(")", " ")
        normalized = normalized.replace("-", " ")
        normalized = normalized.replace("  ", " ").replace("  ", " ")  # –î–≤–æ–π–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
        normalized = normalized.strip()

        # –®–∞–≥ 2: –ò—â–µ–º –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
        canonical = CANONICAL_NAMES.get(normalized)

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ
        if not canonical:
            # –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –ø–æ–ª–Ω–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –≤ –∫–ª—é—á–∏
            for key, value in CANONICAL_NAMES.items():
                if normalized == key:
                    canonical = value
                    break

            # –ó–∞—Ç–µ–º –∏—â–µ–º —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–ª–∏–Ω–Ω—ã–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è–º)
            if not canonical:
                matches = []
                for key, value in CANONICAL_NAMES.items():
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã
                    # –ù–û –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ –∫–ª—é—á–∏ (–º–µ–Ω–µ–µ 4 —Å–∏–º–≤–æ–ª–æ–≤) –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
                    # —á—Ç–æ–±—ã "–ê–õ–¨–§–ê" –Ω–µ —Å–æ–≤–ø–∞–ª–∞ —Å "–°–§–û –ê–õ–¨–§–ê –§–ê–ë–†–ò–ö–ê –ü–ö 1"
                    if key in normalized and len(key) >= 4:
                        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ —ç—Ç–æ –∫–æ—Ä–æ—Ç–∫–æ–µ —Å–ª–æ–≤–æ, —É–±–µ–¥–∏–º—Å—è —á—Ç–æ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ
                        if len(key) < 6:
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ (–æ–∫—Ä—É–∂–µ–Ω–æ –ø—Ä–æ–±–µ–ª–∞–º–∏ –∏–ª–∏ –∫—Ä–∞—è–º–∏)
                            words = normalized.split()
                            if key in words:
                                matches.append((len(key), key, value))
                        else:
                            matches.append((len(key), key, value))
                    elif normalized in key and len(normalized) >= 4:
                        matches.append((len(key), key, value))

                # –ë–µ—Ä–µ–º —Å–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                if matches:
                    matches.sort(reverse=True)  # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–ª–∏–Ω–µ
                    _, normalized, canonical = matches[0]

        # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ —Å–ª–æ–≤–∞—Ä–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
        if not canonical:
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏ –∏ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤)
            canonical = canonical_name

            # –ï—Å–ª–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Å—å –≤ CAPS, –¥–µ–ª–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ
            if canonical_name.isupper():
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –û–ü–§ –∏–∑ –Ω–∞—á–∞–ª–∞
                opf = ""
                rest = canonical_name
                for pattern in ["–ü–ê–û", "–ê–û", "–û–û–û", "–û–ê–û"]:
                    if canonical_name.startswith(pattern + " "):
                        opf = pattern
                        rest = canonical_name[len(pattern):].strip()
                        break

                # –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏
                rest = rest.replace('"', '').replace("'", '').replace('¬´', '').replace('¬ª', '')

                # –î–µ–ª–∞–µ–º –ø–µ—Ä–≤—É—é –±—É–∫–≤—É –∑–∞–≥–ª–∞–≤–Ω–æ–π, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ—á–Ω—ã–º–∏
                rest_parts = rest.split()
                rest_formatted = ' '.join(
                    word if word in ["–ú–¢–°", "–í–¢–ë", "–û–¢–ü"] else word.capitalize() 
                    for word in rest_parts
                )

                # –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ
                if opf:
                    canonical = f'{opf} ¬´{rest_formatted}¬ª'
                else:
                    canonical = rest_formatted

        return (normalized, canonical)

    @staticmethod
    def select_first_entry(cache: Dict[str, List[Dict[str, Any]]], key: str) -> Dict[str, Any]:
        for item in cache.get(key, []):
            if isinstance(item, dict):
                return item
        return {}

    @staticmethod
    def extract_employers(records: Dict[str, Any]) -> str:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –∏–∑ —Ç—Ä—É–¥–æ–≤–æ–π –∫–Ω–∏–∂–∫–∏."""
        if not records:
            return "–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª–µ –¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞ –∏–∑ GPT
        current_work = records.get("–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞")
        if current_work and current_work != "–ù–µ—Ç":
            # –ö–∞–≤—ã—á–∫–∏-—ë–ª–æ—á–∫–∏
            current_work = current_work.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
            return f"–î–æ–ª–∂–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ {current_work}"
        
        # –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
        entries = records.get("–ó–∞–ø–∏—Å–∏", []) or []
        if not entries:
            return "–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
        
        # –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å (–∑–∞–ø–∏—Å–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ)
        last_entry = entries[-1]
        if last_entry and last_entry.get("–°–æ–±—ã—Ç–∏–µ") != "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ":
            employer = last_entry.get("–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "")
            position = last_entry.get("–î–æ–ª–∂–Ω–æ—Å—Ç—å", "")
            if employer:
                workplace = f"{employer}, {position}" if position else employer
                # –ö–∞–≤—ã—á–∫–∏-—ë–ª–æ—á–∫–∏
                workplace = workplace.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
                return f"–î–æ–ª–∂–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ {workplace}"
        
        return "–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

    @staticmethod
    def extract_current_job(records: Dict[str, Any]) -> str:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –∏–∑ —Ç—Ä—É–¥–æ–≤–æ–π –∫–Ω–∏–∂–∫–∏.
        
        Returns:
            –¢–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã –∏–ª–∏ "–ù–µ—Ç" –µ—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
        """
        if not records:
            return "–ù–µ—Ç"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ª–µ –¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞ –∏–∑ GPT
        current_work = records.get("–¢–µ–∫—É—â–∞—è_—Ä–∞–±–æ—Ç–∞")
        if current_work:
            # –ö–∞–≤—ã—á–∫–∏-—ë–ª–æ—á–∫–∏
            current_work = current_work.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
            return current_work
        
        # –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∑–∞–ø–∏—Å—å
        entries = records.get("–ó–∞–ø–∏—Å–∏", []) or []
        if not entries:
            return "–ù–µ—Ç"
        
        # –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–ø–∏—Å—å (–∑–∞–ø–∏—Å–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ)
        last_entry = entries[-1]
        if last_entry and last_entry.get("–°–æ–±—ã—Ç–∏–µ") != "–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ":
            employer = last_entry.get("–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å", "")
            position = last_entry.get("–î–æ–ª–∂–Ω–æ—Å—Ç—å", "")
            if employer:
                # –ö–∞–≤—ã—á–∫–∏-—ë–ª–æ—á–∫–∏
                employer = employer.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
                position = position.replace('"', '¬´').replace("'", "¬´").replace('"', '¬ª').replace("'", "¬ª")
                return f"{employer}, {position}" if position else employer
        
        return "–ù–µ—Ç"

    @staticmethod
    def format_interested_party(passport_spouse: Dict[str, Any], inn_spouse: Dict[str, Any], snils_spouse: Dict[str, Any]):
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—É–ø—Ä—É–≥–µ (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–º –ª–∏—Ü–µ) —Å –∂–∏—Ä–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.
        
        Args:
            passport_spouse: –î–∞–Ω–Ω—ã–µ –ø–∞—Å–ø–æ—Ä—Ç–∞ —Å—É–ø—Ä—É–≥–∞
            inn_spouse: –î–∞–Ω–Ω—ã–µ –ò–ù–ù —Å—É–ø—Ä—É–≥–∞
            snils_spouse: –î–∞–Ω–Ω—ã–µ –°–ù–ò–õ–° —Å—É–ø—Ä—É–≥–∞
            
        Returns:
            RichText —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
        """
        if not passport_spouse:
            return ""
        
        # –§–ò–û
        fio = passport_spouse.get("–§–ò–û", "")
        if not fio:
            return ""
        
        # –î–∞—Ç–∞ –∏ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è
        birth_date = passport_spouse.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "")
        birth_place = passport_spouse.get("–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è", "")
        
        birth_info = ""
        if birth_date:
            birth_info = f"{birth_date} –≥.—Ä."
            if birth_place:
                birth_info += f", {birth_place}"
        elif birth_place:
            birth_info = birth_place
        
        # –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
        address = passport_spouse.get("–ü—Ä–æ–ø–∏—Å–∫–∞", "")
        
        # –°–æ–∑–¥–∞–µ–º RichText —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º Times New Roman 12pt
        # size —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–æ–≤–∏–Ω–∞—Ö –ø—É–Ω–∫—Ç–æ–≤: 12pt = size=24
        rt = RichText()
        rt.add("–ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–∏—Ü–æ:", bold=True, font='Times New Roman', size=24)
        rt.add(f"\n{fio}", font='Times New Roman', size=24)
        
        if birth_info:
            rt.add("\n–î–∞—Ç–∞ –∏ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è: ", bold=True, font='Times New Roman', size=24)
            rt.add(f"{birth_info};", font='Times New Roman', size=24)
        
        if address:
            rt.add("\n–ê–¥—Ä–µ—Å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è: ", bold=True, font='Times New Roman', size=24)
            rt.add(f"{address};", font='Times New Roman', size=24)
        
        return rt

    @staticmethod
    def get_yekaterinburg_date() -> Dict[str, str]:
        """–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (Asia/Yekaterinburg, UTC+5).
        
        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏:
            - –ê–î–µ–Ω—å: –¥–µ–Ω—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, "12")
            - –ê–ú–µ—Å—è—Ü: –º–µ—Å—è—Ü –Ω–∞ —Ä—É—Å—Å–∫–æ–º —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–î–µ–∫–∞–±—Ä—è")
            - –ê–ì–æ–¥: –ø–æ–ª–Ω—ã–π –≥–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "2025")
            - –ê–ê–ì–æ–¥: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ü–∏—Ñ—Ä—ã –≥–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "25")
        """
        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
        yekaterinburg_tz = ZoneInfo("Asia/Yekaterinburg")
        now = datetime.now(yekaterinburg_tz)
        
        # –ù–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–µ–≤ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∫–æ–≥–æ? —á–µ–≥–æ?)
        months_genitive = {
            1: "–Ø–Ω–≤–∞—Ä—è",
            2: "–§–µ–≤—Ä–∞–ª—è",
            3: "–ú–∞—Ä—Ç–∞",
            4: "–ê–ø—Ä–µ–ª—è",
            5: "–ú–∞—è",
            6: "–ò—é–Ω—è",
            7: "–ò—é–ª—è",
            8: "–ê–≤–≥—É—Å—Ç–∞",
            9: "–°–µ–Ω—Ç—è–±—Ä—è",
            10: "–û–∫—Ç—è–±—Ä—è",
            11: "–ù–æ—è–±—Ä—è",
            12: "–î–µ–∫–∞–±—Ä—è"
        }
        
        return {
            "–ê–î–µ–Ω—å": str(now.day),
            "–ê–ú–µ—Å—è—Ü": months_genitive[now.month],
            "–ê–ì–æ–¥": str(now.year),
            "–ê–ê–ì–æ–¥": str(now.year)[-2:]  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ü–∏—Ñ—Ä—ã
        }

    @staticmethod
    def calculate_bank_accounts(data_list: List[Dict[str, Any]]) -> Optional[int]:
        for data in data_list:
            accounts = data.get("–°—á–µ—Ç–∞") or []
            if isinstance(accounts, list):
                return len(accounts)
        return None

    @staticmethod
    def describe_real_estate(data_list: List[Dict[str, Any]]) -> str:
        descriptions: List[str] = []
        for data in data_list:
            obj = data.get("–û–±—ä–µ–∫—Ç") or {}
            parts: List[str] = []
            vid = obj.get("–í–∏–¥")
            address = obj.get("–ê–¥—Ä–µ—Å")
            area = obj.get("–ü–ª–æ—â–∞–¥—å")
            if vid:
                parts.append(str(vid))
            if address:
                parts.append(f"–∞–¥—Ä–µ—Å: {address}")
            if area:
                parts.append(f"–ø–ª–æ—â–∞–¥—å {area}")
            if parts:
                descriptions.append(", ".join(parts))
        return "; ".join(descriptions)

    @staticmethod
    def determine_children_status(children: Optional[List[Dict[str, Any]]], data_map: Dict[str, List[Dict[str, Any]]] = None) -> str:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π.
        
        Args:
            children: —Å–ø–∏—Å–æ–∫ –¥–µ—Ç–µ–π –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
            data_map: —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏)
        """
        today = date.today()
        minors: List[str] = []
        
        # –°–æ–±–∏—Ä–∞–µ–º –¥–µ—Ç–µ–π –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
        if children:
            for child in children:
                if not isinstance(child, dict):
                    continue
                name = child.get("–§–ò–û") or ""
                dob_str = child.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                if not dob_str:
                    continue
                try:
                    dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                    age_years = (today - dob).days / 365.25
                    if age_years < 18:
                        entry = f"{name} ({dob_str})" if name else dob_str
                        minors.append(entry.strip())
                except ValueError:
                    continue
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏
        if data_map:
            birth_certificates = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–æ–∂–¥–µ–Ω–∏–∏", [])
            for cert in birth_certificates:
                if not isinstance(cert, dict):
                    continue
                
                # –ù–û–í–´–ô –§–û–†–ú–ê–¢: –º–∞—Å—Å–∏–≤ "–î–µ—Ç–∏" (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –≤ –æ–¥–Ω–æ–º PDF)
                children_array = cert.get("–î–µ—Ç–∏")
                if children_array and isinstance(children_array, list):
                    for child_data in children_array:
                        if not isinstance(child_data, dict):
                            continue
                        name = child_data.get("–†–µ–±–µ–Ω–æ–∫_–§–ò–û") or ""
                        dob_str = child_data.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                        if not dob_str:
                            continue
                        try:
                            dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                            age_years = (today - dob).days / 365.25
                            if age_years < 18:
                                entry = f"{name} ({dob_str})" if name else dob_str
                                if entry.strip() not in minors:
                                    minors.append(entry.strip())
                        except ValueError:
                            continue
                else:
                    # –°–¢–ê–†–´–ô –§–û–†–ú–ê–¢: –æ–¥–Ω–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ = –æ–¥–∏–Ω —Ä–µ–±–µ–Ω–æ–∫ (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
                    name = cert.get("–†–µ–±–µ–Ω–æ–∫_–§–ò–û") or ""
                    dob_str = cert.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                    if not dob_str:
                        continue
                    try:
                        dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                        age_years = (today - dob).days / 365.25
                        if age_years < 18:
                            entry = f"{name} ({dob_str})" if name else dob_str
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ç–∞–∫–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –µ—â–µ –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ
                            if entry.strip() not in minors:
                                minors.append(entry.strip())
                    except ValueError:
                        continue
        
        if minors:
            return "; ".join(minors)
        return "–Ω–µ—Ç"

    @staticmethod
    def get_marital_status_key(passport: Dict[str, Any], data_map: Dict[str, List[Dict[str, Any]]] = None) -> str:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ {{–ñ–µ–Ω–∞—Ç–∑–∞–º—É–∂–µ–º}}.
        
        Args:
            passport: –¥–∞–Ω–Ω—ã–µ –ø–∞—Å–ø–æ—Ä—Ç–∞ –¥–æ–ª–∂–Ω–∏–∫–∞
            data_map: —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤ –æ –±—Ä–∞–∫–µ)
            
        Returns:
            –°—Ç—Ä–æ–∫–∞: "–∂–µ–Ω–∞—Ç, —Å—É–ø—Ä—É–≥–∞ –§–ò–û –î–î.–ú–ú.–ì–ì–ì–ì –≥.—Ä." –∏–ª–∏ "–∑–∞–º—É–∂–µ–º, —Å—É–ø—Ä—É–≥ –§–ò–û –î–î.–ú–ú.–ì–ì–ì–ì –≥.—Ä." –∏–ª–∏ "–ù–µ—Ç"
        """
        if not passport:
            return "–ù–µ—Ç"
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª –¥–æ–ª–∂–Ω–∏–∫–∞
        gender = (passport.get("–ü–æ–ª") or "").lower()
        is_male = "–º—É–∂" in gender
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ
        marital_status = (passport.get("–°–µ–º–µ–π–Ω–æ–µ_–ø–æ–ª–æ–∂–µ–Ω–∏–µ") or "").lower()
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ –±—Ä–∞–∫–µ
        has_marriage = False
        spouse_fio = ""
        spouse_dob = ""
        
        if data_map:
            marriage_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ", [])
            if marriage_certs:
                has_marriage = True
                # –ë–µ—Ä–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞
                cert = marriage_certs[0]
                if isinstance(cert, dict):
                    # –¢–µ–ø–µ—Ä—å –≤ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–µ –æ –±—Ä–∞–∫–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –ø–æ–ª–µ - –°—É–ø—Ä—É–≥_–§–ò–û (—Å—É–ø—Ä—É–≥ –¥–æ–ª–∂–Ω–∏–∫–∞)
                    # GPT —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª –∫—Ç–æ —Å—É–ø—Ä—É–≥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞
                    spouse_fio = cert.get("–°—É–ø—Ä—É–≥_–§–ò–û", "")
                    spouse_dob = cert.get("–°—É–ø—Ä—É–≥_–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "")
                    
                    print(f"[–ë–†–ê–ö] –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ –Ω–∞–π–¥–µ–Ω–æ:")
                    print(f"  –°—É–ø—Ä—É–≥ –¥–æ–ª–∂–Ω–∏–∫–∞: {spouse_fio} ({spouse_dob})")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞
        has_divorce = False
        if data_map:
            divorce_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏_–±—Ä–∞–∫–∞", [])
            if divorce_certs:
                has_divorce = True
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç
        # –ï—Å–ª–∏ –µ—Å—Ç—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ - –±—Ä–∞–∫ —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–∞—Å–ø–æ—Ä—Ç–∞
        if has_divorce:
            return "–ù–µ—Ç"
        
        is_married = has_marriage or "–∂–µ–Ω–∞—Ç" in marital_status or "–∑–∞–º—É–∂–µ–º" in marital_status
        not_married = "–Ω–µ –∂–µ–Ω–∞—Ç" in marital_status or "–Ω–µ –∑–∞–º—É–∂–µ–º" in marital_status
        
        if not_married or not is_married:
            return "–ù–µ—Ç"
        
        # –ï—Å–ª–∏ –≤ –±—Ä–∞–∫–µ, —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç
        if is_male:
            status = "–∂–µ–Ω–∞—Ç"
            spouse_title = "—Å—É–ø—Ä—É–≥–∞"
        else:
            status = "–∑–∞–º—É–∂–µ–º"
            spouse_title = "—Å—É–ø—Ä—É–≥"
        
        if spouse_fio and spouse_dob:
            return f"{status}, {spouse_title} {spouse_fio} {spouse_dob} –≥.—Ä."
        elif spouse_fio:
            return f"{status}, {spouse_title} {spouse_fio}"
        else:
            return status.capitalize()

    @staticmethod
    def extract_real_estate_from_notifications(notification_list: List[Dict[str, Any]], owner_fio: str = "") -> List[str]:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ï–ì–†–ù –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏."""
        descriptions = []

        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∏–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        for notification in notification_list:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
            if notification.get("–†–µ–∑—É–ª—å—Ç–∞—Ç") != "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                continue

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è
            holder = notification.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å", {})
            holder_fio = holder.get("–§–ò–û", "") if isinstance(holder, dict) else ""

            # –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è (–∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞), –∑–Ω–∞—á–∏—Ç –∑–∞–ø—Ä–æ—Å –±—ã–ª –æ–± —ç—Ç–æ–º –æ–±—ä–µ–∫—Ç–µ
            territory = notification.get("–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è", "")

            if territory:
                # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                # –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –Ω–µ—Ç –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –Ω–æ –µ—Å—Ç—å –∞–¥—Ä–µ—Å
                parts = []
                parts.append("–∂–∏–ª–æ–π –¥–æ–º")  # –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º —Ç–∏–ø –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
                parts.append("–æ–±—â–∞—è –¥–æ–ª–µ–≤–∞—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å")
                parts.append("–¥–æ–ª—è –Ω–µ —É–∫–∞–∑–∞–Ω–∞")  # –±–µ–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –Ω–µ –∑–Ω–∞–µ–º –¥–æ–ª—é
                parts.append(f"–º–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ: {territory}")

                # –ï—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä—É–≥–æ–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ
                if holder_fio and holder_fio != owner_fio:
                    parts.append(f"(—Å–æ—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫: {holder_fio})")

                descriptions.append(", ".join(parts))

        return descriptions

    @staticmethod
    def format_real_estate_detailed(data_list: List[Dict[str, Any]], owner_fio: str = "", notification_list: Optional[List[Dict[str, Any]]] = None) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º –≤–∏–¥–µ, —Ñ–∏–ª—å—Ç—Ä—É—è –ø–æ –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞.

        –£—á–∏—Ç—ã–≤–∞–µ—Ç –∫–∞–∫ –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —Ç–∞–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏,
        –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –¥–æ–ª–µ–≤—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.
        """
        descriptions: List[str] = []

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ–ª–Ω—ã–µ –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù
        if data_list:
            for data in data_list:
                obj = data.get("–û–±—ä–µ–∫—Ç") or {}
                kadaster = data.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", "")
                owners = data.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏", [])

                # –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–º
                if owner_fio and owners:
                    owner_found = False
                    owner_info = None
                    for owner in owners:
                        if isinstance(owner, dict):
                            owner_name = owner.get("–§–ò–û", "")
                            if owner_name and owner_fio.lower() in owner_name.lower():
                                owner_found = True
                                owner_info = owner
                                break

                    # –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü –Ω–µ –Ω–∞–π–¥–µ–Ω —Å—Ä–µ–¥–∏ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç
                    if not owner_found:
                        continue
                else:
                    # –ï—Å–ª–∏ –§–ò–û –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±–µ—Ä–µ–º –ø–µ—Ä–≤–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
                    owner_info = owners[0] if owners and isinstance(owners, list) and len(owners) > 0 else None

                # –°–æ–±–∏—Ä–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
                vid = obj.get("–í–∏–¥", "").lower()
                address = obj.get("–ê–¥—Ä–µ—Å", "")
                area = obj.get("–ü–ª–æ—â–∞–¥—å", "")

                parts = []

                # –í–∏–¥ –æ–±—ä–µ–∫—Ç–∞
                if vid:
                    parts.append(vid)

                # –¢–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –¥–æ–ª—è
                if owners and isinstance(owners, list) and len(owners) > 0:
                    # –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π GPT –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
                    ownership_type = ""
                    share = ""
                    if owner_info:
                        ownership_type = (owner_info.get("–¢–∏–ø_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏") or "").strip()
                        share = (owner_info.get("–î–æ–ª—è") or "").strip()
                    
                    # –î–æ–±–∞–≤–ª—è–µ–º —Ç–∏–ø —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –µ—Å–ª–∏ –æ–Ω –∏–∑–≤–ª–µ—á–µ–Ω
                    if ownership_type:
                        parts.append(ownership_type)
                    
                    # –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ª—é –µ—Å–ª–∏ –æ–Ω–∞ —É–∫–∞–∑–∞–Ω–∞ –∏ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è –¥—Ä–æ–±—å
                    if share and ("/" in share or share == "1"):
                        if share != "1/1" and share != "1":
                            parts.append(f"{share} –¥–æ–ª—è")

                # –ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä
                if kadaster:
                    parts.append(f"–∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π –Ω–æ–º–µ—Ä: {kadaster}")

                # –ü–ª–æ—â–∞–¥—å
                if area:
                    parts.append(f"–ø–ª–æ—â–∞–¥—å: {area} –∫–≤. –º.")

                # –ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ
                if address:
                    parts.append(f"–º–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ: {address}")

                # –û—Å–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                if owner_info:
                    doc = owner_info.get("–î–æ–∫—É–º–µ–Ω—Ç", "")
                    reg_date = owner_info.get("–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "")
                    if doc:
                        base_text = f"–æ—Å–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {doc}"
                        if reg_date:
                            base_text += f", –≤—ã–¥–∞–Ω {reg_date}"
                        parts.append(base_text)

                if parts:
                    descriptions.append(", ".join(parts))

        # –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ï–ì–†–ù, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –¥–æ–ª–µ–≤—É—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
        if notification_list:
            notification_estates = DocumentProcessor.extract_real_estate_from_notifications(
                notification_list, owner_fio
            )
            descriptions.extend(notification_estates)

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_movable_property(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–≤–∏–∂–∏–º–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–∑ –ì–ò–ë–î–î)."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–ø—Ä–∞–≤–∫–∞ –ª–∏ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏
            if data.get("–†–µ–∑—É–ª—å—Ç–∞—Ç") == "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç":
                continue
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–Ω—è—Ç–æ –ª–∏ –¢–° —Å —É—á–µ—Ç–∞ (–ø—Ä–æ–¥–∞–Ω–æ/—É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
            special_notes = data.get("–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏", "")
            if special_notes and isinstance(special_notes, str):
                special_lower = special_notes.lower()
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¢–°, –∫–æ—Ç–æ—Ä—ã–µ —Å–Ω—è—Ç—ã —Å —É—á–µ—Ç–∞
                if any(keyword in special_lower for keyword in ["—Å–Ω—è—Ç–æ —Å —É—á–µ—Ç–∞", "–ø—Ä–æ–¥–∞–∂", "–ø—Ä–æ–¥–∞–Ω", "–ø–µ—Ä–µ–¥–∞—á", "—É—Ç–∏–ª–∏–∑–∞—Ü"]):
                    continue

            parts = []

            # –¢–∏–ø –¢–°
            ts_type = data.get("–¢–∏–ø_–¢–°", "")
            if ts_type:
                parts.append(ts_type)

            # –ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å
            brand_model = data.get("–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å", "")
            if brand_model:
                parts.append(brand_model)

            # –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
            year = data.get("–ì–æ–¥_–≤—ã–ø—É—Å–∫–∞", "")
            if year:
                parts.append(f"{year} –≥–æ–¥–∞ –≤—ã–ø—É—Å–∫–∞")

            # –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä
            gov_num = data.get("–ì–æ—Å_–Ω–æ–º–µ—Ä", "")
            if gov_num:
                parts.append(f"–≥–æ—Å. –Ω–æ–º–µ—Ä: {gov_num}")

            # VIN
            vin = data.get("VIN", "")
            if vin:
                parts.append(f"VIN: {vin}")

            # –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            doc = data.get("–î–æ–∫—É–º–µ–Ω—Ç", {})
            if isinstance(doc, dict):
                reg_date = doc.get("–î–∞—Ç–∞_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "")
                if reg_date:
                    parts.append(f"–¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {reg_date}")

            if parts:
                descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_shares(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∞–∫—Ü–∏–∏ –∏ —É—á–∞—Å—Ç–∏–µ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            parts = []

            # –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            org = data.get("–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", {})
            if isinstance(org, dict):
                org_name = org.get("–ù–∞–∑–≤–∞–Ω–∏–µ", "")
                org_form = org.get("–§–æ—Ä–º–∞", "")
                org_inn = org.get("–ò–ù–ù", "")

                if org_name:
                    if org_form:
                        parts.append(f"{org_form} \"{org_name}\"")
                    else:
                        parts.append(f"\"{org_name}\"")

                    if org_inn:
                        parts.append(f"–ò–ù–ù: {org_inn}")

            # –î–æ–ª—è —É—á–∞—Å—Ç–∏—è
            participant = data.get("–£—á–∞—Å—Ç–Ω–∏–∫", {})
            if isinstance(participant, dict):
                share = participant.get("–î–æ–ª—è", "")
                if share:
                    parts.append(f"–¥–æ–ª—è: {share}")

                nominal = participant.get("–ù–æ–º–∏–Ω–∞–ª—å–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")
                if nominal:
                    parts.append(f"–Ω–æ–º–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {nominal}")

            if parts:
                descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_securities(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ü–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            securities_list = data.get("–¶–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏", [])
            depositary = data.get("–î–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π", "")
            account = data.get("–ù–æ–º–µ—Ä_—Å—á–µ—Ç–∞", "")
            total_value = data.get("–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")

            if securities_list:
                for sec in securities_list:
                    parts = []

                    # –¢–∏–ø –∏ —ç–º–∏—Ç–µ–Ω—Ç
                    sec_type = sec.get("–¢–∏–ø", "")
                    emitent = sec.get("–≠–º–∏—Ç–µ–Ω—Ç", "")

                    if sec_type:
                        parts.append(sec_type)
                    if emitent:
                        parts.append(f"—ç–º–∏—Ç–µ–Ω—Ç: {emitent}")

                    # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å
                    quantity = sec.get("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ", "")
                    value = sec.get("–¢–µ–∫—É—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")

                    if quantity:
                        parts.append(f"–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ: {quantity}")
                    if value:
                        parts.append(f"—Å—Ç–æ–∏–º–æ—Å—Ç—å: {value}")

                    # ISIN
                    isin = sec.get("ISIN", "")
                    if isin:
                        parts.append(f"ISIN: {isin}")

                    if parts:
                        descriptions.append(", ".join(parts))

            # –ï—Å–ª–∏ –Ω–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –µ—Å—Ç—å –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            if not descriptions and (depositary or total_value):
                parts = []
                if depositary:
                    parts.append(f"–¥–µ–ø–æ–∑–∏—Ç–∞—Ä–∏–π: {depositary}")
                if account:
                    parts.append(f"—Å—á–µ—Ç: {account}")
                if total_value:
                    parts.append(f"–æ–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è: {total_value}")
                if parts:
                    descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_cash_valuables(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏ –∏–Ω–æ–µ —Ü–µ–Ω–Ω–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ (–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ, –∫–æ–ª–ª–µ–∫—Ü–∏–∏)."""
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []

        for data in data_list:
            # –ù–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
            cash = data.get("–ù–∞–ª–∏—á–Ω—ã–µ_—Å—Ä–µ–¥—Å—Ç–≤–∞", {})
            if isinstance(cash, dict):
                cash_parts = []
                for currency, amount in cash.items():
                    if amount:
                        if currency == "RUB":
                            cash_parts.append(f"{amount} —Ä—É–±.")
                        elif currency == "USD":
                            cash_parts.append(f"{amount} –¥–æ–ª–ª–∞—Ä–æ–≤ –°–®–ê")
                        elif currency == "EUR":
                            cash_parts.append(f"{amount} –µ–≤—Ä–æ")
                        else:
                            cash_parts.append(f"{amount} ({currency})")

                if cash_parts:
                    descriptions.append("–Ω–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω–µ–∂–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞: " + ", ".join(cash_parts))

            # –ò–º—É—â–µ—Å—Ç–≤–æ (–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ —Ç.–¥.)
            items = data.get("–ò–º—É—â–µ—Å—Ç–≤–æ", [])
            for item in items:
                parts = []

                category = item.get("–ö–∞—Ç–µ–≥–æ—Ä–∏—è", "")
                description = item.get("–û–ø–∏—Å–∞–Ω–∏–µ", "")
                characteristics = item.get("–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏", "")
                value = item.get("–û—Ü–µ–Ω–æ—á–Ω–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")

                # –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
                if category:
                    parts.append(category)
                if description:
                    parts.append(description)

                # –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
                if characteristics:
                    parts.append(characteristics)

                # –°—Ç–æ–∏–º–æ—Å—Ç—å
                if value:
                    parts.append(f"–æ—Ü–µ–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {value}")

                if parts:
                    descriptions.append(", ".join(parts))

            # –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ)
            total = data.get("–û–±—â–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å", "")
            if total and not items:  # –ï—Å–ª–∏ –Ω–µ—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ –µ—Å—Ç—å –æ–±—â–∞—è —Å—É–º–º–∞
                descriptions.append(f"–∏–º—É—â–µ—Å—Ç–≤–æ –Ω–∞ –æ–±—â—É—é —Å—É–º–º—É: {total}")

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_property_rights(data_list: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ (–¥–µ–±–∏—Ç–æ—Ä—Å–∫–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å).

        –í–ê–ñ–ù–û: –§–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –≥–¥–µ –≤–ª–∞–¥–µ–ª–µ—Ü = –ö–†–ï–î–ò–¢–û–†.
        –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü = –î–û–õ–ñ–ù–ò–ö, —ç—Ç–æ –Ω–µ –∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ, –∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ!
        """
        if not data_list:
            return "–Ω–µ—Ç"

        descriptions = []
        for data in data_list:
            # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
            # –ò–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–æ = –≤–ª–∞–¥–µ–ª–µ—Ü —è–≤–ª—è–µ—Ç—Å—è –ö–†–ï–î–ò–¢–û–†–û–ú (–µ–º—É –¥–æ–ª–∂–Ω—ã)
            # –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü = –¥–æ–ª–∂–Ω–∏–∫/–∑–∞—ë–º—â–∏–∫ - —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –Ω–µ –ø—Ä–∞–≤–æ!
            role = data.get("–†–æ–ª—å_–≤–ª–∞–¥–µ–ª—å—Ü–∞_–¥–æ–∫—É–º–µ–Ω—Ç–∞", "")
            if role:
                role_lower = role.lower()
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü - –¥–æ–ª–∂–Ω–∏–∫ –∏–ª–∏ –∑–∞—ë–º—â–∏–∫ (—ç—Ç–æ –µ–≥–æ –¥–æ–ª–≥, –Ω–µ –ø—Ä–∞–≤–æ)
                if any(keyword in role_lower for keyword in ["–¥–æ–ª–∂–Ω–∏–∫", "–∑–∞–µ–º—â–∏–∫", "–∑–∞—ë–º—â–∏–∫"]):
                    continue
                # –ü—Ä–∏–Ω–∏–º–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü - –∫—Ä–µ–¥–∏—Ç–æ—Ä (–µ–º—É –¥–æ–ª–∂–Ω—ã)
                if "–∫—Ä–µ–¥–∏—Ç–æ—Ä" not in role_lower:
                    continue

            parts = []

            # –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
            doc_type = data.get("–¢–∏–ø", "")
            if doc_type:
                parts.append(doc_type)

            # –î–æ–ª–∂–Ω–∏–∫ (–∫—Ç–æ –¥–æ–ª–∂–µ–Ω)
            debtor = data.get("–î–æ–ª–∂–Ω–∏–∫", "")
            if debtor:
                parts.append(f"–¥–æ–ª–∂–Ω–∏–∫: {debtor}")

            # –°—É–º–º–∞
            amount = data.get("–°—É–º–º–∞", "")
            if amount:
                parts.append(f"—Å—É–º–º–∞: {amount}")

            # –ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞/–¥–µ–ª–∞
            doc_num = data.get("–ù–æ–º–µ—Ä", "")
            doc_date = data.get("–î–∞—Ç–∞", "")
            if doc_num:
                if doc_date:
                    parts.append(f"–¥–æ–∫—É–º–µ–Ω—Ç: {doc_num} –æ—Ç {doc_date}")
                else:
                    parts.append(f"–¥–æ–∫—É–º–µ–Ω—Ç: {doc_num}")

            # –°—Ä–æ–∫
            term = data.get("–°—Ä–æ–∫", "")
            if term:
                parts.append(f"—Å—Ä–æ–∫: {term}")

            if parts:
                descriptions.append(", ".join(parts))

        return "; ".join(descriptions) if descriptions else "–Ω–µ—Ç"

    @staticmethod
    def format_other_income(pension_data: List[Dict[str, Any]], payment_data: List[Dict[str, Any]]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—ã—Ö –¥–æ—Ö–æ–¥–∞—Ö (–ø–æ—Å–æ–±–∏—è, –ï–î–í, –ø–æ–¥—Ä–∞–±–æ—Ç–∫–∏)."""
        descriptions = []

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ "–ø–µ–Ω—Å–∏–∏" (–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã)
        for doc in pension_data:
            benefits = doc.get("–í—ã–ø–ª–∞—Ç—ã", [])
            if not benefits:
                continue

            for benefit in benefits:
                benefit_type = benefit.get("–í–∏–¥", "")
                amount = benefit.get("–†–∞–∑–º–µ—Ä", "")

                if benefit_type and amount:
                    # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–∞ –≤—ã–ø–ª–∞—Ç—ã
                    benefit_lower = benefit_type.lower()

                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫—É
                    if "–µ–¥–≤" in benefit_lower or "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞" in benefit_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º –µ–∂–µ–º–µ—Å—è—á–Ω–æ–π –¥–µ–Ω–µ–∂–Ω–æ–π –≤—ã–ø–ª–∞—Ç—ã"
                        # –£—Ç–æ—á–Ω—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞
                        if "–≤–µ—Ç–µ—Ä–∞–Ω" in benefit_lower:
                            desc += " –≤–µ—Ç–µ—Ä–∞–Ω–∞–º"
                        elif "–∏–Ω–≤–∞–ª–∏–¥" in benefit_lower:
                            desc += " –∏–Ω–≤–∞–ª–∏–¥–∞–º"
                        elif "—Ä–∞–¥–∏–∞—Ü" in benefit_lower:
                            desc += " –≤–µ—Ç–µ—Ä–∞–Ω–∞–º, –∏–Ω–≤–∞–ª–∏–¥–∞–º –∏ –≥—Ä–∞–∂–¥–∞–Ω–∞–º, –ø–æ–¥–≤–µ—Ä–≥—à–∏–º—Å—è –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—é —Ä–∞–¥–∏–∞—Ü–∏–∏"
                    elif "–ø–æ—Å–æ–±–∏" in benefit_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–æ–±–∏–µ ({benefit_type})"
                    elif "–ø–µ–Ω—Å–∏" in benefit_lower:
                        # –ü–µ–Ω—Å–∏—é –Ω–µ –≤–∫–ª—é—á–∞–µ–º –≤ –∏–Ω—ã–µ –¥–æ—Ö–æ–¥—ã - –æ–Ω–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
                        continue
                    else:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—É: {benefit_type}"

                    # –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–º–µ—Ä
                    desc += f" –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}"

                    # –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–∏–æ–¥, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω
                    period = benefit.get("–ü–µ—Ä–∏–æ–¥", {})
                    if isinstance(period, dict):
                        period_from = period.get("–°", "")
                        period_to = period.get("–ü–æ", "")
                        if period_from or period_to:
                            if period_to and period_to.lower() == "–±–µ—Å—Å—Ä–æ—á–Ω–æ":
                                desc += " (–±–µ—Å—Å—Ä–æ—á–Ω–æ)"
                            elif period_from and period_to:
                                desc += f" (—Å {period_from} –ø–æ {period_to})"

                    desc += "."
                    descriptions.append(desc)

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ "–≤—ã–ø–ª–∞—Ç—ã" (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–ø–ª–∞—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥)
        for doc in payment_data:
            payments = doc.get("–í—ã–ø–ª–∞—Ç—ã", [])
            if not payments:
                continue

            for payment in payments:
                payment_name = payment.get("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ", "")
                amount = payment.get("–†–∞–∑–º–µ—Ä", "")

                if payment_name and amount:
                    payment_lower = payment_name.lower()

                    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ–Ω—Å–∏–∏
                    if "–ø–µ–Ω—Å–∏" in payment_lower:
                        continue

                    # –§–æ—Ä–º–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ
                    if "–µ–¥–≤" in payment_lower or "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞" in payment_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –µ–∂–µ–º–µ—Å—è—á–Ω—É—é –¥–µ–Ω–µ–∂–Ω—É—é –≤—ã–ø–ª–∞—Ç—É –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}."
                    elif "–ø–æ—Å–æ–±–∏" in payment_lower:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–æ–±–∏–µ ({payment_name}) –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}."
                    else:
                        desc = f"–î–æ–ª–∂–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—É: {payment_name} –≤ —Ä–∞–∑–º–µ—Ä–µ {amount}."

                    descriptions.append(desc)

        # –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã - —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ —Ç–∏–ø—É –≤—ã–ø–ª–∞—Ç—ã –∏ —Å—É–º–º–µ
        unique_descriptions = []
        seen_benefits = []

        import re

        for desc in descriptions:
            # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
            desc_lower = desc.lower()

            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–∏–ø –≤—ã–ø–ª–∞—Ç—ã –∏–∑ –û–¢–§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ù–û–ì–û –æ–ø–∏—Å–∞–Ω–∏—è
            benefit_type = ""
            if "–µ–∂–µ–º–µ—Å—è—á–Ω–∞—è –¥–µ–Ω–µ–∂–Ω–∞—è –≤—ã–ø–ª–∞—Ç–∞" in desc_lower:
                benefit_type = "–µ–¥–≤"
            elif "–ø–æ—Å–æ–±–∏" in desc_lower:
                benefit_type = "–ø–æ—Å–æ–±–∏–µ"
            elif "–≤—ã–ø–ª–∞—Ç—É:" in desc_lower:
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ "–≤—ã–ø–ª–∞—Ç—É:"
                match = re.search(r'–≤—ã–ø–ª–∞—Ç—É:\s*([^–≤]+?)\s+–≤ —Ä–∞–∑–º–µ—Ä–µ', desc_lower)
                if match:
                    benefit_type = match.group(1).strip()
                else:
                    benefit_type = "–ø—Ä–æ—á–∞—è_–≤—ã–ø–ª–∞—Ç–∞"
            else:
                benefit_type = "–ø—Ä–æ—á–∞—è_–≤—ã–ø–ª–∞—Ç–∞"

            # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å—É–º–º—É –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –µ—ë
            # –ò—â–µ–º –≤—Å–µ —á–∏—Å–ª–∞ –≤ —Å—Ç—Ä–æ–∫–µ
            amounts = re.findall(r'\d+', desc)
            if amounts:
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º –ø–µ—Ä–≤—ã–µ –¥–≤–∞ —á–∏—Å–ª–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é —Å—É–º–º—É (—Ä—É–±–ª–∏ –∏ –∫–æ–ø–µ–π–∫–∏)
                if len(amounts) >= 2:
                    normalized_amount = f"{amounts[0]}.{amounts[1]}"
                else:
                    normalized_amount = amounts[0]
            else:
                normalized_amount = ""

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤–∏–¥–µ–ª–∏ –ª–∏ –º—ã —É–∂–µ —Ç–∞–∫—É—é –≤—ã–ø–ª–∞—Ç—É
            benefit_signature = (benefit_type, normalized_amount)
            if benefit_signature not in seen_benefits:
                seen_benefits.append(benefit_signature)
                unique_descriptions.append(desc)

        # –§–æ—Ä–º–∏—Ä—É–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —Ç–µ–∫—Å—Ç
        if unique_descriptions:
            result = " ".join(unique_descriptions)
            result += " –ò–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –Ω–µ –∏–º–µ–µ—Ç."
            return result
        else:
            return "–ò–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞ –Ω–µ –∏–º–µ–µ—Ç."

    @staticmethod
    def number_to_words_rubles(amount: Decimal) -> str:
        """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–æ –≤ —Ç–µ–∫—Å—Ç –ø—Ä–æ–ø–∏—Å—å—é –¥–ª—è —Ä—É–±–ª–µ–π –∏ –∫–æ–ø–µ–µ–∫."""
        try:
            from num2words import num2words
            
            rubles = int(amount)
            kopeks = int((amount - rubles) * 100)

            # –ò—Å–ø–æ–ª—å–∑—É–µ–º num2words –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Å–ª–æ–≤–∞
            words = num2words(rubles, lang='ru')

            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            rubles_formatted = f"{rubles:,}".replace(",", " ")
            result = f"{rubles_formatted} ({words}) —Ä—É–±. {kopeks:02d} –∫–æ–ø."
            return result
        except Exception as e:
            # Fallback: –µ—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ
            rubles = int(amount)
            kopeks = int((amount - rubles) * 100)
            rubles_formatted = f"{rubles:,}".replace(",", " ")
            return f"{rubles_formatted} —Ä—É–±. {kopeks:02d} –∫–æ–ø."

    @staticmethod
    def check_marital_and_children_status(passport: Dict[str, Any], data_map: Dict[str, List[Dict[str, Any]]] = None) -> str:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ–º–µ–π–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∞–ª–∏—á–∏–µ –¥–µ—Ç–µ–π.
        
        Args:
            passport: –¥–∞–Ω–Ω—ã–µ –ø–∞—Å–ø–æ—Ä—Ç–∞
            data_map: —Å–ª–æ–≤–∞—Ä—å –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤)
        """
        marital_status = (passport.get("–°–µ–º–µ–π–Ω–æ–µ_–ø–æ–ª–æ–∂–µ–Ω–∏–µ") or "").lower() if passport else ""
        children = passport.get("–î–µ—Ç–∏", []) if passport else []

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞
        has_minors = False
        passport_children_count = 0
        
        if children:
            today = date.today()
            for child in children:
                if not isinstance(child, dict):
                    continue
                passport_children_count += 1
                dob_str = child.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                if dob_str:
                    try:
                        dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                        age_years = (today - dob).days / 365.25
                        if age_years < 18:
                            has_minors = True
                            break
                    except ValueError:
                        continue

        # –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–∞ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ –¥–µ—Ç–µ–π
        if data_map:
            birth_certificates = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–æ–∂–¥–µ–Ω–∏–∏", [])
            if birth_certificates:
                today = date.today()
                for cert in birth_certificates:
                    if not isinstance(cert, dict):
                        continue
                    dob_str = cert.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è")
                    if dob_str:
                        try:
                            dob = datetime.strptime(dob_str, "%d.%m.%Y").date()
                            age_years = (today - dob).days / 365.25
                            if age_years < 18:
                                has_minors = True
                                break
                        except ValueError:
                            continue

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ –±—Ä–∞–∫–µ
        has_marriage = False
        if data_map:
            marriage_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_–±—Ä–∞–∫–µ", [])
            if marriage_certs:
                has_marriage = True

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–∞—Å—Ç–æ—Ä–∂–µ–Ω–∏–∏ –±—Ä–∞–∫–∞
        has_divorce = False
        if data_map:
            divorce_certs = data_map.get("—Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ_–æ_—Ä–∞–∑–≤–æ–¥–µ", [])
            if divorce_certs:
                has_divorce = True

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤ –±—Ä–∞–∫–µ –ª–∏
        not_married = "–Ω–µ –∂–µ–Ω–∞—Ç" in marital_status or "–Ω–µ –∑–∞–º—É–∂–µ–º" in marital_status or (has_divorce and not has_marriage)

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –æ —Å–µ–º–µ–π–Ω–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏
        parts = []

        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞–∫–µ
        if not_married:
            parts.append("–î–æ–ª–∂–Ω–∏–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –≤ –±—Ä–∞–∫–µ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç")
        else:
            # –ï—Å–ª–∏ –≤ –±—Ä–∞–∫–µ (–µ—Å—Ç—å —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –∏–ª–∏ —É–∫–∞–∑–∞–Ω–æ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ)
            if has_marriage or "–∂–µ–Ω–∞—Ç" in marital_status or "–∑–∞–º—É–∂–µ–º" in marital_status:
                parts.append("–î–æ–ª–∂–Ω–∏–∫ —Å–æ—Å—Ç–æ–∏—Ç –≤ –±—Ä–∞–∫–µ")
            elif "—Ä–∞–∑–≤–µ–¥–µ–Ω" in marital_status or "—Ä–∞–∑–≤–µ–¥–µ–Ω–∞" in marital_status:
                parts.append("–î–æ–ª–∂–Ω–∏–∫ —Ä–∞–∑–≤–µ–¥–µ–Ω")

        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ—Ç—è—Ö
        if not has_minors:
            parts.append("–Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π –Ω–∞ –∏–∂–¥–∏–≤–µ–Ω–∏–∏ –Ω–µ –∏–º–µ–µ—Ç")
        else:
            parts.append("–∏–º–µ–µ—Ç –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –¥–µ—Ç–µ–π –Ω–∞ –∏–∂–¥–∏–≤–µ–Ω–∏–∏")

        if parts:
            result = ", ".join(parts) + "."
            return result

        return ""

    @staticmethod
    def calculate_average_income(data_list: List[Dict[str, Any]]) -> Optional[Decimal]:
        latest_year: Optional[int] = None
        latest_amount: Optional[Decimal] = None
        for data in data_list:
            for statement in data.get("–°–ø—Ä–∞–≤–∫–∏", []) or []:
                year_raw = statement.get("–ì–æ–¥")
                try:
                    year = int(str(year_raw))
                except (TypeError, ValueError):
                    year = None
                amount = DocumentProcessor.parse_decimal(statement.get("–û–±—â–∞—è_—Å—É–º–º–∞_–¥–æ—Ö–æ–¥–∞"))
                if amount is None:
                    continue
                if latest_year is None or (year is not None and year > latest_year):
                    latest_year = year
                    latest_amount = amount
        if latest_amount is None:
            return None
        months = Decimal(12)
        return (latest_amount / months) if months else None

    @staticmethod
    def format_creditors_table(data_map: Dict[str, List[Dict[str, Any]]], debtor_fio: str = "", debtor_inn: str = "", debtor_snils: str = "", debtor_address: str = "") -> Dict[str, str]:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã '–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞'.

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —à–∞–±–ª–æ–Ω Word.

        –í–ê–ñ–ù–û: –ù–ï –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥—É–±–ª–∏ - –∫–∞–∂–¥—ã–π –∫—Ä–µ–¥–∏—Ç –∏–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.
        –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–º–µ—Ä–∞—Ü–∏–∏ (1.1, 1.2 –æ—Ç –æ–¥–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞).

        Args:
            data_map: —Å–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            debtor_fio: –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ (–∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞)
            debtor_inn: –ò–ù–ù –¥–æ–ª–∂–Ω–∏–∫–∞
            debtor_snils: –°–ù–ò–õ–° –¥–æ–ª–∂–Ω–∏–∫–∞
            debtor_address: –ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞
        """
        from collections import defaultdict

        # –ò–°–ü–û–õ–¨–ó–£–ï–ú merge_credit_reports –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Å —É—á–µ—Ç–æ–º —Å–ø—Ä–∞–≤–æ–∫
        merged_credits = DocumentProcessor.merge_credit_reports(data_map)
        
        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã
        all_credits_list = []
        
        for entry in merged_credits:
            if not isinstance(entry, dict):
                continue

            –∫—Ä–µ–¥–∏—Ç–æ—Ä = entry.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "").strip()
            if not –∫—Ä–µ–¥–∏—Ç–æ—Ä:
                continue

            # –î–∞–Ω–Ω—ã–µ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤ merge_credit_reports
            —Å—É–º–º–∞ = entry.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
            if —Å—É–º–º–∞ <= 0:
                continue

            # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–µ–Ω–∏
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = DocumentProcessor.normalize_bank_name(–∫—Ä–µ–¥–∏—Ç–æ—Ä)

            # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ (—É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤ merge_credit_reports)
            –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = entry.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = entry.get("–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            
            # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: GPT –∏–Ω–æ–≥–¥–∞ –ø—É—Ç–∞–µ—Ç –ò–ù–ù –∏ –û–ì–†–ù
            # –ò–ù–ù = 10 —Ü–∏—Ñ—Ä, –û–ì–†–ù = 13 —Ü–∏—Ñ—Ä
            if –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ and len(–∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞) == 13:
                # –≠—Ç–æ –û–ì–†–ù, –∞ –Ω–µ –ò–ù–ù!
                –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
                –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = ""
                –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = DocumentProcessor.get_bank_inn(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)

            # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å
            –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = entry.get("–ê–¥—Ä–µ—Å") or entry.get("–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or ""
            –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)
            
            # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –¢-–ë–∞–Ω–∫–∞ - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ (–ú–æ—Å–∫–≤–∞)
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ –≤—Å–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º –∏–º–µ–Ω–∏
            is_t_bank = (
                "–¢-–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or 
                "–¢ –ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or
                "–¢–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or
                "–¢–ò–ù–¨–ö–û–§–§" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper() or
                "–¢-–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä.upper() or
                "TBANK" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical.upper()
            )
            
            if is_t_bank:
                –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ or "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26"
            else:
                –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ or –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞

            —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = entry.get("–í–∏–¥") or entry.get("–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞") or "–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç"
            –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ = entry.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or ""
            —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ = entry.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞") or Decimal(0)
            —Ç–µ–∫—É—â–∞—è = entry.get("–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å") or Decimal(0)
            –ø—Ä–æ—Å—Ä–æ—á–∫–∞ = entry.get("–ü—Ä–æ—Å—Ä–æ—á–∫–∞") or entry.get("–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞") or Decimal(0)

            all_credits_list.append({
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä,
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized": –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized,
                "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞,
                "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞,
                "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞,
                "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞,
                "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è,
                "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                "–°—É–º–º–∞": —Å—É–º–º–∞,
                "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
            })

        # –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É –∫–ª—é—á—É
        # –ö–ª—é—á: –∫—Ä–µ–¥–∏—Ç–æ—Ä + –¥–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ + —Å—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ + —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
        unique_credits = {}
        for credit in all_credits_list:
            # –§–æ—Ä–º–∏—Ä—É–µ–º –∫–ª—é—á —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            key = (
                credit['–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized'],
                credit['–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞'],
                float(credit.get('–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞', 0)),
                float(credit.get('–°—É–º–º–∞', 0))
            )
            
            # –ï—Å–ª–∏ —Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞ –µ—â–µ –Ω–µ—Ç - –¥–æ–±–∞–≤–ª—è–µ–º
            # –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å - –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ—Ç, —á—Ç–æ —Å –±–æ–ª—å—à–µ–π —Å—É–º–º–æ–π –¥–æ–ª–≥–∞ (–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π)
            if key not in unique_credits:
                unique_credits[key] = credit
            else:
                existing = unique_credits[key]
                if credit.get('–°—É–º–º–∞', 0) > existing.get('–°—É–º–º–∞', 0):
                    unique_credits[key] = credit

        # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –ø–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
        credits_by_creditor = defaultdict(list)
        for credit in unique_credits.values():
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized = credit["–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized"]
            credits_by_creditor[–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized].append(credit)

        # === –û–ë–†–ê–ë–û–¢–ö–ê –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ô –ü–†–ò–°–¢–ê–í–û–í - –î–û –°–û–†–¢–ò–†–û–í–ö–ò ===
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞–º –∏–ª–∏ –∫–∞–∫ –Ω–æ–≤—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        other_debts = []  # –ù–æ–≤—ã–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä—ã –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π (–Ω–µ –≤ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö)
        
        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in data_map.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", []):
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å = (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å") or "").strip()
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower = –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.lower()

            —Å—É–º–º–∞_str = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–°—É–º–º–∞_–¥–æ–ª–≥–∞") or ""
            —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(—Å—É–º–º–∞_str) or Decimal(0)

            if —Å—É–º–º–∞ <= 0:
                continue

            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–∞–ª–æ–≥–∏ (–æ–Ω–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–∏–∂–µ)
            if any(kw in –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower for kw in ["–Ω–∞–ª–æ–≥", "–∏—Ñ–Ω—Å", "—Ñ–Ω—Å", "–∏–Ω—Å–ø–µ–∫—Ü–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã"]):
                continue

            # –ü–æ–ª—É—á–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            –Ω–æ–º–µ—Ä_–∏–ø = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä_–ò–ü") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä") or ""
            –¥–∞—Ç–∞_–∏–ø = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞_–≤–æ–∑–±—É–∂–¥–µ–Ω–∏—è") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–î–∞—Ç–∞") or ""
            
            # –ü—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (—Ç–∏–ø –¥–æ–ª–≥–∞)
            –ø—Ä–µ–¥–º–µ—Ç = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ü—Ä–µ–¥–º–µ—Ç_–∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è") or "–í–∑—ã—Å–∫–∞–Ω–∏–µ –ø–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –§–°–°–ü"
            
            # –ê–¥—Ä–µ—Å –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è
            –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ê–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è") or ""
            if –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è:
                –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è = ", ".join(filter(None, [x.strip() for x in –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è.split(",")]))
            
            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ä–≥–∞–Ω–µ, –≤—ã–¥–∞–≤—à–µ–º –¥–æ–∫—É–º–µ–Ω—Ç + –Ω–æ–º–µ—Ä –¥–µ–ª–∞
            –æ—Ä–≥–∞–Ω = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–û—Ä–≥–∞–Ω_–≤—ã–¥–∞–≤—à–∏–π") or ""
            –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞ = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ê–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞") or ""
            –Ω–æ–º–µ—Ä_–¥–µ–ª–∞ = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ù–æ–º–µ—Ä_–¥–µ–ª–∞") or ""
            
            # –§–æ—Ä–º–∏—Ä—É–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–ª—è "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞"
            –¥–∞—Ç–∞_display = []
            if –æ—Ä–≥–∞–Ω:
                –æ—Ä–≥–∞–Ω_clean = ", ".join(filter(None, [x.strip() for x in –æ—Ä–≥–∞–Ω.split(",")]))
                –¥–∞—Ç–∞_display.append(–æ—Ä–≥–∞–Ω_clean)
            if –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞:
                –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞_clean = ", ".join(filter(None, [x.strip() for x in –∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞.split(",")]))
                –¥–∞—Ç–∞_display.append(f"–ê–¥—Ä–µ—Å: {–∞–¥—Ä–µ—Å_–æ—Ä–≥–∞–Ω–∞_clean}")
            if –Ω–æ–º–µ—Ä_–¥–µ–ª–∞:
                –¥–∞—Ç–∞_display.append(f"–ø–æ –¥–µ–ª—É ‚Ññ {–Ω–æ–º–µ—Ä_–¥–µ–ª–∞}")
            
            –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_text = " ".join(–¥–∞—Ç–∞_display) if –¥–∞—Ç–∞_display else –¥–∞—Ç–∞_–∏–ø

            # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∑—ã—Å–∫–∞—Ç–µ–ª—è
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized, –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical = DocumentProcessor.normalize_bank_name(–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å)

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä —Å —Ç–∞–∫–∏–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
            if –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized in credits_by_creditor:
                # –ö—Ä–µ–¥–∏—Ç–æ—Ä —É–∂–µ –µ—Å—Ç—å - –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä –∫ –Ω–µ–º—É
                print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –î–æ–±–∞–≤–ª—è–µ–º –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫—Ä–µ–¥–∏—Ç–æ—Ä—É: {–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical}")
                credits_by_creditor[–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized].append({
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized,
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "",
                    "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "",
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": –ø—Ä–µ–¥–º–µ—Ç,
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_text,
                    "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞,
                    "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è,
                    "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Å—É–º–º–∞,
                    "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": Decimal(0),
                    "–°—É–º–º–∞": —Å—É–º–º–∞,
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏": Decimal(0),
                })
            else:
                # –ù–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç–æ—Ä - –¥–æ–±–∞–≤–ª—è–µ–º –≤ other_debts –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
                print(f"[–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï] –ù–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç–æ—Ä: {–≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical}")
                other_debts.append({
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_canonical,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä_normalized": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_normalized,
                    "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å_–≤–∑—ã—Å–∫–∞—Ç–µ–ª—è,
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": –ø—Ä–µ–¥–º–µ—Ç,
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_text,
                    "–ù–æ–º–µ—Ä_–ò–ü": –Ω–æ–º–µ—Ä_–∏–ø,
                    "–°—É–º–º–∞": —Å—É–º–º–∞,
                })

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –ø–æ –æ–±—â–µ–π —Å—É–º–º–µ –≤—Å–µ—Ö –∏—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ (—É–±—ã–≤–∞–Ω–∏–µ)
        sorted_creditors = sorted(
            credits_by_creditor.items(),
            key=lambda x: sum(c["–°—É–º–º–∞"] for c in x[1]),
            reverse=True
        )

        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã - –ì–†–£–ü–ü–ò–†–£–ï–ú –ü–û –ë–ê–ù–ö–ê–ú
        table_rows = []
        counter = 1

        for –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, credits_list in sorted_creditors:
            # –ö–∞–∂–¥—ã–π –¥–æ–≥–æ–≤–æ—Ä = –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ
            –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç = credits_list[0]
            
            # –ò–°–ü–û–õ–¨–ó–£–ï–ú –ö–ê–ù–û–ù–ò–ß–ï–°–ö–û–ï –ù–ê–ó–í–ê–ù–ò–ï (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_display = –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç["–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical"]

            # –ê–¥—Ä–µ—Å: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–ª–Ω–æ–º—É –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¶–ë –†–§
            –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–∫—Ä–µ–¥–∏—Ç–æ—Ä_display)
            –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç["–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"]

            # –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –¢-–ë–∞–Ω–∫–∞ - –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ (–ú–æ—Å–∫–≤–∞)
            is_t_bank = (
                "–¢-–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_display.upper() or 
                "–¢ –ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_display.upper() or
                "–¢–ë–ê–ù–ö" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_display.upper() or
                "–¢–ò–ù–¨–ö–û–§–§" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_display.upper() or
                "TBANK" in –∫—Ä–µ–¥–∏—Ç–æ—Ä_display.upper()
            )
            
            if is_t_bank:
                –∞–¥—Ä–µ—Å = –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ or "127287, –≥. –ú–æ—Å–∫–≤–∞, 2-—è –•—É—Ç–æ—Ä—Å–∫–∞—è —É–ª., –¥. 38–ê, —Å—Ç—Ä. 26"
            # –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¥–ª–∏–Ω–Ω–µ–µ (–ø–æ–ª–Ω—ã–π), –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ
            elif –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ and len(–∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞) > 20:
                –∞–¥—Ä–µ—Å = –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞
            else:
                –∞–¥—Ä–µ—Å = –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ or –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞

            # –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
            –∏–Ω–Ω_display = –ø–µ—Ä–≤—ã–π_–∫—Ä–µ–¥–∏—Ç.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or DocumentProcessor.get_bank_inn(–∫—Ä–µ–¥–∏—Ç–æ—Ä_display)
            # –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å "–ò–ù–ù " –µ—Å–ª–∏ –ò–ù–ù –Ω–∞–π–¥–µ–Ω
            if –∏–Ω–Ω_display:
                –∏–Ω–Ω_display = f"–ò–ù–ù {–∏–Ω–Ω_display}"

            # –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞
            for contract_idx, credit in enumerate(credits_list):
                is_first_contract = (contract_idx == 0)
                
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞ = credit["–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞"]
                –¥–∞—Ç–∞_—Ç–µ–∫—Å—Ç = f"–î–æ–≥–æ–≤–æ—Ä –æ—Ç {credit['–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞']}" if credit['–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞'] else ""
                —Å—É–º–º–∞_—Ç–µ–∫—Å—Ç = f"{credit['–°—É–º–º–∞']:.2f}"
                
                –ø–ø = f"1.{counter}" if is_first_contract else ""
                
                table_rows.append({
                    "–ø–ø_–∫—Ä–µ–¥–∏—Ç": –ø–ø,
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞,
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_display if is_first_contract else "",
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_display if is_first_contract else "",
                    "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å if is_first_contract else "",
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_—Ç–µ–∫—Å—Ç,
                    "–ü–æ–ª–Ω–∞—è_—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_—Ç–µ–∫—Å—Ç,
                    "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ": —Å—É–º–º–∞_—Ç–µ–∫—Å—Ç,
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ": "0.00",
                    # –§–ª–∞–≥ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —è—á–µ–µ–∫
                    "is_first_contract": is_first_contract,
                    # –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–∏–∫–∞
                    "–§–∞–º–∏–ª–∏—è": debtor_fio.split()[0] if debtor_fio and len(debtor_fio.split()) > 0 else "",
                    "–ò–º—è": debtor_fio.split()[1] if debtor_fio and len(debtor_fio.split()) > 1 else "",
                    "–û—Ç—á–µ—Å—Ç–≤–æ": debtor_fio.split()[2] if debtor_fio and len(debtor_fio.split()) > 2 else "",
                    "–ò–ù–ù": debtor_inn,
                    "–°–Ω–∏–ªs": debtor_snils,
                    "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–¥–æ–ª–∂–Ω–∏–∫–∞": debtor_address,
                })
            
            counter += 1

        # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–Ω–∞–ª–æ–≥–∏, —Å–±–æ—Ä—ã –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –∏ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
        # –í–ê–ñ–ù–û: –ù–∞–ª–æ–≥–∏ –∏–¥—É—Ç –≤ —Ä–∞–∑–¥–µ–ª–µ 2 (2.1, 2.2, 2.3...)
        tax_rows = []
        tax_counter = 1

        # 1. –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–ª–æ–≥–∏ –∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–∏—Å—Ç–∞–≤–∞
        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in data_map.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", []):
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å = (–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–í–∑—ã—Å–∫–∞—Ç–µ–ª—å") or "").strip()
            –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower = –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å.lower()

            —Å—É–º–º–∞_str = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–°—É–º–º–∞_–¥–æ–ª–≥–∞") or ""
            —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(—Å—É–º–º–∞_str) or Decimal(0)

            if —Å—É–º–º–∞ <= 0:
                continue

            # –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞–ª–æ–≥–∏ –≤ —Ä–∞–∑–¥–µ–ª 2
            if any(kw in –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å_lower for kw in ["–Ω–∞–ª–æ–≥", "–∏—Ñ–Ω—Å", "—Ñ–Ω—Å", "–∏–Ω—Å–ø–µ–∫—Ü–∏—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –Ω–∞–ª–æ–≥–æ–≤–æ–π —Å–ª—É–∂–±—ã"]):
                tax_rows.append({
                    "–ø–ø_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": f"2.{tax_counter}",
                    "–ù–∞–ª–æ–≥_—Å–±–æ—Ä_–∏–ª–∏_–∏–Ω–æ–π_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": –≤–∑—ã—Å–∫–∞—Ç–µ–ª—å,
                    "–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": f"{—Å—É–º–º–∞:.2f}",
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": "0.00",
                })
                tax_counter += 1

        # 2. –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–ª–æ–≥–∏ –∏–∑ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        for —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ in data_map.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", []):
            –Ω–∞–ª–æ–≥–∏ = —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–ù–∞–ª–æ–≥–∏", [])
            for –Ω–∞–ª–æ–≥ in –Ω–∞–ª–æ–≥–∏:
                if not isinstance(–Ω–∞–ª–æ–≥, dict):
                    continue

                —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(–Ω–∞–ª–æ–≥.get("–°—É–º–º–∞")) or Decimal(0)
                if —Å—É–º–º–∞ <= 0:
                    continue

                –≤–∏–¥ = –Ω–∞–ª–æ–≥.get("–í–∏–¥", "–ù–∞–ª–æ–≥")
                –ø–µ—Ä–∏–æ–¥ = –Ω–∞–ª–æ–≥.get("–ü–µ—Ä–∏–æ–¥", "")

                # –§–æ—Ä–º–∏—Ä—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ
                if –ø–µ—Ä–∏–æ–¥:
                    –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{–≤–∏–¥} –∑–∞ {–ø–µ—Ä–∏–æ–¥} –≥."
                else:
                    –Ω–∞–∑–≤–∞–Ω–∏–µ = –≤–∏–¥

                tax_rows.append({
                    "–ø–ø_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": f"2.{tax_counter}",
                    "–ù–∞–ª–æ–≥_—Å–±–æ—Ä_–∏–ª–∏_–∏–Ω–æ–π_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                    "–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": f"{—Å—É–º–º–∞:.2f}",
                    "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞": "0.00",
                })
                tax_counter += 1

        # 3. –î–æ–±–∞–≤–ª—è–µ–º –¥—Ä—É–≥–∏–µ –¥–æ–ª–≥–∏ (–∏–∑ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π, –Ω–µ –Ω–∞–ª–æ–≥–∏) –≤ —Ä–∞–∑–¥–µ–ª 1 –ü–û–°–õ–ï –±–∞–Ω–∫–æ–≤
        # –≠—Ç–∏ –¥–æ–ª–≥–∏ - –Ω–æ–≤—ã–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –≤ –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–∞—Ö
        for debt in other_debts:
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = debt["–ö—Ä–µ–¥–∏—Ç–æ—Ä_canonical"]
            
            # –ê–¥—Ä–µ—Å: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∞–¥—Ä–µ—Å—É –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¶–ë –†–§
            –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)
            –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = debt["–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"]
            –∞–¥—Ä–µ—Å = –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ or –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞
            
            # –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
            –∏–Ω–Ω_display = DocumentProcessor.get_bank_inn(–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical)
            if –∏–Ω–Ω_display:
                –∏–Ω–Ω_display = f"–ò–ù–ù {–∏–Ω–Ω_display}"
            
            table_rows.append({
                "–ø–ø_–∫—Ä–µ–¥–∏—Ç": f"1.{counter}",
                "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞": debt["–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–∞"],
                "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω_display,
                "–ê–¥—Ä–µ—Å_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∞–¥—Ä–µ—Å,
                "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": debt["–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞"],
                "–ü–æ–ª–Ω–∞—è_—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": f"{debt['–°—É–º–º–∞']:.2f}",
                "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ": f"{debt['–°—É–º–º–∞']:.2f}",
                "–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ": "0.00",
                # –§–ª–∞–≥ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —è—á–µ–µ–∫ (–ø–µ—Ä–≤—ã–π –¥–æ–≥–æ–≤–æ—Ä –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞)
                "is_first_contract": True,
                # –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω–∏–∫–∞
                "–§–∞–º–∏–ª–∏—è": debtor_fio.split()[0] if debtor_fio and len(debtor_fio.split()) > 0 else "",
                "–ò–º—è": debtor_fio.split()[1] if debtor_fio and len(debtor_fio.split()) > 1 else "",
                "–û—Ç—á–µ—Å—Ç–≤–æ": debtor_fio.split()[2] if debtor_fio and len(debtor_fio.split()) > 2 else "",
                "–ò–ù–ù": debtor_inn,
                "–°–Ω–∏–ªs": debtor_snils,
                "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏_–¥–æ–ª–∂–Ω–∏–∫–∞": debtor_address,
            })
            counter += 1

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        result = {}

        # –î–õ–Ø –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–• –¢–ê–ë–õ–ò–¶: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ø–∏—Å–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
        result["credits"] = table_rows  # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
        result["taxes"] = tax_rows      # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–ª–æ–≥–æ–≤

        # –°–¢–ê–†–´–ô –§–û–†–ú–ê–¢: –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –ø—Ä–æ—Å—Ç—ã–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏
        # –î–æ–±–∞–≤–ª—è–µ–º –í–°–ï –∫—Ä–µ–¥–∏—Ç—ã —Å –Ω–æ–º–µ—Ä–∞–º–∏
        for i, row in enumerate(table_rows):
            for key, value in row.items():
                # –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏
                # –ù–∞–ø—Ä–∏–º–µ—Ä: –ø–ø_–∫—Ä–µ–¥–∏—Ç_1, –ø–ø_–∫—Ä–µ–¥–∏—Ç_2, ...
                result[f"{key}_{i+1}"] = value

        # –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–π –∫—Ä–µ–¥–∏—Ç –ë–ï–ó –Ω–æ–º–µ—Ä–∞ (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
        if table_rows:
            for key, value in table_rows[0].items():
                result[key] = value

        # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
        result["–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∫—Ä–µ–¥–∏—Ç–æ–≤"] = str(len(table_rows))

        # –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–∞–ª–æ–≥–∏ - –¥–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ
        for i, row in enumerate(tax_rows):
            for key, value in row.items():
                result[f"{key}_{i+1}"] = value

        # –ü–µ—Ä–≤—ã–π –Ω–∞–ª–æ–≥ –ë–ï–ó –Ω–æ–º–µ—Ä–∞
        if tax_rows:
            for key, value in tax_rows[0].items():
                result[key] = value

        result["–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–Ω–∞–ª–æ–≥–æ–≤"] = str(len(tax_rows))

        return result

    @staticmethod
    def format_bank_accounts_table(—Å—á–µ—Ç–∞_docs: List[Dict[str, Any]]) -> Dict[str, Any]:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.

        Args:
            —Å—á–µ—Ç–∞_docs: —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "—Å—á–µ—Ç–∞"

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–æ–º "—Å—á–µ—Ç–∞" (—Å–ø–∏—Å–æ–∫ –¥–ª—è Jinja2)
        """
        —Å—á–µ—Ç–∞_rows = []
        counter = 1

        for doc in —Å—á–µ—Ç–∞_docs:
            —Å—á–µ—Ç–∞_list = doc.get("–°—á–µ—Ç–∞", [])

            for —Å—á–µ—Ç in —Å—á–µ—Ç–∞_list:
                if not isinstance(—Å—á–µ—Ç, dict):
                    continue

                –±–∞–Ω–∫ = —Å—á–µ—Ç.get("–ë–∞–Ω–∫") or ""
                if not –±–∞–Ω–∫:
                    continue

                # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (GPT –¥–æ–ª–∂–µ–Ω –∏–∑–≤–ª–µ—á—å –æ—Ç–¥–µ–ª—å–Ω–æ)
                –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞ = (—Å—á–µ—Ç.get("–ê–¥—Ä–µ—Å_–±–∞–Ω–∫–∞") or "").strip()

                # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏)
                _, –±–∞–Ω–∫_canonical = DocumentProcessor.normalize_bank_name(–±–∞–Ω–∫)
                
                # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –¶–ë –†–§
                –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞ = DocumentProcessor.get_bank_address(–±–∞–Ω–∫_canonical)
                
                # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –∞–¥—Ä–µ—Å –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–µ—Å–ª–∏ GPT –∏–∑–≤–ª—ë–∫), –∏–Ω–∞—á–µ –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
                if –∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = f"{–±–∞–Ω–∫_canonical}, {–∞–¥—Ä–µ—Å_–∏–∑_–¥–æ–∫—É–º–µ–Ω—Ç–∞}"
                elif –∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = f"{–±–∞–Ω–∫_canonical}, {–∞–¥—Ä–µ—Å_–∏–∑_—Ä–µ–µ—Å—Ç—Ä–∞}"
                else:
                    –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞ = –±–∞–Ω–∫_canonical

                —Ç–∏–ø_—Å—á–µ—Ç–∞ = —Å—á–µ—Ç.get("–¢–∏–ø") or —Å—á–µ—Ç.get("–°—Ç–∞—Ç—É—Å") or ""
                –Ω–æ–º–µ—Ä = —Å—á–µ—Ç.get("–ù–æ–º–µ—Ä") or ""
                –¥–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è = —Å—á–µ—Ç.get("–î–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è") or ""
                –æ—Å—Ç–∞—Ç–æ–∫ = —Å—á–µ—Ç.get("–û—Å—Ç–∞—Ç–æ–∫") or ""

                # –ï—Å–ª–∏ –æ—Å—Ç–∞—Ç–æ–∫ "0.00" –∏–ª–∏ "0" - –æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º
                if –æ—Å—Ç–∞—Ç–æ–∫ in ("0.00", "0", "None"):
                    –æ—Å—Ç–∞—Ç–æ–∫ = ""

                —Å—á–µ—Ç–∞_rows.append({
                    "—Å—á–µ—Ç–∞_–ø–ø": f"3.{counter}",
                    "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∏_–∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞_–∏–ª–∏_–∏–Ω–æ–π_–∫—Ä–µ–¥–∏—Ç–Ω–æ–π_–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏": –∞–¥—Ä–µ—Å_–±–∞–Ω–∫–∞,
                    "–í–∏–¥_—Å—á–µ—Ç–∞": —Ç–∏–ø_—Å—á–µ—Ç–∞,
                    "–î–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è_—Å—á–µ—Ç–∞": –¥–∞—Ç–∞_–æ—Ç–∫—Ä—ã—Ç–∏—è,
                    "–û—Å—Ç–∞—Ç–æ–∫_–Ω–∞_—Å—á–µ—Ç–µ": –æ—Å—Ç–∞—Ç–æ–∫,
                })
                counter += 1

        return {"—Å—á–µ—Ç–∞": —Å—á–µ—Ç–∞_rows}

    @staticmethod
    def format_realty_table(–µ–≥—Ä–Ω_docs: List[Dict[str, Any]], owner_fio: str = "") -> Dict[str, Any]:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.

        Args:
            –µ–≥—Ä–Ω_docs: —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞"
            owner_fio: –§–ò–û –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞) –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
        """
        –∑–µ–º–µ–ª—å–Ω—ã–µ = []
        –∂–∏–ª—ã–µ_–¥–æ–º–∞ = []
        –∫–≤–∞—Ä—Ç–∏—Ä—ã = []
        –≥–∞—Ä–∞–∂–∏ = []
        –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ = []

        –∑–µ–º–ª—è_counter = 1
        –¥–æ–º_counter = 1
        –∫–≤–∞—Ä—Ç–∏—Ä–∞_counter = 1
        –≥–∞—Ä–∞–∂_counter = 1
        –∏–Ω–æ–µ_counter = 1

        for doc in –µ–≥—Ä–Ω_docs:
            if not isinstance(doc, dict):
                continue

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å–ª–∏ —ç—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
            if not doc.get("–ï—Å—Ç—å_–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", True):
                continue
            if doc.get("–†–µ–∑—É–ª—å—Ç–∞—Ç") == "—Å–≤–µ–¥–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç":
                continue

            # –ü–æ–ª—É—á–∞–µ–º –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π
            –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏ = doc.get("–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏", [])

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ –Ω–∞—à —á–µ–ª–æ–≤–µ–∫ —Å—Ä–µ–¥–∏ –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–µ–π
            owner_found = False
            owner_data = None

            for –ø—Ä–∞–≤–æ in –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª–∏:
                —Ñ–∏–æ = –ø—Ä–∞–≤–æ.get("–§–ò–û", "")
                if owner_fio and owner_fio in —Ñ–∏–æ:
                    owner_found = True
                    owner_data = –ø—Ä–∞–≤–æ
                    break

            # –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
            if owner_fio and not owner_found:
                continue

            # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞ - –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ, —Ç–∞–∫ –∏ –≤ "–û–±—ä–µ–∫—Ç"
            –æ–±—ä–µ–∫—Ç = doc.get("–û–±—ä–µ–∫—Ç", {})

            –∫–∞–¥–∞—Å—Ç—Ä = doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä", "")
            –∞–¥—Ä–µ—Å = –æ–±—ä–µ–∫—Ç.get("–ê–¥—Ä–µ—Å") or doc.get("–ê–¥—Ä–µ—Å", "")
            –ø–ª–æ—â–∞–¥—å = –æ–±—ä–µ–∫—Ç.get("–ü–ª–æ—â–∞–¥—å") or doc.get("–ü–ª–æ—â–∞–¥—å", "")
            —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ = –æ–±—ä–µ–∫—Ç.get("–í–∏–¥") or doc.get("–¢–∏–ø_–æ–±—ä–µ–∫—Ç–∞", "")
            –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ = –æ–±—ä–µ–∫—Ç.get("–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ", "")

            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–∏–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –¥–æ–ª—é
            if owner_data:
                –≤–∏–¥_–ø—Ä–∞–≤–∞ = owner_data.get("–í–∏–¥_–ø—Ä–∞–≤–∞", "")
                –¥–æ–ª—è = owner_data.get("–î–æ–ª—è", "")
                –¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ = owner_data.get("–î–æ–∫—É–º–µ–Ω—Ç", "")
            else:
                –≤–∏–¥_–ø—Ä–∞–≤–∞ = ""
                –¥–æ–ª—è = ""
                –¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ = ""

            # –§–æ—Ä–º–∏—Ä—É–µ–º –≤–∏–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —Å –¥–æ–ª–µ–π
            if –¥–æ–ª—è and –¥–æ–ª—è != "1/1":
                –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = f"{–≤–∏–¥_–ø—Ä–∞–≤–∞}. –î–æ–ª—è –≤ –ø—Ä–∞–≤–µ: {–¥–æ–ª—è}" if –≤–∏–¥_–ø—Ä–∞–≤–∞ else f"–î–æ–ª—è –≤ –ø—Ä–∞–≤–µ: {–¥–æ–ª—è}"
            else:
                –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = –≤–∏–¥_–ø—Ä–∞–≤–∞ or ""

            # –û—Å–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è - —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç, –ë–ï–ó –¥–æ–ª–∏
            –æ—Å–Ω–æ–≤–∞–Ω–∏–µ = –¥–æ–∫—É–º–µ–Ω—Ç_–æ—Å–Ω–æ–≤–∞–Ω–∏–µ or ""

            # –û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è
            –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è = doc.get("–û–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è", [])
            if isinstance(–æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è, list) and –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è:
                –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å = "; ".join(str(–æ) for –æ in –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è if –æ)
            else:
                –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å = ""

            # –°–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
            base_obj = {
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏,
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": –∞–¥—Ä–µ—Å,
                "–ü–ª–æ—â–∞–¥—å": –ø–ª–æ—â–∞–¥—å,
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": –æ—Å–Ω–æ–≤–∞–Ω–∏–µ,
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": –∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å,
            }

            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–ø–∏—Å–æ–∫
            —Ç–∏–ø_lower = —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞.lower() if —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ else ""
            –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ_lower = –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ.lower() if –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ else ""
            –∞–¥—Ä–µ—Å_lower = –∞–¥—Ä–µ—Å.lower() if –∞–¥—Ä–µ—Å else ""

            if "–∑–µ–º–µ–ª—å–Ω" in —Ç–∏–ø_lower or "—É—á–∞—Å—Ç–æ–∫" in —Ç–∏–ø_lower:
                –∑–µ–º–µ–ª—å–Ω—ã–µ.append({
                    **base_obj,
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": –∫–∞–¥–∞—Å—Ç—Ä,
                    "–ù–æ–º–µ—Ä_–≤_—Å–ø–∏—Å–∫–µ": f"{–∑–µ–º–ª—è_counter})" if len([x for x in –µ–≥—Ä–Ω_docs if x.get('–û–±—ä–µ–∫—Ç', {}).get('–í–∏–¥', '').lower().find('–∑–µ–º–µ–ª—å–Ω') >= 0]) > 1 else "",
                })
                –∑–µ–º–ª—è_counter += 1

            elif ("–∑–¥–∞–Ω–∏–µ" in —Ç–∏–ø_lower and "–∂–∏–ª" in –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ_lower) or "–∂–∏–ª–æ–π –¥–æ–º" in —Ç–∏–ø_lower:
                # –ù–∞–∑–≤–∞–Ω–∏–µ —Å –Ω–æ–º–µ—Ä–æ–º –µ—Å–ª–∏ –¥–æ–º–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{–¥–æ–º_counter}) –∂–∏–ª–æ–π –¥–æ–º" if –¥–æ–º_counter > 1 or len(–∂–∏–ª—ã–µ_–¥–æ–º–∞) > 0 else "–∂–∏–ª–æ–π –¥–æ–º"
                –∂–∏–ª—ã–µ_–¥–æ–º–∞.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                –¥–æ–º_counter += 1

            elif "–∫–≤–∞—Ä—Ç–∏—Ä" in —Ç–∏–ø_lower or "–∫–æ–º–Ω–∞—Ç" in —Ç–∏–ø_lower or ("–∑–¥–∞–Ω–∏–µ" in —Ç–∏–ø_lower and "–∫–≤–∞—Ä—Ç–∏—Ä" in –∞–¥—Ä–µ—Å_lower):
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{–∫–≤–∞—Ä—Ç–∏—Ä–∞_counter}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ or '–ö–≤–∞—Ä—Ç–∏—Ä–∞'}" if –∫–≤–∞—Ä—Ç–∏—Ä–∞_counter > 1 or len(–∫–≤–∞—Ä—Ç–∏—Ä—ã) > 0 else —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ or "–ö–≤–∞—Ä—Ç–∏—Ä–∞"
                –∫–≤–∞—Ä—Ç–∏—Ä—ã.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                –∫–≤–∞—Ä—Ç–∏—Ä–∞_counter += 1

            elif "–≥–∞—Ä–∞–∂" in —Ç–∏–ø_lower or "–±–æ–∫—Å" in —Ç–∏–ø_lower or "–º–∞—à–∏–Ω–æ-–º–µ—Å—Ç–æ" in —Ç–∏–ø_lower:
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{–≥–∞—Ä–∞–∂_counter}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞}" if –≥–∞—Ä–∞–∂_counter > 1 or len(–≥–∞—Ä–∞–∂–∏) > 0 else —Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞
                –≥–∞—Ä–∞–∂–∏.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                –≥–∞—Ä–∞–∂_counter += 1

            else:
                # –ò–Ω–æ–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ
                –Ω–∞–∑–≤–∞–Ω–∏–µ = f"{–∏–Ω–æ–µ_counter}) {—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ or –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ or '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å'}" if –∏–Ω–æ–µ_counter > 1 or len(–∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ) > 0 else (—Ç–∏–ø_–æ–±—ä–µ–∫—Ç–∞ or –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ or "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å")
                –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ.append({
                    **base_obj,
                    "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∏–º—É—â–µ—Å—Ç–≤–∞": –Ω–∞–∑–≤–∞–Ω–∏–µ,
                })
                –∏–Ω–æ–µ_counter += 1

        # –ï—Å–ª–∏ —Å–ø–∏—Å–∫–∏ –ø—É—Å—Ç—ã–µ, –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ –æ–¥–Ω–æ–º—É –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—é —Å –ø—É—Å—Ç—ã–º–∏ –ø–æ–ª—è–º–∏.
        # –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ —à–∞–±–ª–æ–Ω–µ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ docxtpl
        # ‚Äî –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –±—É–¥–µ—Ç –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–∞ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –º–∞–∫–µ—Ç.
        if not –∑–µ–º–µ–ª—å–Ω—ã–µ:
            –∑–µ–º–µ–ª—å–Ω—ã–µ.append({
                "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
                "–ù–æ–º–µ—Ä_–≤_—Å–ø–∏—Å–∫–µ": "",
            })

        if not –∂–∏–ª—ã–µ_–¥–æ–º–∞:
            –∂–∏–ª—ã–µ_–¥–æ–º–∞.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        if not –∫–≤–∞—Ä—Ç–∏—Ä—ã:
            –∫–≤–∞—Ä—Ç–∏—Ä—ã.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        if not –≥–∞—Ä–∞–∂–∏:
            –≥–∞—Ä–∞–∂–∏.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        if not –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ:
            –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ.append({
                "–í–∏–¥_–∏_–Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ_–∏–º—É—â–µ—Å—Ç–≤–∞": "",
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": "",
                "–ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ_–∞–¥—Ä–µ—Å": "",
                "–ü–ª–æ—â–∞–¥—å": "",
                "–û—Å–Ω–æ–≤–∞–Ω–∏–µ_–ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è_–∏_—Å—Ç–æ–∏–º–æ—Å—Ç—å": "",
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ_–∏_–∑–∞–ª–æ–≥–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–µ": "",
            })

        return {
            "–∑–µ–º–µ–ª—å–Ω—ã–µ_—É—á–∞—Å—Ç–∫–∏": –∑–µ–º–µ–ª—å–Ω—ã–µ,
            "–∂–∏–ª—ã–µ_–¥–æ–º–∞": –∂–∏–ª—ã–µ_–¥–æ–º–∞,
            "–∫–≤–∞—Ä—Ç–∏—Ä—ã": –∫–≤–∞—Ä—Ç–∏—Ä—ã,
            "–≥–∞—Ä–∞–∂–∏": –≥–∞—Ä–∞–∂–∏,
            "–∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ": –∏–Ω–æ–µ_–Ω–µ–¥–≤–∏–∂–∏–º–æ–µ,
        }

    @staticmethod
    def format_vehicles_table(–≥–∏–±–¥–¥_docs: List[Dict[str, Any]]) -> Dict[str, Any]:
        """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.

        Args:
            –≥–∏–±–¥–¥_docs: —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "–≥–∏–±–¥–¥"

        Returns:
            –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–æ–º "–∞–≤—Ç–æ–º–æ–±–∏–ª–∏" (—Å–ø–∏—Å–æ–∫ –¥–ª—è Jinja2) –∏ "–ù–µ—Ç—É_–≥–∏–±–¥–¥" (—Ç–µ–∫—Å—Ç –µ—Å–ª–∏ —Å–ø—Ä–∞–≤–∫–∏ –Ω–µ—Ç)
        """
        –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ = []
        counter = 1
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–ø—Ä–∞–≤–∫–∞ –ì–ò–ë–î–î
        has_gibdd = len(–≥–∏–±–¥–¥_docs) > 0

        for doc in –≥–∏–±–¥–¥_docs:
            if not isinstance(doc, dict):
                continue

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–æ–±—ã–µ –æ—Ç–º–µ—Ç–∫–∏
            special_notes = doc.get("–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏", "")
            if special_notes:
                special_lower = special_notes.lower()
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –µ—Å–ª–∏ –¢–° –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–µ—Å—Ç—Ä–µ
                if any(keyword in special_lower for keyword in 
                       ["–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç", "–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç", "–Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ"]):
                    continue
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–¥–∞–Ω–Ω—ã–µ/—Å–Ω—è—Ç—ã–µ —Å —É—á–µ—Ç–∞
                if any(keyword in special_lower for keyword in 
                       ["—Å–Ω—è—Ç–æ —Å —É—á–µ—Ç–∞", "–ø—Ä–æ–¥–∞–∂", "–ø—Ä–æ–¥–∞–Ω", "–ø–µ—Ä–µ–¥–∞—á", "—É—Ç–∏–ª–∏–∑–∞—Ü"]):
                    continue

            –º–∞—Ä–∫–∞ = doc.get("–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å") or ""
            –≤–∏–Ω = doc.get("VIN") or ""
            –≥–æ–¥ = doc.get("–ì–æ–¥_–≤—ã–ø—É—Å–∫–∞") or ""
            –Ω–æ–º–µ—Ä = doc.get("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π_–∑–Ω–∞–∫") or doc.get("–ù–æ–º–µ—Ä") or ""

            # –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä - —ç—Ç–æ VIN
            id_–Ω–æ–º–µ—Ä = –≤–∏–Ω

            # –í–∏–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –º–µ—Å—Ç–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è - –ø–æ–∫–∞ –Ω–µ –∏–∑–≤–µ—Å—Ç–Ω—ã
            –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ = ""
            –º–µ—Å—Ç–æ = ""
            —Å—Ç–æ–∏–º–æ—Å—Ç—å = ""
            –∑–∞–ª–æ–≥ = ""

            –∞–≤—Ç–æ–º–æ–±–∏–ª–∏.append({
                "–∞–≤—Ç–æ_–ø–ø": f"2.1.{counter}",
                "–í–∏–¥_–º–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å": –º–∞—Ä–∫–∞,
                "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π_–Ω–æ–º–µ—Ä": id_–Ω–æ–º–µ—Ä,
                "–í–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏": –≤–∏–¥_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏,
                "–ú–µ—Å—Ç–æ_–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è": –º–µ—Å—Ç–æ,
                "–°—Ç–æ–∏–º–æ—Å—Ç—å": —Å—Ç–æ–∏–º–æ—Å—Ç—å,
                "–°–≤–µ–¥–µ–Ω–∏—è_–æ_–∑–∞–ª–æ–≥–µ": –∑–∞–ª–æ–≥,
            })
            counter += 1
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è —Å–ª—É—á–∞—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–ø—Ä–∞–≤–∫–∏ –ì–ò–ë–î–î
        # –¢–µ–∫—Å—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —Å–ø—Ä–∞–≤–∫–∏ –Ω–µ—Ç –≤–æ–æ–±—â–µ (not has_gibdd)
        # –ï—Å–ª–∏ —Å–ø—Ä–∞–≤–∫–∞ –µ—Å—Ç—å, –Ω–æ –º–∞—à–∏–Ω –Ω–µ—Ç - —Ç–µ–∫—Å—Ç –ù–ï –≤—ã–≤–æ–¥–∏—Ç—Å—è
        gibdd_notice = ""
        if not has_gibdd:
            gibdd_notice = "–î–æ–ª–∂–Ω–∏–∫ –Ω–∞–ø—Ä–∞–≤–∏–ª –∑–∞—è–≤–ª–µ–Ω–∏–µ –≤ –ì–ò–ë–î–î –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö, –Ω–∞ –¥–∞—Ç—É –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∫–∞ –Ω–µ –ø–æ–ª—É—á–µ–Ω–∞, –æ–±—è–∑—É–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ —Å—É–¥–µ–±–Ω–æ–≥–æ –∑–∞—Å–µ–¥–∞–Ω–∏—è."

        return {
            "–∞–≤—Ç–æ–º–æ–±–∏–ª–∏": –∞–≤—Ç–æ–º–æ–±–∏–ª–∏,
            "–ù–µ—Ç—É_–≥–∏–±–¥–¥": gibdd_notice
        }

    @staticmethod
    def normalize_date(date_str: str) -> str:
        """–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞—Ç—É –∫ —Ñ–æ—Ä–º–∞—Ç—É –î–î.–ú–ú.–ì–ì–ì–ì.
        
        –ü—Ä–∏–º–µ—Ä—ã:
        - "09-09-2009" ‚Üí "09.09.2009"
        - "09/09/2009" ‚Üí "09.09.2009"
        - "09.09.2009" ‚Üí "09.09.2009"
        """
        if not date_str:
            return ""
        
        # –ó–∞–º–µ–Ω—è–µ–º –¥–µ—Ñ–∏—Å—ã –∏ —Å–ª—ç—à–∏ –Ω–∞ —Ç–æ—á–∫–∏
        normalized = date_str.replace("-", ".").replace("/", ".")
        
        return normalized.strip()
    
    @staticmethod
    def merge_credit_reports(data_map: Dict[str, List[Dict[str, Any]]]) -> List[Dict[str, Any]]:
        """–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ –û–ö–ë, –ë–ö–ò, –ù–ë–ö–ò –æ—Ç—á–µ—Ç–æ–≤, —É–±–∏—Ä–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.

        –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –ò–ù–ù/–û–ì–†–ù + –¥–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞).
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤".
        """
        all_credits = {}  # {–∫–ª—é—á_–¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: –¥–∞–Ω–Ω—ã–µ_–∫—Ä–µ–¥–∏—Ç–∞}
        seen_keys = set()  # –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

        print("\n" + "="*80)
        print("–î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–Ø –ö–†–ï–î–ò–¢–û–í")
        print("="*80)

        for key in ("–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"):
            reports_count = len(data_map.get(key, []))
            if reports_count > 0:
                print(f"\nüìÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—á–µ—Ç–∞: {key.upper()} ({reports_count} —à—Ç.)")
            
            for report in data_map.get(key, []):
                collection = (
                    report.get("–ö—Ä–µ–¥–∏—Ç—ã")
                    or report.get("–î–æ–≥–æ–≤–æ—Ä—ã")
                    or []
                )

                for entry in collection:
                    if not isinstance(entry, dict):
                        continue

                    –∫—Ä–µ–¥–∏—Ç–æ—Ä = (entry.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä") or "").strip()
                    if not –∫—Ä–µ–¥–∏—Ç–æ—Ä:
                        continue
                    
                    print(f"\n   ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω: {–∫—Ä–µ–¥–∏—Ç–æ—Ä}")

                    # –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ù–û–†–ú–ê–õ–ò–ó–ê–¶–ò–Ø: –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
                    –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = DocumentProcessor.normalize_bank_name(–∫—Ä–µ–¥–∏—Ç–æ—Ä)

                    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
                    –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower = –∫—Ä–µ–¥–∏—Ç–æ—Ä.lower()
                    if any(word in –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower for word in ["–º—Ñ–æ", "–º–∫–∫", "–º—Ñ–∫", "–º–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å", "–º–∏–∫—Ä–æ–∫—Ä–µ–¥–∏—Ç"]):
                        —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ú–§–û"
                    else:
                        —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ë–ê–ù–ö"

                    # –í—ã—á–∏—Å–ª—è–µ–º —Å—É–º–º—É –¥–æ–ª–≥–∞
                    –æ—Å–Ω–æ–≤–Ω–æ–π = DocumentProcessor.parse_decimal(entry.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥"))
                    –ø—Ä–æ—Ü–µ–Ω—Ç—ã = DocumentProcessor.parse_decimal(entry.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã"))
                    —à—Ç—Ä–∞—Ñ—ã = DocumentProcessor.parse_decimal(entry.get("–®—Ç—Ä–∞—Ñ—ã"))
                    
                    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ä–æ—á–∫–∏
                    —Ç–µ–∫—É—â–∞—è = DocumentProcessor.parse_decimal(entry.get("–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"))
                    –ø—Ä–æ—Å—Ä–æ—á–∫–∞ = DocumentProcessor.parse_decimal(entry.get("–ü—Ä–æ—Å—Ä–æ—á–∫–∞") or entry.get("–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞"))

                    if –æ—Å–Ω–æ–≤–Ω–æ–π or –ø—Ä–æ—Ü–µ–Ω—Ç—ã or —à—Ç—Ä–∞—Ñ—ã:
                        —Å—É–º–º–∞ = (–æ—Å–Ω–æ–≤–Ω–æ–π or Decimal(0)) + (–ø—Ä–æ—Ü–µ–Ω—Ç—ã or Decimal(0)) + (—à—Ç—Ä–∞—Ñ—ã or Decimal(0))
                    else:
                        # –î–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤: –±–µ—Ä–µ–º –ø–æ–ª–µ "–°—É–º–º–∞" (—É–∂–µ —Å–ª–æ–∂–µ–Ω–Ω—É—é –Ω–µ–π—Ä–æ–Ω–∫–æ–π)
                        —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(entry.get("–°—É–º–º–∞")) or Decimal(0)
                        
                        # –ï—Å–ª–∏ –ø–æ–ª—è "–°—É–º–º–∞" –Ω–µ—Ç, —Å–∫–ª–∞–¥—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –∏ –ø—Ä–æ—Å—Ä–æ—á–∫—É
                        if —Å—É–º–º–∞ <= 0:
                            —Å—É–º–º–∞ = (—Ç–µ–∫—É—â–∞—è or Decimal(0)) + (–ø—Ä–æ—Å—Ä–æ—á–∫–∞ or Decimal(0))

                    # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫—Ä–µ–¥–∏—Ç—ã —Å –Ω—É–ª–µ–≤–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é
                    if —Å—É–º–º–∞ <= 0:
                        continue

                    # === –õ–û–ì–ò–ö–ê –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–ò: –ù–ê–ó–í–ê–ù–ò–ï + –î–ê–¢–ê –î–û–ì–û–í–û–†–ê + –ü–ï–†–í–û–ù–ê–ß–ê–õ–¨–ù–ê–Ø –°–£–ú–ú–ê ===
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞—Ç—É –¥–æ–≥–æ–≤–æ—Ä–∞ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–µ–π
                    –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_raw = (entry.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏") or entry.get("–î–∞—Ç–∞_–Ω–∞—á–∞–ª–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or entry.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or "").strip()
                    
                    # –ù–û–†–ú–ê–õ–ò–ó–£–ï–ú –î–ê–¢–£: 09-09-2009 ‚Üí 09.09.2009
                    –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ = DocumentProcessor.normalize_date(–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_raw)
                    
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –ò–ù–ù/–û–ì–†–ù –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–Ω–æ –Ω–µ –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏)
                    –∏–Ω–Ω = (entry.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or entry.get("–ò–ù–ù") or "").strip()
                    –æ–≥—Ä–Ω = (entry.get("–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞") or entry.get("–û–ì–†–ù") or "").strip()
                    
                    # –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞ (—Å–∫–æ–ª—å–∫–æ –≤–∑—è–ª–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ)
                    —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ = DocumentProcessor.parse_decimal(entry.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞")) or Decimal(0)
                    
                    print(f"      ‚Ä¢ –î–∞—Ç–∞ –¥–æ–≥–æ–≤–æ—Ä–∞: {–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or '–ù–ï–¢'} (–∏—Å—Ö–æ–¥–Ω–∞—è: {–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞_raw})")
                    if –∏–Ω–Ω:
                        print(f"      ‚Ä¢ –ò–ù–ù: {–∏–Ω–Ω}")
                    print(f"      ‚Ä¢ –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞: {—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ if —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 0 else '–ù–ï–¢'}")
                    print(f"      ‚Ä¢ –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥: {—Å—É–º–º–∞}")

                    # –§–æ—Ä–º–∏—Ä—É–µ–º –∫–ª—é—á –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏:
                    # –ö–õ–Æ–ß: –∫—Ä–µ–¥–∏—Ç–æ—Ä + –¥–∞—Ç–∞ + –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (–ë–ï–ó —Ç–µ–∫—É—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞!)
                    # –¢–µ–∫—É—â–∞—è —Å—É–º–º–∞ –¥–æ–ª–≥–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ –û–ö–ë –∏ –ë–ö–ò, –ø–æ—ç—Ç–æ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –≤ –∫–ª—é—á–µ
                    if —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 100:
                        —Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞ = int(—Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
                        dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞}|{—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"
                    else:
                        # –ù–µ—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π —Å—É–º–º—ã - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥ –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è
                        —Ç–µ–∫—É—â–∞—è_—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞ = f"{—Å—É–º–º–∞:.2f}"
                        dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞}|NO_INIT|{—Ç–µ–∫—É—â–∞—è_—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"
                    
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã —Å —É—á—ë—Ç–æ–º –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –¥–∞—Ç (¬±1 –¥–µ–Ω—å)
                    # –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ –û–ö–ë –∏ –ë–ö–ò —É–∫–∞–∑—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –¥–∞—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞
                    found_similar = False
                    similar_key = None
                    
                    if –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ and —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ > 100:
                        from datetime import datetime, timedelta
                        try:
                            base_date = datetime.strptime(–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞, "%d.%m.%Y")
                            # –ü—Ä–æ–≤–µ—Ä—è–µ–º ¬±1 –¥–µ–Ω—å –ø–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä—É + –¥–∞—Ç–∞ + –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞
                            for delta in [-1, 0, 1]:
                                check_date = (base_date + timedelta(days=delta)).strftime("%d.%m.%Y")
                                check_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{check_date}|{—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"
                                if check_key in all_credits and check_key != dedup_key:
                                    found_similar = True
                                    similar_key = check_key
                                    break
                        except:
                            pass

                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å—Ç—Ä–µ—á–∞–ª—Å—è –ª–∏ —É–∂–µ —Ç–∞–∫–æ–π –∫—Ä–µ–¥–∏—Ç (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∏–ª–∏ —Å –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å—é ¬±1 –¥–µ–Ω—å)
                    target_key = similar_key if found_similar else dedup_key
                    
                    if target_key in all_credits:
                        # –î—É–±–ª–∏–∫–∞—Ç –Ω–∞–π–¥–µ–Ω ‚Äî –±–µ—Ä—ë–º –∑–∞–ø–∏—Å—å —Å –±–æ–ª—å—à–µ–π —Å—É–º–º–æ–π (–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
                        existing_sum = all_credits[target_key].get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
                        if —Å—É–º–º–∞ > existing_sum:
                            if found_similar and target_key != dedup_key:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ ¬±1–¥–µ–Ω—å (–æ–±–Ω–æ–≤–ª—ë–Ω): {existing_sum} ‚Üí {—Å—É–º–º–∞}")
                            else:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ (–æ–±–Ω–æ–≤–ª—ë–Ω): {existing_sum} ‚Üí {—Å—É–º–º–∞}")
                            print(f"      –ö–ª—é—á: {target_key}")
                            all_credits[target_key] = {
                                "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                                "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω or None,
                                "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or None,
                                "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or None,
                                "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞,
                                "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": —Å—É–º–º–∞,
                                "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                                "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è,
                                "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                                "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": –æ—Å–Ω–æ–≤–Ω–æ–π,
                                "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": –ø—Ä–æ—Ü–µ–Ω—Ç—ã,
                                "–®—Ç—Ä–∞—Ñ—ã": —à—Ç—Ä–∞—Ñ—ã,
                                "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                                "–ò—Å—Ç–æ—á–Ω–∏–∫": key,
                            }
                        else:
                            if found_similar and target_key != dedup_key:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ ¬±1–¥–µ–Ω—å (–ø—Ä–æ–ø—É—â–µ–Ω): {—Å—É–º–º–∞} <= {existing_sum}")
                            else:
                                print(f"      ‚úì –î–£–ë–õ–ò–ö–ê–¢ (–ø—Ä–æ–ø—É—â–µ–Ω): {—Å—É–º–º–∞} <= {existing_sum}")
                            print(f"      –ö–ª—é—á: {target_key}")
                    else:
                        # –ù–æ–≤—ã–π –∫—Ä–µ–¥–∏—Ç ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º
                        print(f"      ‚úì –ù–û–í–´–ô –∫—Ä–µ–¥–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω")
                        print(f"      –ö–ª—é—á: {dedup_key}")
                        all_credits[dedup_key] = {
                            "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                            "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω or None,
                            "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or None,
                            "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or None,
                            "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": —Å—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞,
                            "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": —Å—É–º–º–∞,
                            "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                            "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": —Ç–µ–∫—É—â–∞—è,
                            "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                            "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": –æ—Å–Ω–æ–≤–Ω–æ–π,
                            "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": –ø—Ä–æ—Ü–µ–Ω—Ç—ã,
                            "–®—Ç—Ä–∞—Ñ—ã": —à—Ç—Ä–∞—Ñ—ã,
                            "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": –ø—Ä–æ—Å—Ä–æ—á–∫–∞,
                            "–ò—Å—Ç–æ—á–Ω–∏–∫": key,
                        }

        # === –î–û–ë–ê–í–õ–Ø–ï–ú –°–ü–†–ê–í–ö–ò –û –ó–ê–î–û–õ–ñ–ï–ù–ù–û–°–¢–ò ===
        # –°–ø—Ä–∞–≤–∫–∏ - —ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –æ—Ç –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π –¥–æ–ª–≥–∞
        for —Å–ø—Ä–∞–≤–∫–∞ in data_map.get("—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", []):
            –∫—Ä–µ–¥–∏—Ç–æ—Ä = (—Å–ø—Ä–∞–≤–∫–∞.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä") or "").strip()
            if not –∫—Ä–µ–¥–∏—Ç–æ—Ä:
                continue

            –∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized, –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical = DocumentProcessor.normalize_bank_name(–∫—Ä–µ–¥–∏—Ç–æ—Ä)

            # –ò–∑–≤–ª–µ–∫–∞–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏–∑ —Å–ø—Ä–∞–≤–∫–∏
            –∏—Ç–æ–≥–æ = —Å–ø—Ä–∞–≤–∫–∞.get("–ò—Ç–æ–≥–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å") or —Å–ø—Ä–∞–≤–∫–∞.get("–í—Å–µ–≥–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å") or —Å–ø—Ä–∞–≤–∫–∞.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏")
            —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(–∏—Ç–æ–≥–æ)
            
            if not —Å—É–º–º–∞ or —Å—É–º–º–∞ <= 0:
                # –ï—Å–ª–∏ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º—ã –Ω–µ—Ç, –ø—Ä–æ–±—É–µ–º —Å–ª–æ–∂–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
                –æ—Å–Ω–æ–≤–Ω–æ–π = DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥"))
                –ø—Ä–æ—Ü–µ–Ω—Ç—ã = DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã"))
                —à—Ç—Ä–∞—Ñ—ã = DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–®—Ç—Ä–∞—Ñ—ã"))
                —Å—É–º–º–∞ = (–æ—Å–Ω–æ–≤–Ω–æ–π or Decimal(0)) + (–ø—Ä–æ—Ü–µ–Ω—Ç—ã or Decimal(0)) + (—à—Ç—Ä–∞—Ñ—ã or Decimal(0))

            if —Å—É–º–º–∞ <= 0:
                continue

            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
            –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower = –∫—Ä–µ–¥–∏—Ç–æ—Ä.lower()
            if any(word in –∫—Ä–µ–¥–∏—Ç–æ—Ä_lower for word in ["–º—Ñ–æ", "–º–∫–∫", "–º—Ñ–∫", "–º–∏–∫—Ä–æ—Ñ–∏–Ω–∞–Ω—Å", "–º–∏–∫—Ä–æ–∫—Ä–µ–¥–∏—Ç"]):
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ú–§–û"
            else:
                —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ = "–ë–ê–ù–ö"

            –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ = (—Å–ø—Ä–∞–≤–∫–∞.get("–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞") or —Å–ø—Ä–∞–≤–∫–∞.get("–î–∞—Ç–∞") or "").strip()
            –∏–Ω–Ω = (—Å–ø—Ä–∞–≤–∫–∞.get("–ò–ù–ù") or "").strip()
            –æ–≥—Ä–Ω = (—Å–ø—Ä–∞–≤–∫–∞.get("–û–ì–†–ù") or "").strip()
            
            # –î–ª—è —Å–ø—Ä–∞–≤–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –≤ –∫–ª—é—á–µ
            —Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞ = int(—Å—É–º–º–∞) if —Å—É–º–º–∞ else 0

            # –ö–ª—é—á –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ + –¥–∞—Ç–∞ + —Ç–µ–∫—É—â–∞—è —Å—É–º–º–∞
            dedup_key = f"{–∫—Ä–µ–¥–∏—Ç–æ—Ä_normalized}|{–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞}|{—Å—É–º–º–∞_–¥–ª—è_–∫–ª—é—á–∞}"

            # –°–ø—Ä–∞–≤–∫–∏ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –æ–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞
            if dedup_key not in all_credits:
                print(f"      [–°–ü–†–ê–í–ö–ê] –î–æ–±–∞–≤–ª–µ–Ω {–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical}: {—Å—É–º–º–∞} —Ä—É–±. (–¥–∞—Ç–∞: {–¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞})")
                all_credits[dedup_key] = {
                    "–ö—Ä–µ–¥–∏—Ç–æ—Ä": –∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical,
                    "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –∏–Ω–Ω or None,
                    "–û–ì–†–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": –æ–≥—Ä–Ω or None,
                    "–î–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞": –¥–∞—Ç–∞_–¥–æ–≥–æ–≤–æ—Ä–∞ or None,
                    "–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏": —Å—É–º–º–∞,
                    "–¢–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": —Ç–∏–ø_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞,
                    "–¢–µ–∫—É—â–∞—è_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥")),
                    "–¢–µ–∫—É—â–∞—è_–ø—Ä–æ—Å—Ä–æ—á–∫–∞": None,
                    "–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–û—Å–Ω–æ–≤–Ω–æ–π_–¥–æ–ª–≥")),
                    "–ü—Ä–æ—Ü–µ–Ω—Ç—ã": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–ü—Ä–æ—Ü–µ–Ω—Ç—ã")),
                    "–®—Ç—Ä–∞—Ñ—ã": DocumentProcessor.parse_decimal(—Å–ø—Ä–∞–≤–∫–∞.get("–®—Ç—Ä–∞—Ñ—ã")),
                    "–ü—Ä–æ—Å—Ä–æ—á–∫–∞": None,
                    "–ò—Å—Ç–æ—á–Ω–∏–∫": "—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏",
                }
            else:
                # –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –≤ –æ—Ç—á–µ—Ç–∞—Ö, –æ–±–Ω–æ–≤–ª—è–µ–º –µ—Å–ª–∏ —Å—É–º–º–∞ –±–æ–ª—å—à–µ (—Å–ø—Ä–∞–≤–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–µ–µ)
                existing_sum = all_credits[dedup_key].get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0))
                if —Å—É–º–º–∞ > existing_sum:
                    print(f"      [–°–ü–†–ê–í–ö–ê] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ {–∫—Ä–µ–¥–∏—Ç–æ—Ä_canonical}: {existing_sum} ‚Üí {—Å—É–º–º–∞} —Ä—É–±.")
                    all_credits[dedup_key]["–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"] = —Å—É–º–º–∞
                    all_credits[dedup_key]["–ò—Å—Ç–æ—á–Ω–∏–∫"] = "—Å–ø—Ä–∞–≤–∫–∞_–æ_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é —Å—É–º–º—ã
        result = sorted(all_credits.values(), key=lambda x: x["–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"], reverse=True)
        
        print("\n" + "="*80)
        print(f"–ò–¢–û–ì–û –£–ù–ò–ö–ê–õ–¨–ù–´–• –ö–†–ï–î–ò–¢–û–í: {len(result)}")
        print("="*80)
        
        return result

    @staticmethod
    def calculate_total_debt(data_map: Dict[str, List[Dict[str, Any]]]) -> Optional[Decimal]:
        """–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ –í–°–ï–• –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

        –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏:
        1. –ö—Ä–µ–¥–∏—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (–û–ö–ë, –ë–ö–ò) - –æ–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã
        2. –°–ø—Ä–∞–≤–∫–∏ –æ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –æ—Ç –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        3. –ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏—Å—Ç–∞–≤–æ–≤ (–§–°–°–ü)

        –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
        1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç: —Å—É–º–º–∞ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
        """

        total = Decimal(0)
        has_value = False

        # === 1. –ö–†–ï–î–ò–¢–ù–´–ï –û–¢–ß–ï–¢–´ (–û–ö–ë + –ë–ö–ò) ===
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ –æ–±–æ–∏—Ö –æ—Ç—á–µ—Ç–æ–≤
        merged_credits = DocumentProcessor.merge_credit_reports(data_map)

        if merged_credits:
            # –°—É–º–º–∏—Ä—É–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã
            credits_total = sum(
                credit.get("–°—É–º–º–∞_–∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏", Decimal(0)) 
                for credit in merged_credits
            )
            if credits_total > 0:
                total += credits_total
                has_value = True

        # === 2. –ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –ü–†–ò–°–¢–ê–í–û–í ===
        for –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ in data_map.get("–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ_–ø—Ä–∏—Å—Ç–∞–≤–∞", []):
            # –ë–µ—Ä–µ–º –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É –≤–∑—ã—Å–∫–∞–Ω–∏—è
            –≤–∑—ã—Å–∫–∞–Ω–∏–µ = –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–ò—Ç–æ–≥–æ_–≤–∑—ã—Å–∫–∞–Ω–∏–µ") or –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.get("–°—É–º–º–∞_–¥–æ–ª–≥–∞")
            if –≤–∑—ã—Å–∫–∞–Ω–∏–µ:
                parsed = DocumentProcessor.parse_decimal(–≤–∑—ã—Å–∫–∞–Ω–∏–µ)
                if parsed and parsed > 0:
                    total += parsed
                    has_value = True

        # === 3. –ù–ê–õ–û–ì–û–í–´–ï –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ===
        for —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ in data_map.get("–Ω–∞–ª–æ–≥–æ–≤–æ–µ_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", []):
            # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –≤–∑—è—Ç—å –æ–±—â—É—é —Å—É–º–º—É "–í—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ"
            –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ = DocumentProcessor.parse_decimal(—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–í—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ"))
            if –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ and –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ > 0:
                total += –≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ
                has_value = True
                print(f"      [TAX] –ù–∞–ª–æ–≥–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: –≤—Å–µ–≥–æ –∫ —É–ø–ª–∞—Ç–µ {–≤—Å–µ–≥–æ_–∫_—É–ø–ª–∞—Ç–µ}")
            else:
                # –ï—Å–ª–∏ –æ–±—â–µ–π —Å—É–º–º—ã –Ω–µ—Ç, —Å—É–º–º–∏—Ä—É–µ–º –ø–æ –∫–∞–∂–¥–æ–º—É –Ω–∞–ª–æ–≥—É
                –Ω–∞–ª–æ–≥–∏ = —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.get("–ù–∞–ª–æ–≥–∏", [])
                for –Ω–∞–ª–æ–≥ in –Ω–∞–ª–æ–≥–∏:
                    if isinstance(–Ω–∞–ª–æ–≥, dict):
                        —Å—É–º–º–∞ = DocumentProcessor.parse_decimal(–Ω–∞–ª–æ–≥.get("–°—É–º–º–∞"))
                        if —Å—É–º–º–∞ and —Å—É–º–º–∞ > 0:
                            total += —Å—É–º–º–∞
                            has_value = True

        return total if has_value else None

    @staticmethod
    def convert_to_genitive_initials(full_name: str) -> str:
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ —Ñ–æ—Ä–º—É '–§–∞–º–∏–ª–∏–∏ –ò.–û.' –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_genitive_full(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}\n"
            "–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_dative_initials(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ —Ñ–æ—Ä–º—É '–§–∞–º–∏–ª–∏–∏ –ò.–û.' –≤ –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∫–æ–º—É?)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ —Ñ–æ—Ä–º—É '–§–∞–º–∏–ª–∏–∏ –ò.–û.' –≤ –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∫–æ–º—É?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_dative_full(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É? - –ö—É–∑—å–º–∏—á—É –ù–∏–∫–æ–ª–∞—é –ü–∞–≤–ª–æ–≤–∏—á—É)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}\n"
            "–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω–æ–≤—É –ò–≤–∞–Ω—É –ò–≤–∞–Ω–æ–≤–∏—á—É"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def convert_to_accusative_full(full_name: str) -> str:
        """–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –§–ò–û –≤ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞)."""
        if not full_name:
            return ""
        prompt = (
            "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –§–ò–û –≤ –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ?)."
            " –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤.\n\n"
            f"–§–ò–û: {full_name}\n"
            "–ü—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á ‚Üí –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            return result.splitlines()[0]
        except Exception:
            return ""

    @staticmethod
    def detect_gender(full_name: str) -> str:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª –ø–æ –§–ò–û. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç '–º' –∏–ª–∏ '–∂'."""
        if not full_name:
            return "–º"

        # –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞: –µ—Å–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ '–≤–Ω–∞' –∏–ª–∏ '—á–Ω–∞' - –∂–µ–Ω—Å–∫–∏–π
        parts = full_name.split()
        if len(parts) >= 3:
            patronymic = parts[2].lower()
            if patronymic.endswith('–≤–Ω–∞') or patronymic.endswith('–∏—á–Ω–∞'):
                return "–∂"

        # –ï—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –ø–æ –æ—Ç—á–µ—Å—Ç–≤—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º GPT
        prompt = (
            "–û–ø—Ä–µ–¥–µ–ª–∏ –ø–æ–ª —á–µ–ª–æ–≤–µ–∫–∞ –ø–æ –§–ò–û. –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –æ–¥–Ω—É –±—É–∫–≤—É: '–º' –¥–ª—è –º—É–∂—Å–∫–æ–≥–æ –∏–ª–∏ '–∂' –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –ø–æ–ª–∞."
            " –ù–∏–∫–∞–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ –±—É–∫–≤–∞.\n\n"
            f"–§–ò–û: {full_name}"
        )
        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip().lower()
            if '–∂' in result:
                return "–∂"
            else:
                return "–º"
        except Exception:
            return "–º"

    @staticmethod
    def get_gender_pronoun(gender: str, case: str = "accusative") -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª–∞ –∏ –ø–∞–¥–µ–∂–∞."""
        if case == "accusative":  # –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–ø—Ä–∏–∑–Ω–∞–Ω–∏–∏ –µ–≥–æ/–µ—ë)
            return "–µ—ë" if gender == "–∂" else "–µ–≥–æ"
        elif case == "genitive":  # —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (—É –Ω–µ–≥–æ/–Ω–µ—ë, –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –Ω–µ–≥–æ/–Ω–µ—ë)
            return "–Ω–µ—ë" if gender == "–∂" else "–Ω–µ–≥–æ"
        elif case == "dative":  # –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–µ–º—É/–µ–π)
            return "–µ–π" if gender == "–∂" else "–µ–º—É"
        else:
            return "–µ–≥–æ" if gender == "–º" else "–µ—ë"

    @staticmethod
    def parse_address_with_gpt(full_address: str, openai_client) -> Dict[str, str]:
        """–ü–∞—Ä—Å–∏—Ç –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ GPT."""
        result = {
            "—Å—É–±—ä–µ–∫—Ç": "",
            "—Ä–∞–π–æ–Ω": "",
            "–≥–æ—Ä–æ–¥": "",
            "–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç": "",
            "—É–ª–∏—Ü–∞": "",
            "–¥–æ–º": "",
            "–∫–æ—Ä–ø—É—Å": "",
            "–∫–≤–∞—Ä—Ç–∏—Ä–∞": "",
        }

        if not full_address or not openai_client:
            return result

        prompt = f"""–†–∞–∑–±–µ—Ä–∏ –∞–¥—Ä–µ—Å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û JSON –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

–ê–¥—Ä–µ—Å: {full_address}

JSON —Ñ–æ—Ä–º–∞—Ç:
{{
  "—Å—É–±—ä–µ–∫—Ç": "–æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π/—Ä–µ—Å–ø—É–±–ª–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π)",
  "—Ä–∞–π–æ–Ω": "—Ä–∞–π–æ–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω)",
  "–≥–æ—Ä–æ–¥": "–≥–æ—Ä–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞)",
  "–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç": "–ø–æ—Å–µ–ª–æ–∫/—Å–µ–ª–æ/–¥–µ—Ä–µ–≤–Ω—è (–µ—Å–ª–∏ –µ—Å—Ç—å –≤–º–µ—Å—Ç–æ –≥–æ—Ä–æ–¥–∞)",
  "—É–ª–∏—Ü–∞": "—É–ª–∏—Ü–∞/–ø—Ä–æ—Å–ø–µ–∫—Ç/–ø–µ—Ä–µ—É–ª–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä: —É–ª. –õ–µ–Ω–∏–Ω–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç –ú–∏—Ä–∞)",
  "–¥–æ–º": "–Ω–æ–º–µ—Ä –¥–æ–º–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ –±—É–∫–≤—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: 10, 5–ê)",
  "–∫–æ—Ä–ø—É—Å": "–Ω–æ–º–µ—Ä –∫–æ—Ä–ø—É—Å–∞/—Å—Ç—Ä–æ–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: 2, 1–ê)",
  "–∫–≤–∞—Ä—Ç–∏—Ä–∞": "–Ω–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: 45)"
}}

–ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ—Ç –≤ –∞–¥—Ä–µ—Å–µ - –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É "".
"""

        try:
            response = openai_client.chat.completions.create(
                model="gpt-4o-mini",
                messages=[{"role": "user", "content": prompt}],
            )
            
            response_text = response.choices[0].message.content.strip()
            
            # –û—á–∏—Å—Ç–∫–∞ JSON
            cleaned = DocumentProcessor.clean_json_response(response_text)
            if cleaned:
                parsed = json.loads(cleaned)
                for key in result.keys():
                    if key in parsed and parsed[key]:
                        result[key] = str(parsed[key]).strip()
        except Exception as e:
            print(f"      [WARNING] –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∞–¥—Ä–µ—Å —á–µ—Ä–µ–∑ GPT: {e}")
            # Fallback –Ω–∞ regex –ø–∞—Ä—Å–∏–Ω–≥
            return DocumentProcessor.parse_address(full_address)

        return result

    @staticmethod
    def parse_address(full_address: str) -> Dict[str, str]:
        """–ü–∞—Ä—Å–∏—Ç –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã."""
        import re

        result = {
            "—Å—É–±—ä–µ–∫—Ç": "",
            "—Ä–∞–π–æ–Ω": "",
            "–≥–æ—Ä–æ–¥": "",
            "–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç": "",
            "—É–ª–∏—Ü–∞": "",
            "–¥–æ–º": "",
            "–∫–æ—Ä–ø—É—Å": "",
            "–∫–≤–∞—Ä—Ç–∏—Ä–∞": "",
        }

        if not full_address:
            return result

        # –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
        addr = full_address

        # –°—É–±—ä–µ–∫—Ç (–æ–±–ª–∞—Å—Ç—å, –∫—Ä–∞–π, —Ä–µ—Å–ø—É–±–ª–∏–∫–∞)
        if "–æ–±–ª–∞—Å—Ç—å" in addr.lower():
            match = re.search(r'([^,]+–æ–±–ª–∞—Å—Ç—å)', addr, re.IGNORECASE)
            if match:
                result["—Å—É–±—ä–µ–∫—Ç"] = match.group(1).strip()
        elif "–∫—Ä–∞–π" in addr.lower():
            match = re.search(r'([^,]+–∫—Ä–∞–π)', addr, re.IGNORECASE)
            if match:
                result["—Å—É–±—ä–µ–∫—Ç"] = match.group(1).strip()
        elif "—Ä–µ—Å–ø—É–±–ª–∏–∫–∞" in addr.lower():
            match = re.search(r'([^,]+–†–µ—Å–ø—É–±–ª–∏–∫–∞[^,]*)', addr, re.IGNORECASE)
            if match:
                result["—Å—É–±—ä–µ–∫—Ç"] = match.group(1).strip()

        # –†–∞–π–æ–Ω
        if "—Ä–∞–π–æ–Ω" in addr.lower():
            match = re.search(r'([^,]*—Ä–∞–π–æ–Ω[^,]*)', addr, re.IGNORECASE)
            if match:
                result["—Ä–∞–π–æ–Ω"] = match.group(1).strip()

        # –ì–æ—Ä–æ–¥
        if re.search(r'\b–≥–æ—Ä–æ–¥\b|\b–≥–æ—Ä\.|–≥\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–≥–æ—Ä–æ–¥|–≥–æ—Ä\.|–≥\.)\s*([^,]+)', addr, re.IGNORECASE)
            if match:
                result["–≥–æ—Ä–æ–¥"] = match.group(1).strip()
        elif re.search(r'\b[–ì–≥]–æ—Ä–æ–¥\s+\w+', addr):
            match = re.search(r'[–ì–≥]–æ—Ä–æ–¥\s+(\w+)', addr)
            if match:
                result["–≥–æ—Ä–æ–¥"] = match.group(1).strip()

        # –£–ª–∏—Ü–∞, –ø—Ä–æ—Å–ø–µ–∫—Ç, –ø–µ—Ä–µ—É–ª–æ–∫
        if re.search(r'\b(?:—É–ª–∏—Ü–∞|—É–ª\.|–ø—Ä–æ—Å–ø–µ–∫—Ç|–ø—Ä-–∫—Ç|–ø—Ä\.|–ø–µ—Ä–µ—É–ª–æ–∫|–ø–µ—Ä\.)', addr, re.IGNORECASE):
            match = re.search(r'(?:—É–ª–∏—Ü–∞|—É–ª\.|–ø—Ä–æ—Å–ø–µ–∫—Ç|–ø—Ä-–∫—Ç|–ø—Ä\.|–ø–µ—Ä–µ—É–ª–æ–∫|–ø–µ—Ä\.)\s*([^,]+)', addr, re.IGNORECASE)
            if match:
                result["—É–ª–∏—Ü–∞"] = match.group(1).strip()

        # –î–æ–º
        if re.search(r'\b–¥–æ–º\b|\b–¥\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–¥–æ–º|–¥\.)\s*(\d+[–∞-—è–ê-–Ø]?)', addr, re.IGNORECASE)
            if match:
                result["–¥–æ–º"] = match.group(1).strip()

        # –ö–æ—Ä–ø—É—Å
        if re.search(r'\b–∫–æ—Ä–ø—É—Å\b|\b–∫–æ—Ä–ø\.|–∫\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–∫–æ—Ä–ø—É—Å|–∫–æ—Ä–ø\.|–∫\.)\s*(\d+[–∞-—è–ê-–Ø]?)', addr, re.IGNORECASE)
            if match:
                result["–∫–æ—Ä–ø—É—Å"] = match.group(1).strip()

        # –ö–≤–∞—Ä—Ç–∏—Ä–∞
        if re.search(r'\b–∫–≤–∞—Ä—Ç–∏—Ä–∞\b|\b–∫–≤\.', addr, re.IGNORECASE):
            match = re.search(r'(?:–∫–≤–∞—Ä—Ç–∏—Ä–∞|–∫–≤\.)\s*(\d+)', addr, re.IGNORECASE)
            if match:
                result["–∫–≤–∞—Ä—Ç–∏—Ä–∞"] = match.group(1).strip()

        return result

    @staticmethod
    def extract_deals_from_all_documents(data_map: Dict[str, List[Dict[str, Any]]], owner_fio: str = "") -> List[Dict[str, Any]]:
        """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–¥–µ–ª–∫–∞—Ö –∏–∑ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

        –°–æ–±–∏—Ä–∞–µ—Ç —Å–¥–µ–ª–∫–∏ –∏–∑:
        - –î–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "—Å–¥–µ–ª–∫–∏" (–¥–æ–≥–æ–≤–æ—Ä—ã –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, –¥–∞—Ä–µ–Ω–∏—è)
        - –ì–ò–ë–î–î (–ø—Ä–æ–¥–∞–∂–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
        - –ï–ì–†–ù (–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏)
        - –î—Ä—É–≥–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–¥–µ–ª–∫–∞—Ö

        Args:
            data_map: –°–ª–æ–≤–∞—Ä—å —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
            owner_fio: –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –µ–≥–æ —Ä–æ–ª–∏ –≤ —Å–¥–µ–ª–∫–µ

        Returns:
            –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞
        """
        all_deals = []

        # 1. –°–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ "—Å–¥–µ–ª–∫–∏"
        for deal in data_map.get("—Å–¥–µ–ª–∫–∏", []):
            if isinstance(deal, dict):
                all_deals.append(deal)

        # 2. –°–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ì–ò–ë–î–î (–ø—Ä–æ–¥–∞–∂–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π)
        for gibdd_doc in data_map.get("–≥–∏–±–¥–¥", []):
            if not isinstance(gibdd_doc, dict):
                continue

            sdelka = gibdd_doc.get("–°–¥–µ–ª–∫–∞")
            if sdelka and isinstance(sdelka, dict) and sdelka.get("–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞"):
                # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–¥–µ–ª–∫–∏
                deal = {
                    "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": sdelka.get("–¢–∏–ø_—Å–¥–µ–ª–∫–∏", "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞"),
                    "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": sdelka.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏"),
                    "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": None,
                    "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": "–∞–≤—Ç–æ–º–æ–±–∏–ª—å",
                    "–û–ø–∏—Å–∞–Ω–∏–µ": gibdd_doc.get("–ú–∞—Ä–∫–∞_–º–æ–¥–µ–ª—å", ""),
                    "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": f"VIN: {gibdd_doc.get('VIN', '')}, –ì–æ—Å. –Ω–æ–º–µ—Ä: {gibdd_doc.get('–ì–æ—Å_–Ω–æ–º–µ—Ä', '')}",
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": None,
                    "–°—Ç–æ–∏–º–æ—Å—Ç—å": sdelka.get("–°—Ç–æ–∏–º–æ—Å—Ç—å"),
                    "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": None,
                    "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": gibdd_doc.get("–û—Å–æ–±—ã–µ_–æ—Ç–º–µ—Ç–∫–∏")
                }

                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å –¥–æ–ª–∂–Ω–∏–∫–∞
                seller = sdelka.get("–ü—Ä–æ–¥–∞–≤–µ—Ü_–§–ò–û", "")
                buyer = sdelka.get("–ü–æ–∫—É–ø–∞—Ç–µ–ª—å_–§–ò–û", "")

                if owner_fio and seller and owner_fio.lower() in seller.lower():
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = buyer
                elif owner_fio and buyer and owner_fio.lower() in buyer.lower():
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = seller
                else:
                    # –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å - –±–µ—Ä–µ–º –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü" if seller else "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = buyer or seller

                all_deals.append(deal)

        # 3. –°–¥–µ–ª–∫–∏ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ï–ì–†–ù (–ø—Ä–æ–¥–∞–∂–∞/–¥–∞—Ä–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏)
        for egrn_doc in data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []):
            if not isinstance(egrn_doc, dict):
                continue

            sdelka = egrn_doc.get("–°–¥–µ–ª–∫–∞")
            if sdelka and isinstance(sdelka, dict) and sdelka.get("–ï—Å—Ç—å_—Å–¥–µ–ª–∫–∞"):
                # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–¥–µ–ª–∫–∏
                obj = egrn_doc.get("–û–±—ä–µ–∫—Ç", {})
                predmet = obj.get("–í–∏–¥", "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å")

                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –ø—Ä–µ–¥–º–µ—Ç–∞
                vid_lower = predmet.lower() if predmet else ""
                if "–∫–≤–∞—Ä—Ç–∏—Ä" in vid_lower:
                    predmet_type = "–∫–≤–∞—Ä—Ç–∏—Ä–∞"
                elif "–¥–æ–º" in vid_lower or "–∂–∏–ª–æ–µ –∑–¥–∞–Ω–∏–µ" in vid_lower:
                    predmet_type = "–¥–æ–º"
                elif "–∑–µ–º–µ–ª" in vid_lower or "—É—á–∞—Å—Ç–æ–∫" in vid_lower:
                    predmet_type = "–∑–µ–º–µ–ª—å–Ω—ã–π —É—á–∞—Å—Ç–æ–∫"
                else:
                    predmet_type = predmet or "–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å"

                deal = {
                    "–¢–∏–ø_—Å–¥–µ–ª–∫–∏": sdelka.get("–¢–∏–ø_—Å–¥–µ–ª–∫–∏", "–∫—É–ø–ª—è-–ø—Ä–æ–¥–∞–∂–∞"),
                    "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": sdelka.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏"),
                    "–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞": None,
                    "–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏": predmet_type,
                    "–û–ø–∏—Å–∞–Ω–∏–µ": f"{predmet}, –ø–ª–æ—â–∞–¥—å: {obj.get('–ü–ª–æ—â–∞–¥—å', '')}",
                    "–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏": obj.get("–ê–¥—Ä–µ—Å", ""),
                    "–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä": egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π_–Ω–æ–º–µ—Ä"),
                    "–°—Ç–æ–∏–º–æ—Å—Ç—å": sdelka.get("–°—Ç–æ–∏–º–æ—Å—Ç—å") or egrn_doc.get("–ö–∞–¥–∞—Å—Ç—Ä–æ–≤–∞—è_—Å—Ç–æ–∏–º–æ—Å—Ç—å"),
                    "–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞": None,
                    "–û—Å–æ–±—ã–µ_—É—Å–ª–æ–≤–∏—è": None
                }

                # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å –¥–æ–ª–∂–Ω–∏–∫–∞
                prev_owner = sdelka.get("–ü—Ä–µ–¥—ã–¥—É—â–∏–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫", "")
                new_owner = sdelka.get("–ù–æ–≤—ã–π_—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫", "")

                if owner_fio and prev_owner and owner_fio.lower() in prev_owner.lower():
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = new_owner
                elif owner_fio and new_owner and owner_fio.lower() in new_owner.lower():
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = prev_owner
                else:
                    # –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
                    deal["–†–æ–ª—å_–¥–æ–ª–∂–Ω–∏–∫–∞"] = "–ø—Ä–æ–¥–∞–≤–µ—Ü" if prev_owner else "–ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
                    deal["–í—Ç–æ—Ä–∞—è_—Å—Ç–æ—Ä–æ–Ω–∞"] = new_owner or prev_owner

                all_deals.append(deal)

        # –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ - —Ç–æ–ª—å–∫–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞
        from datetime import datetime, timedelta
        three_years_ago = datetime.now() - timedelta(days=3*365)

        filtered_deals = []
        for deal in all_deals:
            deal_date_str = deal.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏")
            if not deal_date_str:
                # –ï—Å–ª–∏ –¥–∞—Ç—ã –Ω–µ—Ç, –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∫–ª—é—á–∞–µ–º
                filtered_deals.append(deal)
                continue

            try:
                # –ü–∞—Ä—Å–∏–º –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì
                deal_date = datetime.strptime(deal_date_str, '%d.%m.%Y')
                if deal_date >= three_years_ago:
                    filtered_deals.append(deal)
            except (ValueError, TypeError):
                # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –¥–∞—Ç—É, –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∫–ª—é—á–∞–µ–º
                filtered_deals.append(deal)

        # –î–ï–î–£–ü–õ–ò–ö–ê–¶–ò–Ø: –£–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã —Å–¥–µ–ª–æ–∫ —Å –¢–° –ø–æ VIN –∏ –¥–∞—Ç–µ
        deduplicated_deals = []
        seen_vehicles = set()  # –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –¢–° –ø–æ (VIN, –¥–∞—Ç–∞)
        
        for deal in filtered_deals:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ —Å–¥–µ–ª–∫–æ–π —Å –¢–°
            if deal.get("–ü—Ä–µ–¥–º–µ—Ç_—Å–¥–µ–ª–∫–∏") == "–∞–≤—Ç–æ–º–æ–±–∏–ª—å":
                # –ò–∑–≤–ª–µ–∫–∞–µ–º VIN –∏–∑ –∞–¥—Ä–µ—Å–∞/—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
                addr_or_char = deal.get("–ê–¥—Ä–µ—Å_–∏–ª–∏_—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏", "")
                vin = ""
                if "VIN:" in addr_or_char:
                    # –ò–∑–≤–ª–µ–∫–∞–µ–º VIN –ø–æ—Å–ª–µ "VIN:"
                    vin_start = addr_or_char.index("VIN:") + 4
                    vin_part = addr_or_char[vin_start:].split(",")[0].strip()
                    vin = vin_part
                
                deal_date = deal.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏", "")
                
                # –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á (VIN + –¥–∞—Ç–∞)
                if vin and deal_date:
                    vehicle_key = (vin, deal_date)
                    if vehicle_key in seen_vehicles:
                        # –≠—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
                        continue
                    seen_vehicles.add(vehicle_key)
            
            # –î–æ–±–∞–≤–ª—è–µ–º —Å–¥–µ–ª–∫—É (–ª–∏–±–æ –Ω–µ –¢–°, –ª–∏–±–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è)
            deduplicated_deals.append(deal)

        return deduplicated_deals

    @staticmethod
    def get_arbitration_court(address: str) -> str:
        """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞.

        Args:
            address: –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

        Returns:
            –ù–∞–∑–≤–∞–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —Å—É–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏")
        """
        if not address:
            return "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥"

        prompt = (
            "–û–ø—Ä–µ–¥–µ–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —Å—É–¥–∞ –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞."
            " –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É–¥–∞ –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π.\n\n"
            "–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:\n"
            "- –î–ª—è —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã', '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞'\n"
            "- –î–ª—è –æ–±–ª–∞—Å—Ç–µ–π: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ [–Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–∏ —Å –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º] –æ–±–ª–∞—Å—Ç–∏'\n"
            "  * –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "  * –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "  * –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "  * –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "- –î–ª—è –∫—Ä–∞–µ–≤: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ [–Ω–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–∞—è —Å –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º] –∫—Ä–∞—è'\n"
            "  * –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "  * –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "  * –ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ê–ª—Ç–∞–π—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "- –î–ª—è —Ä–µ—Å–ø—É–±–ª–∏–∫: '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ [–Ω–∞–∑–≤–∞–Ω–∏–µ]'\n"
            "  * –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω\n"
            "  * –†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω\n"
            "  * –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ö—Ä—ã–º\n\n"
            f"–ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {address}\n\n"
            "–ê–ª–≥–æ—Ä–∏—Ç–º:\n"
            "1. –ù–∞–π–¥–∏ –≤ –∞–¥—Ä–µ—Å–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É–±—ä–µ–∫—Ç–∞ –†–§ (–æ–±–ª–∞—Å—Ç—å/–∫—Ä–∞–π/—Ä–µ—Å–ø—É–±–ª–∏–∫–∞/–≥–æ—Ä–æ–¥ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è)\n"
            "2. –ü—Ä–µ–æ–±—Ä–∞–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? —á–µ–≥–æ?)\n"
            "3. –î–æ–±–∞–≤—å '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥' + –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—É–±—ä–µ–∫—Ç–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ\n\n"
            "–ü—Ä–∏–º–µ—Ä—ã:\n"
            "- –≥. –ß–µ–ª—è–±–∏–Ω—Å–∫, –ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ß–µ–ª—è–±–∏–Ω—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏\n"
            "- –≥. –ú–æ—Å–∫–≤–∞ ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã\n"
            "- –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π, –≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è\n"
            "- –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω, –≥. –£—Ñ–∞ ‚Üí –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –†–µ—Å–ø—É–±–ª–∏–∫–∏ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω"
        )

        try:
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {"role": "user", "content": prompt}
                ],
            )
            result = response.choices[0].message.content.strip()
            # –ë–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É (–Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ GPT –¥–æ–±–∞–≤–∏—Ç –ø–æ—è—Å–Ω–µ–Ω–∏—è)
            court_name = result.splitlines()[0].strip()
            return court_name
        except Exception:
            return "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥"

    @staticmethod
    def format_attachments(pdf_paths: List[Path]) -> str:
        """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–∑ —Ñ–∞–π–ª–æ–≤ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è .pdf).

        –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 15 –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π ‚Üí "–ü–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî 15 —à—Ç.")
        –£–±–∏—Ä–∞–µ—Ç _ –≤ –∫–æ–Ω—Ü–µ –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤.
        """
        if not pdf_paths:
            return ""

        import re
        from collections import Counter

        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤
        processed_names = []
        for path in pdf_paths:
            # –£–±–∏—Ä–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
            name = path.stem

            # –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω—è–µ–º –í–°–ï –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–±–µ–ª—ã (–¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)
            name = name.replace('_', ' ')

            # –£–¥–∞–ª—è–µ–º —Ü–∏—Ñ—Ä—ã –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏ (—Å —Ç–æ—á–∫–æ–π –∏–ª–∏ –±–µ–∑)
            # –ü–∞—Ç—Ç–µ—Ä–Ω: –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏, —Ü–∏—Ñ—Ä—ã, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞, –ø—Ä–æ–±–µ–ª—ã
            name_clean = re.sub(r'^\d+\.?\s*', '', name)

            # –£–±–∏—Ä–∞–µ–º –Ω—É–º–µ—Ä–∞—Ü–∏—é –≤ —Å–∫–æ–±–∫–∞—Ö —Ç–∏–ø–∞ (1), (2), (10) –≤ –∫–æ–Ω—Ü–µ
            # –ü–∞—Ç—Ç–µ—Ä–Ω: –ø—Ä–æ–±–µ–ª, –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞, —Ü–∏—Ñ—Ä—ã, –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞, –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏
            name_clean = re.sub(r'\s*\(\d+\)\s*$', '', name_clean)

            # –£–±–∏—Ä–∞–µ–º –Ω—É–º–µ—Ä–∞—Ü–∏—é —Ç–∏–ø–∞ _1_, _2_ –≤ –∫–æ–Ω—Ü–µ (—Ç–µ–ø–µ—Ä—å —ç—Ç–æ –ø—Ä–æ–±–µ–ª—ã + —Ü–∏—Ñ—Ä—ã + –ø—Ä–æ–±–µ–ª—ã)
            name_clean = re.sub(r'\s+\d+\s*$', '', name_clean)
            
            # –£–±–∏—Ä–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
            name_clean = re.sub(r'\s+', ' ', name_clean).strip()

            processed_names.append(name_clean)

        # –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        name_counts = Counter(processed_names)

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
        attachments = []
        seen = set()
        counter = 1

        for name_clean in processed_names:
            if name_clean in seen:
                continue

            seen.add(name_clean)
            count = name_counts[name_clean]

            if count > 1:
                # –ù–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - —É–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
                attachments.append(f"{counter}. {name_clean} ‚Äî {count} —à—Ç.")
            else:
                # –û–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
                attachments.append(f"{counter}. {name_clean}")

            counter += 1

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ–Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Å—Ç—Ä–æ–∫
        return "\n".join(attachments)

    @staticmethod
    def prepare_template_context(data_map: Dict[str, List[Dict[str, Any]]], pdf_paths: Optional[List[Path]] = None, openai_client=None) -> Dict[str, str]:
        passport = DocumentProcessor.select_first_entry(data_map, "–ø–∞—Å–ø–æ—Ä—Ç")
        inn = DocumentProcessor.select_first_entry(data_map, "–∏–Ω–Ω")
        snils = DocumentProcessor.select_first_entry(data_map, "—Å–Ω–∏–ª—Å")
        labour = DocumentProcessor.select_first_entry(data_map, "—Ç—Ä—É–¥–æ–≤–∞—è")
        sziils = DocumentProcessor.select_first_entry(data_map, "—Å–∑–∏–∏–ª—Å")
        
        # –î–æ–∫—É–º–µ–Ω—Ç—ã —Å—É–ø—Ä—É–≥–∞
        passport_spouse = DocumentProcessor.select_first_entry(data_map, "–ø–∞—Å–ø–æ—Ä—Ç_—Å—É–ø—Ä—É–≥–∞")
        inn_spouse = DocumentProcessor.select_first_entry(data_map, "–∏–Ω–Ω_—Å—É–ø—Ä—É–≥–∞")
        snils_spouse = DocumentProcessor.select_first_entry(data_map, "—Å–Ω–∏–ª—Å_—Å—É–ø—Ä—É–≥–∞")
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
        criminal_record = DocumentProcessor.select_first_entry(data_map, "—Å–ø—Ä–∞–≤–∫–∞_–æ_—Å—É–¥–∏–º–æ—Å—Ç–∏")
        tax_accounts = DocumentProcessor.select_first_entry(data_map, "–Ω–∞–ª–æ–≥–æ–≤–∞—è_—Å—á–µ—Ç–∞")
        credit_history = DocumentProcessor.select_first_entry(data_map, "–æ—Ç—á–µ—Ç_–æ–∫–±")
        pension_account = DocumentProcessor.select_first_entry(data_map, "—Å–∑–∏–∏–ª—Å")

        # === –ü–û–õ–£–ß–ï–ù–ò–ï –§–ò–û ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë > —Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏ > –Ω–∞–ª–æ–≥–æ–≤–∞—è > —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Ç—Ä—É–¥–æ–≤–∞—è
        owner_fio = passport.get("–§–ò–û", "") if passport else ""
        
        if not owner_fio and credit_history:
            owner_fio = credit_history.get("–§–ò–û", "") or ""
        
        if not owner_fio and criminal_record:
            owner_fio = criminal_record.get("–§–ò–û", "") or ""
        
        if not owner_fio and tax_accounts:
            owner_fio = tax_accounts.get("–§–ò–û", "") or ""
        
        if not owner_fio and labour:
            owner_fio = labour.get("–§–ò–û", "") or ""

        # === –ü–û–õ–£–ß–ï–ù–ò–ï –ò–ù–ù ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –¥–æ–∫—É–º–µ–Ω—Ç –ò–ù–ù > —Å–ø—Ä–∞–≤–∫–∞ –æ —Å—É–¥–∏–º–æ—Å—Ç–∏ > –Ω–∞–ª–æ–≥–æ–≤–∞—è
        inn_number = ""
        for inn_doc in data_map.get("–∏–Ω–Ω", []):
            if isinstance(inn_doc, dict):
                inn_value = inn_doc.get("–ò–ù–ù")
                if inn_value and inn_value != "null":
                    inn_number = inn_value
                    break

        if not inn_number and inn:
            inn_number = inn.get("–ò–ù–ù", "") or ""
        
        if not inn_number and criminal_record:
            inn_number = criminal_record.get("–ò–ù–ù", "") or ""
        
        if not inn_number and tax_accounts:
            inn_number = tax_accounts.get("–ò–ù–ù", "") or ""

        # === –ü–û–õ–£–ß–ï–ù–ò–ï –°–ù–ò–õ–° ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –¥–æ–∫—É–º–µ–Ω—Ç –°–ù–ò–õ–° > –ª–∏—Ü–µ–≤–æ–π —Å—á–µ—Ç –ü–§–† > —Ç—Ä—É–¥–æ–≤–∞—è > –°–ó–ò–ò–õ–°
        snils_number = ""
        if snils:
            snils_number = snils.get("–°–ù–ò–õ–°", "") or ""
        
        if not snils_number and pension_account:
            snils_number = pension_account.get("–°–ù–ò–õ–°", "") or ""
        
        if not snils_number and labour:
            snils_number = labour.get("–°–ù–ò–õ–°", "") or ""
        
        if not snils_number and sziils:
            snils_number = sziils.get("–°–ù–ò–õ–°", "") or ""

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (—Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –§–ò–û –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞)
        # –£—á–∏—Ç—ã–≤–∞–µ–º –∫–∞–∫ –ø–æ–ª–Ω—ã–µ –≤—ã–ø–∏—Å–∫–∏, —Ç–∞–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ (–¥–ª—è –¥–æ–ª–µ–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)
        real_estate_detailed = DocumentProcessor.format_real_estate_detailed(
            data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []), 
            owner_fio=owner_fio,
            notification_list=data_map.get("–µ–≥—Ä–Ω_—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ", [])
        )

        average_income = DocumentProcessor.calculate_average_income(data_map.get("–¥–æ—Ö–æ–¥—ã", []))
        accounts_count = DocumentProcessor.calculate_bank_accounts(data_map.get("—Å—á–µ—Ç–∞", []))

        # –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –¥–æ–ª–∂–Ω–∏–∫–∞
        –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ = passport.get("–ü—Ä–æ–ø–∏—Å–∫–∞", "") if passport else ""
        
        # –ï—Å–ª–∏ –∞–¥—Ä–µ—Å –Ω–µ –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤ –û–ö–ë/–ù–ë–ö–ò
        if not –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ and credit_history:
            –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ = credit_history.get("–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", "") or ""

        # –¢–∞–±–ª–∏—Ü–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ (–ø–µ—Ä–µ–¥–∞–µ–º –§–ò–û, –ò–ù–ù, –°–ù–ò–õ–°, –∞–¥—Ä–µ—Å)
        # –í–ê–ñ–ù–û: —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É –ü–ï–†–ï–î —Ä–∞—Å—á–µ—Ç–æ–º –æ–±—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞
        creditors_table_data = DocumentProcessor.format_creditors_table(
            data_map, 
            debtor_fio=owner_fio,
            debtor_inn=inn_number,
            debtor_snils=snils_number,
            debtor_address=–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏
        )

        # –ù–û–í–û–ï: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ–±—â—É—é —Å—É–º–º—É –¥–æ–ª–≥–∞ –∏–∑ —Ç–∞–±–ª–∏—Ü –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –Ω–∞–ª–æ–≥–æ–≤
        total_debt = Decimal(0)

        # –°—É–º–º–∏—Ä—É–µ–º –¥–æ–ª–≥–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ (credits)
        for credit in creditors_table_data.get("credits", []):
            # –ë–µ—Ä–µ–º "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ" (—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å)
            debt_str = credit.get("–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å_–≤_—Ç–æ–º_—á–∏—Å–ª–µ", "0")
            debt_amount = DocumentProcessor.parse_decimal(debt_str) or Decimal(0)
            total_debt += debt_amount

            # –î–æ–±–∞–≤–ª—è–µ–º —à—Ç—Ä–∞—Ñ—ã –∏ –ø–µ–Ω–∏
            penalties_str = credit.get("–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ", "0")
            penalties_amount = DocumentProcessor.parse_decimal(penalties_str) or Decimal(0)
            total_debt += penalties_amount

        # –°—É–º–º–∏—Ä—É–µ–º –¥–æ–ª–≥–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞–ª–æ–≥–æ–≤ (taxes)
        for tax in creditors_table_data.get("taxes", []):
            # –ë–µ—Ä–µ–º —Å—É–º–º—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
            tax_str = tax.get("–°—É–º–º–∞_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞", "0")
            tax_amount = DocumentProcessor.parse_decimal(tax_str) or Decimal(0)
            total_debt += tax_amount

            # –î–æ–±–∞–≤–ª—è–µ–º —à—Ç—Ä–∞—Ñ—ã –∏ –ø–µ–Ω–∏ –ø–æ –Ω–∞–ª–æ–≥–∞–º
            tax_penalties_str = tax.get("–®—Ç—Ä–∞—Ñ—ã_–ø–µ–Ω–∏_–∏_–¥—Ä—É–≥–æ–µ_–æ–±—è–∑_–ø–ª–∞—Ç–µ–∂–∞", "0")
            tax_penalties_amount = DocumentProcessor.parse_decimal(tax_penalties_str) or Decimal(0)
            total_debt += tax_penalties_amount

        # === –ü–ê–°–ü–û–†–¢–ù–´–ï –î–ê–ù–ù–´–ï (—Å fallback –Ω–∞ –û–ö–ë) ===
        # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
        series = passport.get("–°–µ—Ä–∏—è") if passport else ""
        number = passport.get("–ù–æ–º–µ—Ä") if passport else ""
        
        # –ï—Å–ª–∏ –Ω–µ—Ç –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ, –±–µ—Ä–µ–º –∏–∑ –û–ö–ë
        if not series and credit_history:
            series = credit_history.get("–°–µ—Ä–∏—è_–ø–∞—Å–ø–æ—Ä—Ç–∞", "") or ""
        if not number and credit_history:
            number = credit_history.get("–ù–æ–º–µ—Ä_–ø–∞—Å–ø–æ—Ä—Ç–∞", "") or ""
        
        if series and number:
            series_number = f"{series} {number}"
        else:
            series_number = str(series or number or "")

        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–π —Å—É–º–º—ã –¥–æ–ª–≥–∞ –ø—Ä–æ–ø–∏—Å—å—é
        debt_formatted = ""
        if total_debt is not None and total_debt > 0:
            debt_formatted = DocumentProcessor.number_to_words_rubles(total_debt)

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–º–µ–π–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –¥–µ—Ç–µ–π
        marital_children_text = DocumentProcessor.check_marital_and_children_status(passport, data_map)

        # –§–∞–º–∏–ª–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª—ã - –í–ê–ñ–ù–û: –î–µ–ª–∞–µ–º —ç—Ç–æ –î–û —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤ —Å –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è–º–∏
        fio_initials = passport.get("–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã", "") if passport else ""
        fio_initials_rp = passport.get("–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_—Ä–ø", "") if passport else ""

        # –ï—Å–ª–∏ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –≤ –ø–∞—Å–ø–æ—Ä—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏—è
        full_name = passport.get("–§–ò–û", "") if passport else ""
        if not fio_initials_rp and full_name:
            fio_initials_rp = DocumentProcessor.convert_to_genitive_initials(full_name)

        # –î–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É?) - –∏–Ω–∏—Ü–∏–∞–ª—ã
        fio_initials_dp = DocumentProcessor.convert_to_dative_initials(full_name)

        # –ù–û–í–û–ï: –ü–æ–ª–Ω—ã–µ –§–ò–û –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–¥–µ–∂–∞—Ö (–±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤)
        fio_full_rp = DocumentProcessor.convert_to_genitive_full(full_name)  # –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞
        fio_full_dp = DocumentProcessor.convert_to_dative_full(full_name)    # –ö—É–∑—å–º–∏—á—É –ù–∏–∫–æ–ª–∞—é –ü–∞–≤–ª–æ–≤–∏—á—É
        fio_full_vp = DocumentProcessor.convert_to_accusative_full(full_name) # –ö—É–∑—å–º–∏—á–∞ –ù–∏–∫–æ–ª–∞—è –ü–∞–≤–ª–æ–≤–∏—á–∞

        # –†–∞–∑–±–∏–≤–∞–µ–º –§–ò–û –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        fio_parts = full_name.split() if full_name else []
        familia = fio_parts[0] if len(fio_parts) > 0 else ""
        imya = fio_parts[1] if len(fio_parts) > 1 else ""
        otchestvo = fio_parts[2] if len(fio_parts) > 2 else ""

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–ª
        gender = DocumentProcessor.detect_gender(full_name)

        # –ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª–∞
        pronoun_accusative = DocumentProcessor.get_gender_pronoun(gender, "accusative")  # –µ–≥–æ/–µ—ë
        pronoun_genitive = DocumentProcessor.get_gender_pronoun(gender, "genitive")  # –Ω–µ–≥–æ/–Ω–µ—ë
        pronoun_dative = DocumentProcessor.get_gender_pronoun(gender, "dative")  # –µ–º—É/–µ–π

        # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ—Ç)
        admin_responsibility = "–î–æ–ª–∂–Ω–∏–∫ –Ω–µ –ø—Ä–∏–≤–ª–µ–∫–∞–ª—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –º–µ–ª–∫–æ–µ —Ö–∏—â–µ–Ω–∏–µ, —É–º—ã—à–ª–µ–Ω–Ω–æ–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ, —Ñ–∏–∫—Ç–∏–≤–Ω–æ–µ –∏–ª–∏ –ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ."

        # –£–≥–æ–ª–æ–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ—Ç) - –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ (—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂)
        criminal_text = f"–í –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –¥–æ–ª–∂–Ω–∏–∫–∞ –Ω–µ –∏–º–µ–µ—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏–π –æ–± —É–≥–æ–ª–æ–≤–Ω—ã—Ö –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ–ª–∞—Ö –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ {pronoun_genitive}, –∞ —Ç–∞–∫–∂–µ –æ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–Ω—è—Ç–æ–π –∏–ª–∏ –Ω–µ–ø–æ–≥–∞—à–µ–Ω–Ω–æ–π —Å—É–¥–∏–º–æ—Å—Ç–∏."

        # –ü–∞—Ä—Å–∏–º –∞–¥—Ä–µ—Å –ø—Ä–æ–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ GPT
        –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏ = passport.get("–ü—Ä–æ–ø–∏—Å–∫–∞", "") if passport else ""
        if openai_client and –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏:
            print(f"      –†–∞–∑–±–æ—Ä –∞–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ GPT...")
            –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏ = DocumentProcessor.parse_address_with_gpt(–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏, openai_client)
        else:
            –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏ = DocumentProcessor.parse_address(–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏)

        # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
        date_components = DocumentProcessor.get_yekaterinburg_date()

        context: Dict[str, str] = {
            # –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            "–§–ò–û": full_name,
            "–§–∞–º–∏–ª–∏—è": familia,
            "–ò–º—è": imya,
            "–û—Ç—á–µ—Å—Ç–≤–æ": otchestvo,

            # –î–∞—Ç–∞ –ø–æ–¥–∞—á–∏ –∑–∞—è–≤–ª–µ–Ω–∏—è (–ø–æ –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏)
            "–ê–î–µ–Ω—å": date_components["–ê–î–µ–Ω—å"],
            "–ê–ú–µ—Å—è—Ü": date_components["–ê–ú–µ—Å—è—Ü"],
            "–ê–ì–æ–¥": date_components["–ê–ì–æ–¥"],
            "–ê–ê–ì–æ–¥": date_components["–ê–ê–ì–æ–¥"],

            # –° –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏ (–ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.)
            "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã": fio_initials,
            "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_—Ä–ø": fio_initials_rp,  # —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.)
            "–§–∞–º–∏–ª–∏—è_–∏–Ω–∏—Ü–∏–∞–ª—ã_–¥–ø": fio_initials_dp,  # –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É? - –ò–≤–∞–Ω–æ–≤—É –ò.–ò.)

            # –ù–û–í–û–ï: –ü–æ–ª–Ω—ã–µ –§–ò–û –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–æ–≤
            "–§–ò–û_—Ä–ø": fio_full_rp,  # —Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞)
            "–§–ò–û_–¥–ø": fio_full_dp,  # –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–º—É? - –ò–≤–∞–Ω–æ–≤—É –ò–≤–∞–Ω—É –ò–≤–∞–Ω–æ–≤–∏—á—É)
            "–§–ò–û_–≤–ø": fio_full_vp,  # –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ (–∫–æ–≥–æ? - –ò–≤–∞–Ω–æ–≤–∞ –ò–≤–∞–Ω–∞ –ò–≤–∞–Ω–æ–≤–∏—á–∞)

            "–ü–æ–ª": gender,  # "–º" –∏–ª–∏ "–∂"
            "–µ–≥–æ_–µ—ë": pronoun_accusative,  # "–µ–≥–æ" –∏–ª–∏ "–µ—ë" (–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π)
            "–Ω–µ–≥–æ_–Ω–µ—ë": pronoun_genitive,  # "–Ω–µ–≥–æ" –∏–ª–∏ "–Ω–µ—ë" (—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π)
            "–µ–º—É_–µ–π": pronoun_dative,  # "–µ–º—É" –∏–ª–∏ "–µ–π" (–¥–∞—Ç–µ–ª—å–Ω—ã–π)
            "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": –∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏,
            # –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": (passport.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if passport else "") or (credit_history.get("–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if credit_history else ""),
            # –ú–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": (passport.get("–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if passport else "") or (credit_history.get("–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è", "") if credit_history else ""),

            # –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
            "–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π_—Å—É–¥": DocumentProcessor.get_arbitration_court(–∞–¥—Ä–µ—Å_–ø—Ä–æ–ø–∏—Å–∫–∏),

            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥—Ä–µ—Å–∞ –ø—Ä–æ–ø–∏—Å–∫–∏
            "–°—É–±—ä–µ–∫—Ç_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("—Å—É–±—ä–µ–∫—Ç", ""),
            "–†–∞–π–æ–Ω_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("—Ä–∞–π–æ–Ω", ""),
            "–ì–æ—Ä–æ–¥–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–≥–æ—Ä–æ–¥", ""),
            "–ù–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–Ω–∞—Å–µ–ª–µ–Ω–Ω—ã–π_–ø—É–Ω–∫—Ç", ""),
            "–£–ª–∏—Ü–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("—É–ª–∏—Ü–∞", ""),
            "–ù–æ–º–µ—Ä_–¥–æ–º–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–¥–æ–º", ""),
            "–ù–æ–º–µ—Ä_–∫–æ—Ä–ø—É—Å–∞_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–∫–æ—Ä–ø—É—Å", ""),
            "–ù–æ–º–µ—Ä_–∫–≤–∞—Ä—Ç–∏—Ä—ã_–ø—Ä–æ–ø–∏—Å–∫–∞": –∞–¥—Ä–µ—Å_—á–∞—Å—Ç–∏.get("–∫–≤–∞—Ä—Ç–∏—Ä–∞", ""),

            # –ü–∞—Å–ø–æ—Ä—Ç (—Å fallback –Ω–∞ –û–ö–ë)
            "–°–µ—Ä–∏—è_–∏_–Ω–æ–º–µ—Ä_–ø–∞—Å": series_number,
            # –ö–µ–º –≤—ã–¥–∞–Ω: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ö–µ–º–í—ã–¥–∞–Ω–ü–∞—Å–ø–æ—Ä—Ç": (passport.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if passport else "") or (credit_history.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if credit_history else ""),
            "–ö–µ–º_–≤—ã–¥–∞–Ω_–ø–∞—Å": (passport.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if passport else "") or (credit_history.get("–ö–µ–º_–≤—ã–¥–∞–Ω", "") if credit_history else ""),
            # –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞–Ω_–ø–∞—Å": (passport.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if passport else "") or (credit_history.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if credit_history else ""),
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞_–ø–∞—Å": (passport.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if passport else "") or (credit_history.get("–î–∞—Ç–∞_–≤—ã–¥–∞—á–∏", "") if credit_history else ""),
            # –ö–æ–¥ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–∞—Å–ø–æ—Ä—Ç > –û–ö–ë
            "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": (passport.get("–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è", "") if passport else "") or (credit_history.get("–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è", "") if credit_history else ""),

            # –î–æ–∫—É–º–µ–Ω—Ç—ã
            "–ù–æ–º–µ—Ä_—Å–Ω–∏–ª—Å": snils_number,
            "–ù–æ–º–µ—Ä_–∏–Ω–Ω": inn_number,
            "–°–Ω–∏–ª—Å": snils_number,  # –ê–ª–∏–∞—Å –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
            "–ò–ù–ù": inn_number,       # –ê–ª–∏–∞—Å –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
            "–ò–Ω–Ω": inn_number,       # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∞–ª–∏–∞—Å

            # –†–∞–±–æ—Ç–∞
            "–ú–µ—Å—Ç–æ_—Ä–∞–±–æ—Ç—ã": DocumentProcessor.extract_employers(labour) if labour else "",
            "–¢–µ–∫—É—â_–º–µ—Å—Ç–æ_—Ä–∞–±–æ—Ç—ã": DocumentProcessor.extract_current_job(labour) if labour else "–ù–µ—Ç",

            # –°—É–ø—Ä—É–≥ (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ –ª–∏—Ü–æ)
            "–ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ–µ_–ª–∏—Ü–æ": DocumentProcessor.format_interested_party(passport_spouse, inn_spouse, snils_spouse),

            # –î–µ—Ç–∏ –∏ –±—Ä–∞–∫
            "–ñ–µ–Ω–∞—Ç–∑–∞–º—É–∂–µ–º": DocumentProcessor.get_marital_status_key(passport, data_map),
            "–ù–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–µ_–¥–µ—Ç–∏": DocumentProcessor.determine_children_status(
                passport.get("–î–µ—Ç–∏") if passport else None,
                data_map
            ),

            # –§–∏–Ω–∞–Ω—Å—ã
            "–û–±—â–∞—è_—Å—É–º–º–∞_–¥–æ–ª–≥–∞": debt_formatted,
            "–°—Ä–µ–¥–Ω—è—è_–∑–ø_–∑–∞_–º–µ—Å—è—Ü": DocumentProcessor.format_decimal(average_income) if average_income else "",
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ_—Å—á–µ—Ç–æ–≤_–≤_–±–∞–Ω–∫–∞—Ö": str(accounts_count) if accounts_count is not None else "0",
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ_—Å—á–µ—Ç–æ–≤_—Ç–µ–∫—Å—Ç–æ–º": DocumentProcessor.format_count_with_word(
                accounts_count if accounts_count is not None else 0,
                "—Å—á–µ—Ç", "—Å—á–µ—Ç–∞", "—Å—á–µ—Ç–æ–≤"
            ),

            # –ò–º—É—â–µ—Å—Ç–≤–æ
            "–ù–µ–¥–≤–∏–∂–∏–º–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": real_estate_detailed,
            "–î–≤–∏–∂–µ–º–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": DocumentProcessor.format_movable_property(data_map.get("–≥–∏–±–¥–¥", [])),
            "–ê–∫—Ü–∏–∏_–∏_–∏–Ω–æ–µ_—É—á–∞—Å—Ç–∏–µ_–≤_–∫–æ–º_–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö": DocumentProcessor.format_shares(data_map.get("—É—á—Ä–µ–¥–∏—Ç–µ–ª—å", [])),
            "–¶–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏": DocumentProcessor.format_securities(data_map.get("—Ü–µ–Ω–Ω—ã–µ_–±—É–º–∞–≥–∏", [])),
            "–ù–∞–ª–∏—á–Ω—ã–µ_–∏_–∏–Ω–æ–µ_—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ": DocumentProcessor.format_cash_valuables(data_map.get("—Ü–µ–Ω–Ω–æ–µ_–∏–º—É—â–µ—Å—Ç–≤–æ", [])),
            "–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ_–ø—Ä–∞–≤–∞": DocumentProcessor.format_property_rights(data_map.get("–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ_–ø—Ä–∞–≤–∞", [])),

            # –î–æ—Ö–æ–¥—ã
            "–ò–Ω—ã–µ_–¥–æ—Ö–æ–¥—ã": DocumentProcessor.format_other_income(
                data_map.get("–ø–µ–Ω—Å–∏–∏", []),
                data_map.get("–≤—ã–ø–ª–∞—Ç—ã", [])
            ),

            # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏
            "–ù–µ—Ç—É_–¥–µ—Ç–µ–π_–∏_–±—Ä–∞–∫–∞": marital_children_text,
            "–î–µ—Ç–µ–π_–∏_–±—Ä–∞–∫": marital_children_text,  # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –∏–º—è –∫–ª—é—á–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
            "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è_–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å": admin_responsibility,
            "–£–≥–æ–ª–æ–≤–Ω–∞—è_–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å": criminal_text,

            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ñ–æ—Ä–º–∏—Ä—É–µ–º –∏–∑ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤)
            "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è": DocumentProcessor.format_attachments(pdf_paths or []),
        }

        # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤
        context.update(creditors_table_data)

        # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–∏—Å–∏ –∏–º—É—â–µ—Å—Ç–≤–∞
        bank_accounts_data = DocumentProcessor.format_bank_accounts_table(data_map.get("—Å—á–µ—Ç–∞", []))
        context.update(bank_accounts_data)

        realty_data = DocumentProcessor.format_realty_table(data_map.get("–µ–≥—Ä–Ω_–≤—ã–ø–∏—Å–∫–∞", []), owner_fio=owner_fio)
        context.update(realty_data)

        vehicles_data = DocumentProcessor.format_vehicles_table(data_map.get("–≥–∏–±–¥–¥", []))
        context.update(vehicles_data)

        # –§–æ–ª–ª–±—ç–∫–∏ –¥–ª—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
        fallbacks = {
            "–ê–¥—Ä–µ—Å_—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–î–∞—Ç–∞_—Ä–æ–∂–¥–µ–Ω–∏—è": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ú–µ—Å—Ç–æ_—Ä–æ–∂–¥–µ–Ω–∏—è": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–°–µ—Ä–∏—è_–∏_–Ω–æ–º–µ—Ä_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–µ–º–í—ã–¥–∞–Ω–ü–∞—Å–ø–æ—Ä—Ç": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–µ–º_–≤—ã–¥–∞–Ω_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞–Ω_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–æ–≥–¥–∞_–≤—ã–¥–∞_–ø–∞—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ö–æ–¥_–ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ù–æ–º–µ—Ä_—Å–Ω–∏–ª—Å": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ù–æ–º–µ—Ä_–∏–Ω–Ω": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–ú–µ—Å—Ç–æ_—Ä–∞–±–æ—Ç—ã": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
            "–°—Ä–µ–¥–Ω—è—è_–∑–ø_–∑–∞_–º–µ—Å—è—Ü": "–Ω–µ —É–∫–∞–∑–∞–Ω–æ",
        }

        for key, fallback in fallbacks.items():
            if not context.get(key):
                context[key] = fallback

        # –í–ê–ñ–ù–û: –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —Å–¥–µ–ª–∫–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ data_map
        # –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è API endpoint /api/debtors/<id>/deals
        all_deals = DocumentProcessor.extract_deals_from_all_documents(data_map, owner_fio)
        if all_deals:
            # –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –≤ data_map, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ raw_data
            data_map["—Å–¥–µ–ª–∫–∏"] = all_deals

        # –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ None –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤–æ –≤—Å—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
        # –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ "None" –≤ Word –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
        context = DocumentProcessor.replace_none_with_empty(context)

        return context

    @staticmethod
    def replace_none_with_empty(obj):
        """–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ None –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ —Å–ª–æ–≤–∞—Ä—è—Ö –∏ —Å–ø–∏—Å–∫–∞—Ö.

        Args:
            obj: –û–±—ä–µ–∫—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (dict, list –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ç–∏–ø)

        Returns:
            –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å –∑–∞–º–µ–Ω—ë–Ω–Ω—ã–º–∏ None
        """
        if isinstance(obj, dict):
            return {key: DocumentProcessor.replace_none_with_empty(value) for key, value in obj.items()}
        elif isinstance(obj, list):
            return [DocumentProcessor.replace_none_with_empty(item) for item in obj]
        elif obj is None:
            return ""
        else:
            return obj

    @staticmethod
    def merge_table_cells_for_creditors(doc_path: Path, credits_data: List[Dict]) -> None:
        """–û–±—ä–µ–¥–∏–Ω—è–µ—Ç —è—á–µ–π–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏."""
        from docx import Document
        from docx.oxml import parse_xml
        from docx.oxml.ns import nsdecls
        
        doc = Document(doc_path)
        
        # –ò—â–µ–º —Ç–∞–±–ª–∏—Ü—É –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ ‚Äî 9 —Å—Ç–æ–ª–±—Ü–æ–≤ –∏ –µ—Å—Ç—å "–ö—Ä–µ–¥–∏—Ç–æ—Ä" –≤ –ø–µ—Ä–≤—ã—Ö 4 —Å—Ç—Ä–æ–∫–∞—Ö
        target_table = None
        for table_idx, table in enumerate(doc.tables):
            if len(table.rows) > 2 and len(table.columns) == 9:
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–µ 4 —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ "–ö—Ä–µ–¥–∏—Ç–æ—Ä"
                found_kreditor = False
                for row_idx in range(min(4, len(table.rows))):
                    row_text = ' '.join(cell.text for cell in table.rows[row_idx].cells)
                    if "–ö—Ä–µ–¥–∏—Ç–æ—Ä" in row_text:
                        found_kreditor = True
                        break
                
                if found_kreditor:
                    target_table = table
                    print(f"      [MERGE] –ù–∞–π–¥–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤: —Ç–∞–±–ª–∏—Ü–∞ #{table_idx}, —Å—Ç—Ä–æ–∫: {len(table.rows)}, —Å—Ç–æ–ª–±—Ü–æ–≤: {len(table.columns)}")
                    break
        
        if not target_table:
            print(f"      [MERGE] –¢–∞–±–ª–∏—Ü–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞")
            return
        
        # –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–æ–ø—É—Å–∫–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏)
        data_start_row = 0
        data_end_row = len(target_table.rows) - 1
        
        for row_idx, row in enumerate(target_table.rows):
            # –ò—â–µ–º –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –≥–¥–µ –µ—Å—Ç—å ‚Ññ –ø/–ø –Ω–æ —ç—Ç–æ –Ω–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫
            if row_idx > 0 and row.cells[0].text.strip() and row.cells[0].text.strip() != '‚Ññ –ø/–ø' and row.cells[0].text.strip() != '‚Ññ\n–ø/–ø':
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ "1.1" –∏–ª–∏ –ø–æ—Ö–æ–∂–µ–µ –≤ —Å—Ç–æ–ª–±—Ü–µ 0
                if '.' in row.cells[0].text or row.cells[0].text.strip() == '':
                    data_start_row = row_idx
                    break
        
        # –ù–∞—Ö–æ–¥–∏–º –∫–æ–Ω–µ—Ü —Ä–∞–∑–¥–µ–ª–∞ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ (–¥–æ –Ω–∞—á–∞–ª–∞ "–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏")
        for row_idx in range(data_start_row, len(target_table.rows)):
            row_text = ' '.join(cell.text for cell in target_table.rows[row_idx].cells).lower()
            if '–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏' in row_text or '–Ω–∞–ª–æ–≥' in row_text:
                data_end_row = row_idx - 1
                break
        
        if data_start_row == 0:
            return
        
        # –°—Ç—Ä–æ–∏–º –≥—Ä—É–ø–ø—ã: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –Ω–∞—Ö–æ–¥–∏–º —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ —Å –µ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏
        # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ ‚Ññ –ø/–ø –≤ —Å—Ç–æ–ª–±—Ü–µ 0 (–Ω–∞–ø—Ä–∏–º–µ—Ä "1.1", "1.2" –∏ —Ç.–¥.)
        creditor_groups = []  # [(first_row, last_row), ...]
        current_pp = None
        first_row_of_group = None
        
        print(f"      [MERGE] –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–æ–∫ –æ—Ç {data_start_row} –¥–æ {data_end_row}...")
        
        for row_idx in range(data_start_row, data_end_row + 1):
            pp_text = target_table.rows[row_idx].cells[0].text.strip()
            print(f"      [MERGE]   –°—Ç—Ä–æ–∫–∞ {row_idx}: ‚Ññ –ø/–ø = '{pp_text}'")
            
            # –ï—Å–ª–∏ —ç—Ç–æ –Ω–æ–≤—ã–π ‚Ññ –ø/–ø (–Ω–µ –ø—É—Å—Ç–æ–π)
            if pp_text and '.' in pp_text:
                # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é –≥—Ä—É–ø–ø—É
                if current_pp is not None and first_row_of_group is not None:
                    if row_idx - first_row_of_group > 1:  # –ì—Ä—É–ø–ø–∞ –±–æ–ª—å—à–µ 1 —Å—Ç—Ä–æ–∫–∏
                        creditor_groups.append((first_row_of_group, row_idx - 1))
                        print(f"      [MERGE]     ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≥—Ä—É–ø–ø–∞ '{current_pp}': —Å—Ç—Ä–æ–∫–∏ {first_row_of_group} - {row_idx - 1}")
                
                # –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
                current_pp = pp_text
                first_row_of_group = row_idx
            
            # –ï—Å–ª–∏ —ç—Ç–æ –ø—É—Å—Ç–æ–π ‚Ññ –ø/–ø, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ç–µ–∫—É—â—É—é –≥—Ä—É–ø–ø—É
            elif not pp_text and current_pp is not None:
                pass  # –ì—Ä—É–ø–ø–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
        
        # –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≥—Ä—É–ø–ø—É
        if current_pp is not None and first_row_of_group is not None:
            if data_end_row - first_row_of_group >= 1:  # –ì—Ä—É–ø–ø–∞ –±–æ–ª—å—à–µ 1 —Å—Ç—Ä–æ–∫–∏
                creditor_groups.append((first_row_of_group, data_end_row))
                print(f"      [MERGE]     ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≥—Ä—É–ø–ø–∞ '{current_pp}': —Å—Ç—Ä–æ–∫–∏ {first_row_of_group} - {data_end_row}")
        
        print(f"      [MERGE] –ù–∞–π–¥–µ–Ω–æ –≥—Ä—É–ø–ø –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: {len(creditor_groups)}")
        
        # –û–±—ä–µ–¥–∏–Ω—è–µ–º —è—á–µ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã
        # –°—Ç–æ–ª–±—Ü—ã –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è: 0 (‚Ññ –ø/–ø), 2 (–ö—Ä–µ–¥–∏—Ç–æ—Ä), 3-4 (–ê–¥—Ä–µ—Å - –¥–≤–∞ —Å—Ç–æ–ª–±—Ü–∞)
        columns_to_merge = [0, 2, 3, 4]
        
        for first_row_idx, last_row_idx in creditor_groups:
            print(f"      [MERGE] –û–±—ä–µ–¥–∏–Ω—è–µ–º –≥—Ä—É–ø–ø—É: —Å—Ç—Ä–æ–∫–∏ {first_row_idx} - {last_row_idx}")
            
            for col_idx in columns_to_merge:
                if col_idx >= len(target_table.columns):
                    continue
                
                try:
                    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º vMerge –¥–ª—è –ø–µ—Ä–≤–æ–π —è—á–µ–π–∫–∏
                    first_cell = target_table.rows[first_row_idx].cells[col_idx]
                    first_cell_xml = first_cell._element.get_or_add_tcPr()
                    vmerge = parse_xml(f'<w:vMerge {nsdecls("w")} w:val="restart"/>')
                    first_cell_xml.append(vmerge)
                    
                    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º vMerge –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —è—á–µ–µ–∫ –≥—Ä—É–ø–ø—ã
                    for row_idx in range(first_row_idx + 1, last_row_idx + 1):
                        if row_idx >= len(target_table.rows):
                            break
                        cell = target_table.rows[row_idx].cells[col_idx]
                        cell_xml = cell._element.get_or_add_tcPr()
                        vmerge_continue = parse_xml(f'<w:vMerge {nsdecls("w")}/>')
                        cell_xml.append(vmerge_continue)
                except Exception as e:
                    print(f"          [DEBUG] –û—à–∏–±–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞ {col_idx}: {e}")
        
        doc.save(doc_path)

    @staticmethod
    def fill_docx_template_dynamic(template_path: Path, output_path: Path, context: Dict[str, Any]) -> None:
        """–ó–∞–ø–æ–ª–Ω—è–µ—Ç Word —à–∞–±–ª–æ–Ω —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü (Jinja2)."""
        doc = DocxTemplate(template_path)

        # –†–µ–Ω–¥–µ—Ä–∏–º —à–∞–±–ª–æ–Ω —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
        doc.render(context)

        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
        output_path.parent.mkdir(parents=True, exist_ok=True)

        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        doc.save(output_path)
        
        # –ï—Å–ª–∏ —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è–µ–º —è—á–µ–π–∫–∏
        if "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤" in str(template_path) and "credits" in context:
            try:
                DocumentProcessor.merge_table_cells_for_creditors(output_path, context["credits"])
            except Exception as e:
                print(f"      [WARNING] –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —è—á–µ–π–∫–∏: {e}")

    @staticmethod
    def fill_docx_template(template_path: Path, output_path: Path, context: Dict[str, str]) -> None:
        """–°—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –±–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü."""
        # –§–∏–ª—å—Ç—Ä—É–µ–º —Å–ø–∏—Å–∫–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–æ–Ω–∏ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤)
        filtered_context = {
            k: v for k, v in context.items() 
            if not isinstance(v, (list, dict)) or k in []
        }

        with zipfile.ZipFile(template_path, "r") as template_zip:
            xml = template_zip.read("word/document.xml").decode("utf-8")

        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º XML: —É–±–∏—Ä–∞–µ–º —Ä–∞–∑—Ä—ã–≤—ã –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫ {{...}}
        # Word –º–æ–∂–µ—Ç —Ä–∞–∑–±–∏—Ç—å {{–ö–ª—é—á}} –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–≥–æ–≤, —á—Ç–æ –ª–æ–º–∞–µ—Ç –∑–∞–º–µ–Ω—É
        import re

        # –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ {{–∫–ª—é—á}}, —Ä–∞–∑–±–∏—Ç—ã—Ö –Ω–∞ —á–∞—Å—Ç–∏
        # –ù–∞—Ö–æ–¥–∏–º {, –∑–∞—Ç–µ–º –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ —Ç–µ–≥–∏ –¥–æ }
        pattern = r'\{\{([^}]*)\}\}'

        def normalize_key(match):
            # –ò–∑–≤–ª–µ–∫–∞–µ–º –≤—Å—ë –º–µ–∂–¥—É {{ –∏ }}
            inner = match.group(1)
            # –£–¥–∞–ª—è–µ–º –≤—Å–µ XML —Ç–µ–≥–∏ –≤–Ω—É—Ç—Ä–∏
            clean = re.sub(r'<[^>]+>', '', inner)
            # –£–±–∏—Ä–∞–µ–º –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –∏ –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã –ø–æ –±–æ–∫–∞–º
            clean = clean.replace('\u00A0', ' ').strip()
            # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á
            return f"{{{{{clean}}}}}"

        xml = re.sub(pattern, normalize_key, xml, flags=re.DOTALL)

        # –¢–µ–ø–µ—Ä—å –¥–µ–ª–∞–µ–º –∑–∞–º–µ–Ω—É (–∏—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)
        for key, value in filtered_context.items():
            # –ü—Ä–∏–≤–æ–¥–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ –∫ —Å—Ç—Ä–æ–∫–µ, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ XML
            replacement = str(value) if value is not None else ""
            xml = xml.replace(f"{{{{{key}}}}}", replacement)

        # –ó–∞–º–µ–Ω—è–µ–º {{LINE_BREAK}} –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ –≤ Word
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º <w:br/> –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞
        # –≠—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –í–°–ï —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ (—à—Ä–∏—Ñ—Ç, —Ä–∞–∑–º–µ—Ä, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã, –æ—Ç—Å—Ç—É–ø—ã)
        line_break_xml = '</w:t><w:br/><w:t xml:space="preserve">'
        xml = xml.replace("{{LINE_BREAK}}", line_break_xml)

        output_path.parent.mkdir(parents=True, exist_ok=True)
        with zipfile.ZipFile(template_path, "r") as template_zip, zipfile.ZipFile(
            output_path, "w"
        ) as output_zip:
            for item in template_zip.infolist():
                data = template_zip.read(item.filename)
                if item.filename == "word/document.xml":
                    data = xml.encode("utf-8")
                output_zip.writestr(item, data)

    @staticmethod
    def fill_template(template_path: Path, output_path: Path, context: Dict[str, Any]) -> None:
        """Compatibility wrapper used by `app.py`.

        Tries to render the template as a dynamic Jinja2/DocxTemplate first,
        and falls back to the older XML-replacement implementation if needed.
        """
        # Ensure context has no None values to avoid literal 'None' in documents
        safe_context = DocumentProcessor.replace_none_with_empty(context)

        # First try dynamic rendering
        try:
            DocumentProcessor.fill_docx_template_dynamic(template_path, output_path, safe_context)
            return
        except Exception as e_dynamic:
            # Fallback to simple XML replacement
            try:
                print(f"      INFO - Dynamic render failed for {template_path.name}: {e_dynamic}. Falling back to simple replacement.")
                DocumentProcessor.fill_docx_template(template_path, output_path, safe_context)
                return
            except Exception as e_simple:
                # Re-raise a combined error to help debugging
                raise RuntimeError(f"Both dynamic and simple template rendering failed for {template_path}: dynamic_error={e_dynamic}, simple_error={e_simple}")

    @staticmethod
    def render_bankruptcy_application(context: Dict[str, str]) -> Optional[Path]:
        if not TEMPLATE_DOCX.exists():
            return None
        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        OUTPUT_DIR.mkdir(parents=True, exist_ok=True)
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–ø–∫—É resultdoc
        output_name = f"{TEMPLATE_DOCX.stem}{FILLED_TEMPLATE_SUFFIX}{TEMPLATE_DOCX.suffix}"
        output_path = OUTPUT_DIR / output_name
        DocumentProcessor.fill_docx_template(TEMPLATE_DOCX, output_path, context)
        return output_path

    @staticmethod
    def generate_all_documents(context: Dict[str, str], debtor_id: Optional[str] = None, lawyer: Optional[str] = None) -> List[Path]:
        """Generate all bankruptcy document templates and return list of paths.
        
        Args:
            context: Template context data
            debtor_id: Unique debtor identifier for file separation
        """
        # –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω debtor_id, —Å–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è –¥–æ–ª–∂–Ω–∏–∫–∞
        if debtor_id:
            output_dir = OUTPUT_DIR / debtor_id
        else:
            output_dir = OUTPUT_DIR
            
        output_dir.mkdir(parents=True, exist_ok=True)
        generated_files = []

        templates = [
            {
                "name": "–ó–∞—è–≤–ª–µ–Ω–∏–µ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ",
                "template": None,
                "output": output_dir / "–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": False
            },
            {
                "name": "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ",
                "template": Path("templ") / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ.docx",
                "output": output_dir / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": False
            },
            {
                "name": "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞",
                "template": Path("templ") / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
                "output": output_dir / "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": False
            },
            {
                "name": "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤",
                "template": Path("templ") / "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤.docx",
                "output": output_dir / "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": True
            },
            {
                "name": "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞",
                "template": Path("templ") / "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
                "output": output_dir / "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ).docx",
                "dynamic": True
            },
        ]
        # Map template names to possible filenames (same order)
        template_filenames = [
            "–ó–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ.docx",
            "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ–± –æ—Ç—Å—Ä–æ—á–∫–µ.docx",
            "–•–æ–¥–∞—Ç–∞–π—Å—Ç–≤–æ –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
            "–°–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –¥–æ–ª–∂–Ω–∏–∫–æ–≤.docx",
            "–û–ø–∏—Å—å –∏–º—É—â–µ—Å—Ç–≤–∞.docx",
        ]

        for idx, item in enumerate(templates):
            # Resolve template path: prefer templ/<lawyer>/<filename> if lawyer provided
            filename = template_filenames[idx]
            candidate_paths = []
            if lawyer:
                candidate_paths.append(Path("templ") / lawyer / filename)
            candidate_paths.append(Path("templ") / filename)

            template_path = None
            for p in candidate_paths:
                if p.exists():
                    template_path = p
                    break
            output_path = item["output"]
            is_dynamic = item.get("dynamic", False)

            if not template_path or not template_path.exists():
                # No template found for this item (neither lawyer-specific nor default)
                # Skip generating this document
                # print debug info for visibility
                print(f"      INFO - No template found for '{item['name']}' (checked: {[str(p) for p in candidate_paths]})")
                continue
            else:
                print(f"      INFO - Using template for '{item['name']}': {template_path}")

            try:
                # Use compatibility wrapper that first tries DocxTemplate (dynamic rendering)
                # and falls back to simple XML replacement. This handles placeholders
                # that Word splits across multiple runs.
                DocumentProcessor.fill_template(template_path, output_path, context)

                generated_files.append(output_path)
            except PermissionError:
                print(f"      WARNING - File is open: {output_path.name}")
                continue
            except Exception as e:
                print(f"      ERROR generating {item['name']}: {e}")
                continue

        return generated_files

    @staticmethod
    def process_pdf_with_gpt(pdf_path: Path, prompt: str) -> tuple[str, Optional[int]]:
        """Process PDF file directly with GPT-4o (for –û–ö–ë reports).
        
        Returns:
            Tuple of (response_text, error_code) where error_code is HTTP status for errors or None for success
        """
        try:
            # –ó–∞–≥—Ä—É–∂–∞–µ–º PDF —Ñ–∞–π–ª –≤ OpenAI —Å purpose="vision"
            uploaded_file = client.files.create(
                file=open(pdf_path, "rb"),
                purpose="vision"
            )
            
            # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–º–ø—Ç —Å –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–º —Ñ–∞–π–ª–æ–º —á–µ—Ä–µ–∑ SDK
            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {
                        "role": "user",
                        "content": [
                            {
                                "type": "input_file",
                                "input_file_id": uploaded_file.id
                            },
                            {
                                "type": "text",
                                "text": prompt
                            }
                        ]
                    }
                ],
                max_completion_tokens=16000
            )
            
            # –£–¥–∞–ª—è–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
            try:
                client.files.delete(uploaded_file.id)
            except:
                pass
            
            return response.choices[0].message.content.strip(), None
        except Exception as exc:
            error_code = None
            error_str = str(exc)
            if "400" in error_str or "Bad Request" in error_str:
                error_code = 400
            elif "500" in error_str or "Internal Server Error" in error_str:
                error_code = 500
            elif "429" in error_str or "Too Many Requests" in error_str:
                error_code = 429
            return f"[–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: {exc}]", error_code

    @staticmethod
    def process_images_with_gpt(image_paths: List[str], prompt: str) -> tuple[str, Optional[int]]:
        """Process multiple images with GPT-5 Vision in one request.
        
        Returns:
            Tuple of (response_text, error_code) where error_code is HTTP status for errors or None for success
        """
        try:
            # Prepare content with all images
            content = [{"type": "text", "text": prompt}]

            for image_path in image_paths:
                base64_image = DocumentProcessor.encode_image_to_base64(image_path)
                content.append({
                    "type": "image_url",
                    "image_url": {
                        "url": f"data:image/jpeg;base64,{base64_image}"
                    }
                })

            response = client.chat.completions.create(
                model=GPT_MODEL,
                messages=[
                    {
                        "role": "user",
                        "content": content
                    }
                ],
                max_completion_tokens=16000,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –æ—Ç–≤–µ—Ç–∞
            )
            return response.choices[0].message.content.strip(), None
        except Exception as exc:  # noqa: BLE001
            # –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–≤–ª–µ—á—å HTTP –∫–æ–¥ –æ—à–∏–±–∫–∏
            error_code = None
            error_str = str(exc)
            if "400" in error_str or "Bad Request" in error_str:
                error_code = 400
            elif "500" in error_str or "Internal Server Error" in error_str:
                error_code = 500
            elif "429" in error_str or "Too Many Requests" in error_str:
                error_code = 429
            return f"[–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: {exc}]", error_code

    @staticmethod
    def process_pdf_with_assistants(pdf_path: Path, prompt: str) -> tuple[Dict[str, Any], Optional[str]]:
        """Process PDF directly using OpenAI Assistants API (for credit reports)."""
        try:
            # Upload PDF file
            print(f"      –ó–∞–≥—Ä—É–∑–∫–∞ PDF –≤ OpenAI...", end=" ", flush=True)
            with open(pdf_path, "rb") as f:
                uploaded_file = client.files.create(file=f, purpose="assistants")
            print(f"OK")

            # Create assistant with file_search
            print(f"      –°–æ–∑–¥–∞–Ω–∏–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞...", end=" ", flush=True)
            assistant = client.beta.assistants.create(
                model="gpt-4o-mini",  # –°–∞–º–∞—è –º–æ—â–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è Assistants API
                tools=[{"type": "file_search"}],
                temperature=0,  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
            )
            print(f"OK")

            # Create thread with attached PDF
            print(f"      –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞...", end=" ", flush=True)
            thread = client.beta.threads.create(
                messages=[{
                    "role": "user",
                    "content": prompt,
                    "attachments": [{
                        "file_id": uploaded_file.id,
                        "tools": [{"type": "file_search"}]
                    }]
                }]
            )

            # Run assistant
            run = client.beta.threads.runs.create(
                thread_id=thread.id,
                assistant_id=assistant.id
            )

            # Wait for completion
            max_wait = 120  # 2 minutes timeout
            elapsed = 0
            while run.status in ["queued", "in_progress"]:
                time.sleep(2)
                elapsed += 2
                run = client.beta.threads.runs.retrieve(
                    thread_id=thread.id,
                    run_id=run.id
                )
                if elapsed >= max_wait:
                    raise TimeoutError("Assistants API timeout")

            print(f"OK")

            # Check for errors
            if run.status == "failed":
                error_msg = f"Assistant failed: {run.last_error.message if run.last_error else 'Unknown error'}"
                return {}, error_msg

            # Get response
            messages = client.beta.threads.messages.list(thread_id=thread.id)
            response_text = messages.data[0].content[0].text.value

            # Parse JSON
            cleaned = DocumentProcessor.clean_json_response(response_text)
            try:
                data = json.loads(cleaned)
                error = None
            except json.JSONDecodeError as e:
                # Try to extract JSON from markdown or text
                import re
                json_match = re.search(r'\{.*\}', cleaned, re.DOTALL)
                if json_match:
                    try:
                        data = json.loads(json_match.group(0))
                        error = None
                    except:
                        data = {"raw_response": response_text}
                        error = f"JSON decode error: {str(e)}"
                else:
                    data = {"raw_response": response_text}
                    error = f"JSON decode error: {str(e)}"

            # Cleanup
            try:
                client.beta.assistants.delete(assistant.id)
                client.files.delete(uploaded_file.id)
            except:
                pass

            return data, error

        except Exception as exc:
            return {"error": str(exc)}, str(exc)

    def process_pdf(self, pdf_path: Path, debtor_fio: str = "") -> DocumentOutput:
        """Process PDF document with all pages at once using GPT-5 Vision.
        
        Args:
            pdf_path: Path to PDF file
            debtor_fio: –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ (–¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –ø—Ä–æ–º–ø—Ç—ã, –≥–¥–µ –Ω—É–∂–Ω–æ)
        """
        pdf_path = pdf_path.resolve()

        # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
        doc_type, base_prompt = self.detect_document_type(pdf_path.name)
        
        # –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ –≤ –ø—Ä–æ–º–ø—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä)
        if debtor_fio and "{debtor_fio}" in base_prompt:
            base_prompt = base_prompt.replace("{debtor_fio}", debtor_fio)

        print(f"   > {pdf_path.name}")
        print(f"      –¢–∏–ø: {doc_type}")

        start_time = time.time()

        # ===  –°–ü–ï–¶–ò–ê–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –î–õ–Ø –ö–†–ï–î–ò–¢–ù–´–• –û–¢–ß–ï–¢–û–í ===
        if doc_type in ["–æ—Ç—á–µ—Ç_–æ–∫–±", "–æ—Ç—á–µ—Ç_–±–∫–∏", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏"]:
            print(f"      [CREDIT] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞")
            
            # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            print(f"      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...", end=" ", flush=True)
            pdf = pdfium.PdfDocument(str(pdf_path))
            total_pages = len(pdf)
            
            # –î–ª—è –ë–ö–ò –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 25 —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏, –¥–ª—è –û–ö–ë - –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            if doc_type == "–æ—Ç—á–µ—Ç_–±–∫–∏":
                max_pages = min(25, total_pages)
            else:
                max_pages = total_pages
                
            pages = []
            for i in range(max_pages):
                page = pdf[i]
                bitmap = page.render(scale=2.5)
                pil_image = bitmap.to_pil()
                pages.append(pil_image)
            print(f"OK ({len(pages)} –∏–∑ {total_pages} —Å—Ç—Ä.)")

            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            print(f"      –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü...", end=" ", flush=True)
            page_images = []
            for page in pages:
                with tempfile.NamedTemporaryFile(suffix=".jpg", delete=False) as tmp_file:
                    tmp_path = tmp_file.name
                    page.save(tmp_path, 'JPEG', quality=95, optimize=True)
                    page_images.append(tmp_path)
            print("OK")

            # –û–ø—Ä–µ–¥–µ–ª—è–µ–º batch size –∏ overlap –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –æ—Ç—á–µ—Ç–∞
            if doc_type == "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏":
                BATCH_SIZE = 50  # –ù–ë–ö–ò: –±–æ–ª—å—à–∏–µ –±–∞—Ç—á–∏
                OVERLAP_PAGES = 10  # –ù–ë–ö–ò: overlap 5 —Å—Ç—Ä–∞–Ω–∏—Ü
            elif doc_type == "–æ—Ç—á–µ—Ç_–æ–∫–±":
                BATCH_SIZE = 50  # –û–ö–ë: –±–æ–ª—å—à–∏–µ –±–∞—Ç—á–∏
                OVERLAP_PAGES = 20  # –û–ö–ë: overlap 20 —Å—Ç—Ä–∞–Ω–∏—Ü
            else:  # –ë–ö–ò
                BATCH_SIZE = 50
                OVERLAP_PAGES = 0  # –ë–ö–ò: –±–µ–∑ overlap
            
            use_batch = len(pages) > BATCH_SIZE
            batch_size = BATCH_SIZE  # –ú–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∞—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

            extracted_data = {}
            error = None

            if use_batch:
                print(f"      [BATCH] –î–æ–∫—É–º–µ–Ω—Ç –±–æ–ª—å—à–æ–π ({len(pages)} —Å—Ç—Ä.), –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞—Ç—á–∞–º–∏ –ø–æ {batch_size} —Å—Ç—Ä. (overlap: {OVERLAP_PAGES})")
                
                all_credits = []
                batch_num = 0
                retry_smaller = False
                
                for start_idx in range(0, len(page_images), batch_size):
                    end_idx = min(start_idx + batch_size, len(page_images))
                    
                    # –î–æ–±–∞–≤–ª—è–µ–º overlap —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –±–∞—Ç—á–æ–º (–∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–≥–æ)
                    if OVERLAP_PAGES > 0 and start_idx > 0:
                        overlap_start = max(0, start_idx - OVERLAP_PAGES)
                        batch_pages = page_images[overlap_start:end_idx]
                        actual_start = overlap_start + 1  # –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ª–æ–≥–µ
                    else:
                        batch_pages = page_images[start_idx:end_idx]
                        actual_start = start_idx + 1
                    
                    batch_num += 1
                    
                    # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—Ç—á–µ—Ç–æ–≤
                    if doc_type == "–æ—Ç—á–µ—Ç_–æ–∫–±":
                        # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± overlap –≤ –ø—Ä–æ–º–ø—Ç
                        overlap_info = ""
                        if start_idx > 0:
                            overlap_info = f"""
–ö–û–ù–¢–ï–ö–°–¢: –ü–µ—Ä–≤—ã–µ {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —ç—Ç–æ –ö–û–ù–¢–ï–ö–°–¢ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–∞—Ç—á–∞ –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏.
–ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–∑ —ç—Ç–∏—Ö {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü!
–ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –∏–ª–∏ —Ä–∞–∑–¥–µ–ª –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ –Ω–∏—Ö.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏ –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –∏–∑ –ù–û–í–´–• —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞—á–∏–Ω–∞—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã {OVERLAP_PAGES + 1})
–ö–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.
"""
                        
                        batch_prompt = base_prompt + overlap_info + f"""

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∏–ª–∏ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∫–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.

–í —Ä–∞–∑–¥–µ–ª–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –µ—Å—Ç—å –∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ 1. 2. 3. –∏ —Ç.–¥. —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É, –Ω–µ –Ω—É–∂–Ω–æ –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—ã—Ç–∞—Ç—å—Å—è –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ä–∞–∑—É –∏—â–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É.

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –ü–ê–û ¬´–í–¢–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø (–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø / –ò–°–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´):

–ï—Å–ª–∏ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –•–û–¢–Ø –ë–´ –û–î–ù–û –∏–∑ —É—Å–ª–æ–≤–∏–π –Ω–∏–∂–µ,
–î–û–ì–û–í–û–† –ù–£–ñ–ù–û –ü–û–õ–ù–û–°–¢–¨–Æ –ü–†–û–ü–£–°–¢–ò–¢–¨ –∏ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –≤ JSON:

1. –í —Ä–∞–∑–¥–µ–ª–µ "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è "0 —Ä."
   (–Ω–∞ –ª—é–±—É—é –¥–∞—Ç—É –ø–æ—Å–ª–µ –¥–∞—Ç—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞).

2. –í —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–∫–∞:
   "–°—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–∞—Ç—É –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É–±—ä–µ–∫—Ç—É
    –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞".

3. –í –¥–µ—Ç–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–∑—ã—Å–∫–∞–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞,
   –≤–∫–ª—é—á–∞—è (–Ω–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å):
   ‚Äî "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å"
   ‚Äî "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
   ‚Äî "–§–°–°–ü"
   ‚Äî "—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤"
   ‚Äî "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"
   ‚Äî "–≤–∑—ã—Å–∫–∞—Ç—å"
   ‚Äî "–ø—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è"

4. "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Ä–∞–≤–Ω–∞ 0 —Ä. –Ω–∞ –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

‚ùóÔ∏è –¢–∞–∫–∏–µ –∑–∞–ø–∏—Å–∏ —Å—á–∏—Ç–∞—Ç—å –ù–ï –∫—Ä–µ–¥–∏—Ç–∞–º–∏, –∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ / –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
‚ùóÔ∏è –≠—Ç–∏ –∑–∞–ø–∏—Å–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –û–¢–î–ï–õ–¨–ù–û –∏ –ù–ï –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ú–¢–°-–ë–ê–ù–ö –ü–ê–û)
2. –ù–∞–π–¥–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å —ç—Ç–∏–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–º –∏ –∏–∑–≤–ª–µ–∫–∏:
   - "–î–∞—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏" –∏–ª–∏ "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞"
   - "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
   - –í —Ä–∞–∑–¥–µ–ª–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ" –∏—â–∏ —Å—Ç—Ä–æ–∫—É "–ò–ù–ù –∏ –û–ì–†–ù (–û–ì–†–ù–ò–ü)". –¢–∞–º –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: "–ò–ù–ù¬≥ 7744000912" –∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ "–û–ì–†–ù 1027739019142"
   - –ò–ù–ù - —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–ù–ù¬≥" (10 —Ü–∏—Ñ—Ä). –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –µ–≥–æ!
   - –û–ì–†–ù –ù–ï –ù–£–ñ–ï–ù (—ç—Ç–æ 13 —Ü–∏—Ñ—Ä)
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –ù–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–π –∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
   - –í —Ç–∞–±–ª–∏—Ü–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∫–æ–ª–æ–Ω–∫–∞ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
     –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" = —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–†–û –î–û–õ–ì –í –û–ö–ë:
- –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´"
- "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –£–ñ–ï –í–ö–õ–Æ–ß–ê–ï–¢ –ø—Ä–æ—Å—Ä–æ—á–∫—É, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
- –ò–õ–ò —Å–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- –ù–ï —Å—É–º–º–∏—Ä—É–π "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü–µ –î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´!
- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∫–∞–∫ –µ—Å—Ç—å

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON:
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "—á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ '–ò–ù–ù¬≥' –≤ —Ä–∞–∑–¥–µ–ª–µ '–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ' (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: 7744000912)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ '–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' (–ù–ï —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å!)"
    }}
  ]
}}"""
                    elif doc_type == "–æ—Ç—á–µ—Ç_–±–∫–∏":
                        # –î–ª—è –ë–ö–ò - –¥–∞—Ç—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ
                        batch_prompt = base_prompt + f"""

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´".

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –∏–∑–≤–ª–µ–∫–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏)
- –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –ù–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–π –∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∞")
- –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
- –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–¢–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" + "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞, —Å—É–º–º–∞"

–í–ê–ñ–ù–û: 
- "–°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É" - —ç—Ç–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, –ù–ï —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥!
- –ü–æ–ª–µ –≤ JSON –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–ö—Ä–µ–¥–∏—Ç—ã", –ù–ï "–î–æ–≥–æ–≤–æ—Ä—ã"!
- –í –ë–ö–ò –æ—Ç—á—ë—Ç–µ –ù–ï–¢ –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–¥–∞—Ç–∞",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏",
      "–°—É–º–º–∞": "—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ø—Ä–æ—Å—Ä–æ—á–∫–∞"
    }}
  ]
}}"""
                    elif doc_type == "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏":
                        # –ù–ë–ö–ò –ø—Ä–æ–º–ø—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± overlap
                        overlap_info = ""
                        if start_idx > 0:
                            overlap_info = f"""
–ö–û–ù–¢–ï–ö–°–¢: –ü–µ—Ä–≤—ã–µ {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —ç—Ç–æ –ö–û–ù–¢–ï–ö–°–¢ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –±–∞—Ç—á–∞ –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏.
–ù–ï –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏–∑ —ç—Ç–∏—Ö {OVERLAP_PAGES} —Å—Ç—Ä–∞–Ω–∏—Ü!
–ò—Å–ø–æ–ª—å–∑—É–π –∏—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ —Ä–∞–∑–¥–µ–ª –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –Ω–∞ –Ω–∏—Ö.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –∏ –∏–∑–≤–ª–µ–∫–∞–π –¥–∞–Ω–Ω—ã–µ –¢–û–õ–¨–ö–û –∏–∑ –ù–û–í–´–• —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞—á–∏–Ω–∞—è —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã {OVERLAP_PAGES + 1})
–ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!.
"""
                        
                        batch_prompt = base_prompt + overlap_info + f"""

–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ" - —Ç–∞–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞".

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–í–ê–ñ–ù–û - –ò–ì–ù–û–†–ò–†–£–ô –ü–û–ì–ê–®–ï–ù–ù–´–ï –ö–†–ï–î–ò–¢–´:
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –Ω–∞–ø–∏—Å–∞–Ω–æ "–ù–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Äî –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫! –ê –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç "–ù/–î" ‚Äî –∫—Ä–µ–¥–∏—Ç –î–ï–ô–°–¢–í–£–Æ–©–ò–ô, –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ!
- –ï—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç!
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" —Å—Ç–æ–∏—Ç "–°—Ç–∞—Ç—É—Å: –°—á–µ—Ç –∑–∞–∫—Ä—ã—Ç" - –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫!
- –í–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ–∫—É—â–∏–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∫—Ä–µ–¥–∏—Ç—ã —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –≥–¥–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Å—Ç–æ–∏—Ç "–ù/–î"!

–î–ª—è –ö–ê–ñ–î–û–ì–û –î–ï–ô–°–¢–í–£–Æ–©–ï–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
2. –í —Ç–∞–±–ª–∏—Ü–µ "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ":
   - –°—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–π–º–∞ (–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –°—Ç–æ–ª–±–µ—Ü "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –¥–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏)
   - –°—Ç–æ–ª–±–µ—Ü "–û–ì–†–ù/–ò–ù–ù" - —Ç–∞–º –¥–≤–∞ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ü–ï–†–í–û–ï (13 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –û–ì–†–ù, –ù–ï –ù–£–ñ–ù–û. –í–¢–û–†–û–ï (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏!
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
3. –í —Ç–∞–±–ª–∏—Ü–µ "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
   - –ù–∞–π–¥–∏ –°–ê–ú–£–Æ –ü–û–°–õ–ï–î–ù–Æ–Æ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–°—É–º–º–∞" (—ç—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥)
   - –ò–ì–ù–û–†–ò–†–£–ô –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª–±—Ü—ã ("–°—É–º–º–∞ –ø–æ –æ—Å–Ω.–¥–æ–ª–≥—É", "–°—É–º–º–∞ –ø–æ %%", –∏ —Ç.–¥.)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—é—é(–Ω–∏–∂–Ω—é—é) —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û —Å—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞" –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
- –ù–ï —Å—É–º–º–∏—Ä—É–µ–º –Ω–∏—á–µ–≥–æ, –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
- –í —Å—Ç–æ–ª–±—Ü–µ "–û–ì–†–ù/–ò–ù–ù" –±–µ—Ä–µ–º –í–¢–û–†–û–ï —á–∏—Å–ª–æ (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù!
- –ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "–í–¢–û–†–û–ï —á–∏—Å–ª–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ –û–ì–†–ù/–ò–ù–ù (10 —Ü–∏—Ñ—Ä)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–æ–ª–±–µ—Ü –°—É–º–º–∞"
    }}
  ]
}}"""

                    try:
                        # –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞—Ç—á–µ —Å —É—á—ë—Ç–æ–º overlap
                        if OVERLAP_PAGES > 0 and start_idx > 0:
                            print(f"         –ë–∞—Ç—á {batch_num} ({actual_start}-{end_idx}, overlap: {OVERLAP_PAGES} —Å—Ç—Ä.)...", end=" ", flush=True)
                        else:
                            print(f"         –ë–∞—Ç—á {batch_num} ({actual_start}-{end_idx})...", end=" ", flush=True)
                        
                        response_text, error_code = self.process_images_with_gpt(batch_pages, batch_prompt)
                        
                        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏ 400/500 - –∑–∞–ø—Ä–æ—Å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
                        if error_code in [400, 500]:
                            print(f"ERROR {error_code}")
                            if batch_size > 30:
                                # –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –∏ –ø–æ–≤—Ç–æ—Ä—è–µ–º —ç—Ç–æ—Ç –±–∞—Ç—á
                                new_batch_size = batch_size // 2
                                print(f"         [AUTO] –£–º–µ–Ω—å—à–∞—é —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–æ {new_batch_size} —Å—Ç—Ä. –∏ –ø–æ–≤—Ç–æ—Ä—è—é...")
                                batch_size = new_batch_size
                                retry_smaller = True
                                # –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è –Ω–∞–∑–∞–¥, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ç–æ—Ç –±–∞—Ç—á –∑–∞–Ω–æ–≤–æ
                                start_idx -= batch_size
                                continue
                            else:
                                # –ë–∞—Ç—á —É–∂–µ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
                                print(f"         [SKIP] –ë–∞—Ç—á —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º")
                                if not error:
                                    error = f"Batch {batch_num} failed with error {error_code}"
                                continue
                        
                        cleaned = self.clean_json_response(response_text)
                        
                        # –ü—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ GPT –≤–µ—Ä–Ω—É–ª —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ JSON (–Ω–µ—Ö–≤–∞—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
                        if cleaned and ("–Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è" in cleaned.lower() or "–ø—Ä–∏—à–ª–∏—Ç–µ" in cleaned.lower() or "–Ω–µ –º–æ–≥—É" in cleaned.lower()):
                            print(f"SKIP (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –±–∞—Ç—á–µ)")
                            continue
                        
                        try:
                            batch_data = json.loads(cleaned) if cleaned else {}
                            
                            # FALLBACK: –µ—Å–ª–∏ GPT –≤–µ—Ä–Ω—É–ª "–î–æ–≥–æ–≤–æ—Ä—ã" –≤–º–µ—Å—Ç–æ "–ö—Ä–µ–¥–∏—Ç—ã"
                            if "–î–æ–≥–æ–≤–æ—Ä—ã" in batch_data and "–ö—Ä–µ–¥–∏—Ç—ã" not in batch_data:
                                print(f"         [FIX] GPT –≤–µ—Ä–Ω—É–ª '–î–æ–≥–æ–≤–æ—Ä—ã', –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é –≤ '–ö—Ä–µ–¥–∏—Ç—ã'")
                                batch_data["–ö—Ä–µ–¥–∏—Ç—ã"] = batch_data.pop("–î–æ–≥–æ–≤–æ—Ä—ã")
                            
                            # –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ —ç—Ç–æ–≥–æ –±–∞—Ç—á–∞
                            if "–ö—Ä–µ–¥–∏—Ç—ã" in batch_data and isinstance(batch_data["–ö—Ä–µ–¥–∏—Ç—ã"], list):
                                batch_credits = batch_data["–ö—Ä–µ–¥–∏—Ç—ã"]
                                
                                # –î–æ–ø–æ–ª–Ω—è–µ–º –ò–ù–ù –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞, –µ—Å–ª–∏ GPT –Ω–µ –∏–∑–≤–ª–µ–∫
                                for credit in batch_credits:
                                    if not credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"):
                                        creditor_name = credit.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "")
                                        if creditor_name:
                                            _, canonical_name = DocumentProcessor.normalize_bank_name(creditor_name)
                                            inn = DocumentProcessor.get_bank_inn(canonical_name)
                                            if inn:
                                                credit["–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"] = inn
                                
                                all_credits.extend(batch_credits)
                                print(f"OK ({len(batch_credits)} –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                                
                                # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
                                if batch_credits:
                                    print(f"         [–ò–ó–í–õ–ï–ß–ï–ù–û]:")
                                    for idx, credit in enumerate(batch_credits, 1):
                                        creditor = credit.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "???")
                                        date = credit.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏", "???")
                                        initial = credit.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", "???")
                                        debt = credit.get("–°—É–º–º–∞", "???")
                                        inn = credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞", "")
                                        inn_text = f" | –ò–ù–ù: {inn}" if inn else ""
                                        print(f"           {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt}{inn_text}")
                            else:
                                print("OK (0 –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                        except json.JSONDecodeError as json_err:
                            print(f"SKIP (JSON parse failed - likely no credits on these pages)")
                            print(f"         [DEBUG] –û—Ç–≤–µ—Ç GPT (–ø–µ—Ä–≤—ã–µ 300 —Å–∏–º–≤–æ–ª–æ–≤):")
                            print(f"         {response_text[:300]}")
                            # –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º error - –±–∞—Ç—á –ø—Ä–æ—Å—Ç–æ –Ω–µ –Ω–∞—à—ë–ª –∫—Ä–µ–¥–∏—Ç—ã
                            
                    except Exception as e:
                        print(f"ERROR ({str(e)[:40]})")
                        if not error:
                            error = f"Batch {batch_num}: {str(e)}"
                
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –±–∞—Ç—á–µ–π
                extracted_data = {"–ö—Ä–µ–¥–∏—Ç—ã": all_credits}
                print(f"      [BATCH] –í—Å–µ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤: {len(all_credits)}")
                
            else:
                # –î–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - –æ–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
                if doc_type == "–æ—Ç—á–µ—Ç_–æ–∫–±":
                    simple_prompt = base_prompt + f"""

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∏–ª–∏ "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´", –∫–æ–≥–¥–∞ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É "–ó–ê–ö–†–´–¢–´–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´", –Ω–∞—á–∏–Ω–∞–π –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–≥–æ–≤–æ—Ä—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö.

–í —Ä–∞–∑–¥–µ–ª–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –µ—Å—Ç—å –∫—Ä–∞—Ç–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, –∞ –¥–∞–ª—å—à–µ —É–∂–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ 1. 2. 3. –∏ —Ç.–¥. —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É, –Ω–µ –Ω—É–∂–Ω–æ –∏–∑ –∫—Ä–∞—Ç–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø—ã—Ç–∞—Ç—å—Å—è –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, —Å—Ä–∞–∑—É –∏—â–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–µ–¥–∏—Ç—É.

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª, –ü–ê–û ¬´–í–¢–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø (–ü–û–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø / –ò–°–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´):

–ï—Å–ª–∏ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –•–û–¢–Ø –ë–´ –û–î–ù–û –∏–∑ —É—Å–ª–æ–≤–∏–π –Ω–∏–∂–µ,
–î–û–ì–û–í–û–† –ù–£–ñ–ù–û –ü–û–õ–ù–û–°–¢–¨–Æ –ü–†–û–ü–£–°–¢–ò–¢–¨ –∏ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –≤ JSON:

1. –í —Ä–∞–∑–¥–µ–ª–µ "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è "0 —Ä."
   (–Ω–∞ –ª—é–±—É—é –¥–∞—Ç—É –ø–æ—Å–ª–µ –¥–∞—Ç—ã –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞).

2. –í —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–∫–∞:
   "–°—É–º–º–∞ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–∞—Ç—É –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É–±—ä–µ–∫—Ç—É
    –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞".

3. –í –¥–µ—Ç–∞–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–∑—ã—Å–∫–∞–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞,
   –≤–∫–ª—é—á–∞—è (–Ω–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å):
   ‚Äî "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å"
   ‚Äî "–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"
   ‚Äî "–§–°–°–ü"
   ‚Äî "—Å—É–¥–µ–±–Ω—ã–π –ø—Ä–∏—Å—Ç–∞–≤"
   ‚Äî "–ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"
   ‚Äî "–≤–∑—ã—Å–∫–∞—Ç—å"
   ‚Äî "–ø—Ä–µ–¥–º–µ—Ç –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è"

4. "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Ä–∞–≤–Ω–∞ 0 —Ä. –Ω–∞ –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

‚ùóÔ∏è –¢–∞–∫–∏–µ –∑–∞–ø–∏—Å–∏ —Å—á–∏—Ç–∞—Ç—å –ù–ï –∫—Ä–µ–¥–∏—Ç–∞–º–∏, –∞ –ø–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ / –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
‚ùóÔ∏è –≠—Ç–∏ –∑–∞–ø–∏—Å–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –û–¢–î–ï–õ–¨–ù–û –∏ –ù–ï –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞–¥–∞—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ú–¢–°-–ë–ê–ù–ö –ü–ê–û)
2. –ù–∞–π–¥–∏ –¥–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–¥–µ–ª –ù–ò–ñ–ï —Å —ç—Ç–∏–º –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–º –∏ –∏–∑–≤–ª–µ–∫–∏:
   - "–î–∞—Ç–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏" –∏–ª–∏ "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞"
   - "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
   - –í —Ä–∞–∑–¥–µ–ª–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ" –∏—â–∏ —Å—Ç—Ä–æ–∫—É "–ò–ù–ù –∏ –û–ì–†–ù (–û–ì–†–ù–ò–ü)". –¢–∞–º –±—É–¥–µ—Ç —Ç–µ–∫—Å—Ç –≤–∏–¥–∞: "–ò–ù–ù¬≥ 7744000912" –∏ —Å—Ç—Ä–æ–∫–æ–π –Ω–∏–∂–µ "–û–ì–†–ù 1027739019142"
   - –ò–ù–ù - —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ò–ù–ù¬≥" (10 —Ü–∏—Ñ—Ä). –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏ –µ–≥–æ!
   - –û–ì–†–ù –ù–ï –ù–£–ñ–ï–ù (—ç—Ç–æ 13 —Ü–∏—Ñ—Ä)
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –ù–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–π –∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
   - –í —Ç–∞–±–ª–∏—Ü–µ "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´" –∫–æ–ª–æ–Ω–∫–∞ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
     –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" = —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û –ü–†–û –î–û–õ–ì –í –û–ö–ë:
- –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "–î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´"
- "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –£–ñ–ï –í–ö–õ–Æ–ß–ê–ï–¢ –ø—Ä–æ—Å—Ä–æ—á–∫—É, –ø—Ä–æ—Ü–µ–Ω—Ç—ã –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ!
- –ò–õ–ò —Å–ª–æ–∂–∏ "–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–ª–≥" + "–ü—Ä–æ—Ü–µ–Ω—Ç—ã" + "–ò–Ω–æ–µ" –∏–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ù–ò–ñ–ï –≤ —Ç–∞–±–ª–∏—Ü–µ "–°–≤–µ–¥–µ–Ω–∏—è –æ —Å—É–º–º–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏"
- –ù–ï —Å—É–º–º–∏—Ä—É–π "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –≤ —Ç–∞–±–ª–∏—Ü–µ –î–ï–ô–°–¢–í–£–Æ–©–ò–ï –ö–†–ï–î–ò–¢–ù–´–ï –î–û–ì–û–í–û–†–´!
- –ü—Ä–æ—Å—Ç–æ –≤–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ "–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" –∫–∞–∫ –µ—Å—Ç—å

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON:
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "—á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ '–ò–ù–ù¬≥' –≤ —Ä–∞–∑–¥–µ–ª–µ '–°–≤–µ–¥–µ–Ω–∏—è –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ' (10 —Ü–∏—Ñ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä: 7744000912)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ '–û–±—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' (–ù–ï —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å!)"
    }}
  ]
}}"""
                elif doc_type == "–æ—Ç—á–µ—Ç_–±–∫–∏":
                    simple_prompt = base_prompt + f"""

–ù–∞–π–¥–∏ —Ç–∞–±–ª–∏—Ü—É "–ê–ö–¢–ò–í–ù–´–ï –î–û–ì–û–í–û–†–´".

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–î–ª—è –ö–ê–ñ–î–û–ô —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –∏–∑–≤–ª–µ–∫–∏:
- –ö—Ä–µ–¥–∏—Ç–æ—Ä (—Ç–æ—á–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏)
- –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–í–∏–¥ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –ù–µ–æ–±–µ—Å–ø–µ—á–µ–Ω–Ω—ã–π –∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∞ (–∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–≥–æ–≤–æ—Ä–∞")
- –°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û! –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É" - –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞)
- –¢–µ–∫—É—â–∏–π –¥–æ–ª–≥ = "–¢–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å" + "–¢–µ–∫—É—â–∞—è –ø—Ä–æ—Å—Ä–æ—á–∫–∞, —Å—É–º–º–∞"

–í–ê–ñ–ù–û: 
- "–°—É–º–º–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É" - —ç—Ç–æ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∫—Ä–µ–¥–∏—Ç–∞, –ù–ï —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥!
- –ü–æ–ª–µ –≤ JSON –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è "–ö—Ä–µ–¥–∏—Ç—ã", –ù–ï "–î–æ–≥–æ–≤–æ—Ä—ã"!
- –í –ë–ö–ò –æ—Ç—á—ë—Ç–µ –ù–ï–¢ –ò–ù–ù –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –ù–ï –∏–∑–≤–ª–µ–∫–∞–π –µ–≥–æ!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–¥–∞—Ç–∞",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∏–∑ –∫–æ–ª–æ–Ω–∫–∏",
      "–°—É–º–º–∞": "—Ç–µ–∫—É—â–∞—è –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å + –ø—Ä–æ—Å—Ä–æ—á–∫–∞"
    }}
  ]
}}"""
                else:  # –æ—Ç—á–µ—Ç_–Ω–±–∫–∏
                    simple_prompt = base_prompt + f"""

–ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –∏—Ö –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ" - —Ç–∞–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤, –∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞".

–°—Ä–∞–∑—É –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–ê–û ¬´–°–±–µ—Ä–±–∞–Ω–∫¬ª, –ü–ê–û ¬´–ë–∞–Ω–∫ –ü–°–ë¬ª –∏ —Ç.–¥.
–î–ª—è —Ç-–±–∞–Ω–∫–∞ —Å—Ä–∞–∑—É –≤ json –ø–æ–¥—Å—Ç–∞–≤—å –∞–¥—Ä–µ—Å "127287, –≥–æ—Ä–æ–¥ –ú–æ—Å–∫–≤–∞, —É–ª –•—É—Ç–æ—Ä—Å–∫–∞—è 2-–Ø, –¥. 38–∞ —Å—Ç—Ä. 26"

–í–ê–ñ–ù–û - –ò–ì–ù–û–†–ò–†–£–ô –ü–û–ì–ê–®–ï–ù–ù–´–ï –ö–†–ï–î–ò–¢–´:
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" –Ω–∞–ø–∏—Å–∞–Ω–æ "–ù–∞–¥–ª–µ–∂–∞—â–µ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" ‚Äî –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫! –ê –µ—Å–ª–∏ —Å—Ç–æ–∏—Ç "–ù/–î" ‚Äî –∫—Ä–µ–¥–∏—Ç –î–ï–ô–°–¢–í–£–Æ–©–ò–ô, –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ!
- –ï—Å–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–æ ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç–æ—Ç –∫—Ä–µ–¥–∏—Ç!
- –ï—Å–ª–∏ –≤ —Å—Ç–æ–ª–±—Ü–µ "–°–æ—Å—Ç–æ—è–Ω–∏–µ" —Å—Ç–æ–∏—Ç "–°—Ç–∞—Ç—É—Å: –°—á–µ—Ç –∑–∞–∫—Ä—ã—Ç" - –∫—Ä–µ–¥–∏—Ç –ü–û–ì–ê–®–ï–ù, –ù–ï –í–ö–õ–Æ–ß–ê–ô –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫!
- –í–∫–ª—é—á–∞–π –¢–û–õ–¨–ö–û —Ç–µ–∫—É—â–∏–µ (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ) –∫—Ä–µ–¥–∏—Ç—ã —Å –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å—é, –≥–¥–µ "–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" —Å—Ç–æ–∏—Ç "–ù/–î"!

–î–ª—è –ö–ê–ñ–î–û–ì–û –î–ï–ô–°–¢–í–£–Æ–©–ï–ì–û –∫—Ä–µ–¥–∏—Ç–æ—Ä–∞:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞/–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞)
2. –í —Ç–∞–±–ª–∏—Ü–µ "–û—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–µ":
   - –°—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –∑–∞–π–º–∞ (–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
   - –°—Ç–æ–ª–±–µ—Ü "–î–∞—Ç–∞ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞" = –¥–∞—Ç–∞ —Å–¥–µ–ª–∫–∏ (–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏)
   - –°—Ç–æ–ª–±–µ—Ü "–û–ì–†–ù/–ò–ù–ù" - —Ç–∞–º –¥–≤–∞ —á–∏—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ü–ï–†–í–û–ï (13 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –û–ì–†–ù, –ù–ï –ù–£–ñ–ù–û. –í–¢–û–†–û–ï (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù, –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–≤–ª–µ–∫–∏!
   - –¢–∏–ø –∫—Ä–µ–¥–∏—Ç–∞/–∑–∞–π–º–∞ (–∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–í–∏–¥ –∑–∞–π–º–∞ (–∫—Ä–µ–¥–∏—Ç–∞)" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π: –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç, –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞, –ú–∏–∫—Ä–æ–∑–∞–π–º, –ò–ø–æ—Ç–µ–∫–∞, –ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç, –∏ —Ç.–¥.)
3. –í —Ç–∞–±–ª–∏—Ü–µ "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å":
   - –ù–∞–π–¥–∏ –°–ê–ú–£–Æ –ü–û–°–õ–ï–î–ù–Æ–Æ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
   - –í–æ–∑—å–º–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ "–°—É–º–º–∞" (—ç—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥)
   - –ò–ì–ù–û–†–ò–†–£–ô –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª–±—Ü—ã ("–°—É–º–º–∞ –ø–æ –æ—Å–Ω.–¥–æ–ª–≥—É", "–°—É–º–º–∞ –ø–æ %%", –∏ —Ç.–¥.)

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—é—é(–Ω–∏–∂–Ω—é—é) —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã "–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å"
- –ë–µ—Ä–µ–º –¢–û–õ–¨–ö–û —Å—Ç–æ–ª–±–µ—Ü "–°—É–º–º–∞" –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- –≠—Ç–æ –∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–π –¥–æ–ª–≥
- –ù–ï —Å—É–º–º–∏—Ä—É–µ–º –Ω–∏—á–µ–≥–æ, –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ!
- –í —Å—Ç–æ–ª–±—Ü–µ "–û–ì–†–ù/–ò–ù–ù" –±–µ—Ä–µ–º –í–¢–û–†–û–ï —á–∏—Å–ª–æ (10 —Ü–∏—Ñ—Ä) - —ç—Ç–æ –ò–ù–ù!
- –ï—Å–ª–∏ –Ω–∞—Ç–∫–Ω–µ—à—å—Å—è –Ω–∞ —Ä–∞–∑–¥–µ–ª —Å –∑–∞–≥–æ–ª–≤–∫–æ–º "–°–≤–µ–¥–µ–Ω–∏—è –æ –¥–æ–ª–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –∑–∞–µ–º—â–∏–∫–∞ –±–µ–∑ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∑–∞–π–º–∞" ‚Äî –∑–Ω–∞—á–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ—Ä–æ–≤ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è, –¥–∞–ª—å—à–µ –Ω–µ —Å–º–æ—Ç—Ä–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

JSON (–°–¢–†–û–ì–û —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç):
{{
  "–ö—Ä–µ–¥–∏—Ç—ã": [
    {{
      "–ö—Ä–µ–¥–∏—Ç–æ—Ä": "–Ω–∞–∑–≤–∞–Ω–∏–µ",
      "–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞": "–í–¢–û–†–û–ï —á–∏—Å–ª–æ –∏–∑ —Å—Ç–æ–ª–±—Ü–∞ –û–ì–†–ù/–ò–ù–ù (10 —Ü–∏—Ñ—Ä)",
      "–í–∏–¥": "—Ç–∏–ø –∫—Ä–µ–¥–∏—Ç–∞ (–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏–π –∫—Ä–µ–¥–∏—Ç/–ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞/–ú–∏–∫—Ä–æ–∑–∞–π–º/–ò–ø–æ—Ç–µ–∫–∞/–ê–≤—Ç–æ–∫—Ä–µ–¥–∏—Ç/–¥—Ä—É–≥–æ–µ)",
      "–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏": "–î–î.–ú–ú.–ì–ì–ì–ì",
      "–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞": "–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞",
      "–°—É–º–º–∞": "–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å, —Å—Ç–æ–ª–±–µ—Ü –°—É–º–º–∞"
    }}
  ]
}}"""

                try:
                    print(f"      –û–±—Ä–∞–±–æ—Ç–∫–∞ ({len(pages)} —Å—Ç—Ä.)...", end=" ", flush=True)
                    response_text, error_code = self.process_images_with_gpt(page_images, simple_prompt)
                    
                    # –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 400/500 - –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –±–∞—Ç—á-—Ä–µ–∂–∏–º
                    if error_code in [400, 500]:
                        print(f"ERROR {error_code}, –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ –±–∞—Ç—á-—Ä–µ–∂–∏–º...")
                        use_batch = True
                        batch_size = 30  # –ù–∞—á–∏–Ω–∞–µ–º —Å –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
                        # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º –±–∞—Ç—á-–æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã—à–µ
                        # –ù–æ —ç—Ç–æ –ø—Ä–æ—â–µ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é. –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
                        extracted_data = {}
                        error = f"Document too large (error {error_code}), but batch processing not available in this code path"
                    else:
                        cleaned = self.clean_json_response(response_text)
                        try:
                            extracted_data = json.loads(cleaned) if cleaned else {}
                            
                            # FALLBACK: –µ—Å–ª–∏ GPT –≤–µ—Ä–Ω—É–ª "–î–æ–≥–æ–≤–æ—Ä—ã" –≤–º–µ—Å—Ç–æ "–ö—Ä–µ–¥–∏—Ç—ã"
                            if "–î–æ–≥–æ–≤–æ—Ä—ã" in extracted_data and "–ö—Ä–µ–¥–∏—Ç—ã" not in extracted_data:
                                print(f"      [FIX] GPT –≤–µ—Ä–Ω—É–ª '–î–æ–≥–æ–≤–æ—Ä—ã', –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—é –≤ '–ö—Ä–µ–¥–∏—Ç—ã'")
                                extracted_data["–ö—Ä–µ–¥–∏—Ç—ã"] = extracted_data.pop("–î–æ–≥–æ–≤–æ—Ä—ã")
                            
                            credits = extracted_data.get("–ö—Ä–µ–¥–∏—Ç—ã", [])
                            credit_count = len(credits)
                            print(f"OK ({credit_count} –∫—Ä–µ–¥–∏—Ç–æ–≤)")
                            
                            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤
                            if credits:
                                print(f"      [–ò–ó–í–õ–ï–ß–ï–ù–û]:")
                                for idx, credit in enumerate(credits, 1):
                                    creditor = credit.get("–ö—Ä–µ–¥–∏—Ç–æ—Ä", "???")
                                    date = credit.get("–î–∞—Ç–∞_—Å–¥–µ–ª–∫–∏", "???")
                                    initial = credit.get("–°—É–º–º–∞_–æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞", "???")
                                    debt = credit.get("–°—É–º–º–∞", "???")
                                    inn = credit.get("–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞", "")
                                    
                                    # –ï—Å–ª–∏ –ò–ù–ù –Ω–µ—Ç - –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
                                    if not inn and creditor != "???":
                                        _, canonical_name = DocumentProcessor.normalize_bank_name(creditor)
                                        inn = DocumentProcessor.get_bank_inn(canonical_name)
                                        if inn:
                                            credit["–ò–ù–ù_–∫—Ä–µ–¥–∏—Ç–æ—Ä–∞"] = inn
                                            print(f"        {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt} | –ò–ù–ù: {inn} (–∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞)")
                                        else:
                                            print(f"        {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt}")
                                    else:
                                        print(f"        {idx}. {creditor} | –î–∞—Ç–∞: {date} | –ù–∞—á–∞–ª—å–Ω–∞—è: {initial} | –î–æ–ª–≥: {debt} | –ò–ù–ù: {inn}")
                        except json.JSONDecodeError as json_err:
                            print(f"ERROR (JSON parse failed)")
                            print(f"      [DEBUG] –û—Ç–≤–µ—Ç GPT (–ø–µ—Ä–≤—ã–µ 500 —Å–∏–º–≤–æ–ª–æ–≤):")
                            print(f"      {response_text[:500]}")
                            extracted_data = {}
                            error = f"JSON parse error: {str(json_err)}"
                except Exception as e:
                    print(f"ERROR ({str(e)[:50]})")
                    extracted_data = {}
                    error = str(e)

            
            # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
            for tmp_path in page_images:
                try:
                    os.unlink(tmp_path)
                except:
                    pass

            elapsed = time.time() - start_time

            return DocumentOutput(
                file=pdf_path.name,
                document_type=doc_type,
                pages=len(pages),
                processing_time_seconds=round(elapsed, 2),
                data=extracted_data,
                error=error,
                extracted_text=None,
            )

        # FALLBACK: –ï—Å–ª–∏ PDF API –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ (Vision API)
        # –≠—Ç–æ—Ç –±–ª–æ–∫ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ç—á—ë—Ç–æ–≤, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞ —Å–ª—É—á–∞–π –æ—Ç–ª–∞–¥–∫–∏
        if False and doc_type in ["–æ—Ç—á–µ—Ç_–æ–∫–±_OLD", "–æ—Ç—á–µ—Ç_–±–∫–∏_OLD", "–æ—Ç—á–µ—Ç_–Ω–±–∫–∏_OLD"]:
            print(f"      [CREDIT] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ (Vision API - FALLBACK)")

            # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–í–°–ï —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ–ª–≥–∏!)
            print(f"      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...", end=" ", flush=True)
            pdf = pdfium.PdfDocument(str(pdf_path))
            total_pages = len(pdf)  # –û–ë–†–ê–ë–ê–¢–´–í–ê–ï–ú –í–°–ï –°–¢–†–ê–ù–ò–¶–´
            pages = []
            for i in range(total_pages):
                page = pdf[i]
                bitmap = page.render(scale=2.5)  # scale 2.5 ‚âà 200 DPI
                pil_image = bitmap.to_pil()
                pages.append(pil_image)
            print(f"OK ({len(pages)} —Å—Ç—Ä.)")

            # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
            print(f"      –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü...", end=" ", flush=True)
            page_images = []
            for i, page in enumerate(pages):
                with tempfile.NamedTemporaryFile(suffix=".jpg", delete=False) as tmp_file:
                    tmp_path = tmp_file.name
                    page.save(tmp_path, 'JPEG', quality=95, optimize=True)
                    page_images.append(tmp_path)
            print("OK")

            # –ë–ê–¢–ß–ò–ù–ì: –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü > 100, —Ä–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –ø–æ—Ä—Ü–∏–∏
            # –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ –¥–æ 100 —Å—Ç—Ä., —á—Ç–æ–±—ã –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ—Ç—á—ë—Ç–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å —Ü–µ–ª–∏–∫–æ–º
            # –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ú–§–ö/–ú–ö–ö, —Ç.–∫. –∏—Ö –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É
            BATCH_SIZE = 100  # –º–∞–∫—Å–∏–º—É–º —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞ —Ä–∞–∑
            all_credits = []
            error = None

            if len(page_images) > BATCH_SIZE:
                print(f"      [BATCH] –î–æ–∫—É–º–µ–Ω—Ç –±–æ–ª—å—à–æ–π ({len(page_images)} —Å—Ç—Ä.), –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ {BATCH_SIZE} —Å—Ç—Ä...")
                
                # –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ –±–∞—Ç—á–∏
                for batch_start in range(0, len(page_images), BATCH_SIZE):
                    batch_end = min(batch_start + BATCH_SIZE, len(page_images))
                    batch_images = page_images[batch_start:batch_end]
                    batch_num = (batch_start // BATCH_SIZE) + 1
                    total_batches = (len(page_images) + BATCH_SIZE - 1) // BATCH_SIZE
                    
                    # –ü—Ä–æ–º–ø—Ç –¥–ª—è –±–∞—Ç—á–∞
                    batch_prompt = base_prompt + f"""

–≠—Ç–æ –ß–ê–°–¢–¨ {batch_num}/{total_batches} –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ (—Å—Ç—Ä. {batch_start+1}-{batch_end} –∏–∑ {len(page_images)}).
–ò–∑–≤–ª–µ–∫–∏ –í–°–ï –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ —ç—Ç–æ–π —á–∞—Å—Ç–∏!

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
1. –ü–æ–ª–µ '–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤': '–ù/–î' ‚Üí –¥–æ–ª–≥ –∞–∫—Ç–∏–≤–µ–Ω, –¥–∞—Ç–∞ ‚Üí –ø–æ–≥–∞—à–µ–Ω
2. –†–∞–∑–¥–µ–ª '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ > 0 ‚Üí –µ—Å—Ç—å –¥–æ–ª–≥
3. –ò–∑–≤–ª–µ–∫–∞–π: –ò–ù–ù, –¥–∞—Ç—É –¥–æ–≥–æ–≤–æ—Ä–∞, —Ç–∏–ø, —Å—É–º–º—É
4. –û–¥–∏–Ω –∫—Ä–µ–¥–∏—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON —Å–æ —Å–ø–∏—Å–∫–æ–º –∫—Ä–µ–¥–∏—Ç–æ–≤!"""
                    
                    try:
                        print(f"      –ë–∞—Ç—á {batch_num}/{total_batches} (—Å—Ç—Ä. {batch_start+1}-{batch_end})...", end=" ", flush=True)
                        response_text, error_code = self.process_images_with_gpt(batch_images, batch_prompt)
                        cleaned = self.clean_json_response(response_text)
                        batch_data = json.loads(cleaned) if cleaned else {}
                        
                        # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫—Ä–µ–¥–∏—Ç—ã –∏–∑ –±–∞—Ç—á–∞
                        batch_credits = batch_data.get("–ö—Ä–µ–¥–∏—Ç—ã") or batch_data.get("–î–æ–≥–æ–≤–æ—Ä—ã") or []
                        all_credits.extend(batch_credits)
                        print(f"OK (+{len(batch_credits)} –∫—Ä–µ–¥.)")
                    except Exception as e:
                        print(f"ERROR ({str(e)[:30]})")
                        if not error:  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–≤—É—é –æ—à–∏–±–∫—É
                            error = str(e)
                        continue
                
                # –§–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                extracted_data = {
                    "–ö—Ä–µ–¥–∏—Ç—ã": all_credits,
                    "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ_–∞–∫—Ç–∏–≤–Ω—ã—Ö_–∫—Ä–µ–¥–∏—Ç–æ–≤": len(all_credits)
                }
            else:
                # –û–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ (‚â§25 —Å—Ç—Ä)
                credit_prompt = base_prompt + f"""

–≠—Ç–æ –∫—Ä–µ–¥–∏—Ç–Ω—ã–π –æ—Ç—á–µ—Ç ({len(pages)} —Å—Ç—Ä.).
–ü–†–û–ê–ù–ê–õ–ò–ó–ò–†–£–ô –í–°–ï –°–¢–†–ê–ù–ò–¶–´!

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
1. –ü–æ–ª–µ '–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤': '–ù/–î' ‚Üí –¥–æ–ª–≥ –∞–∫—Ç–∏–≤–µ–Ω, –¥–∞—Ç–∞ ‚Üí –ø–æ–≥–∞—à–µ–Ω
2. –†–∞–∑–¥–µ–ª '–ó–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç—å' ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ > 0 ‚Üí –µ—Å—Ç—å –¥–æ–ª–≥
3. –ò–∑–≤–ª–µ–∫–∞–π: –ò–ù–ù, –¥–∞—Ç—É –¥–æ–≥–æ–≤–æ—Ä–∞, —Ç–∏–ø, —Å—É–º–º—É –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏
4. –û–¥–∏–Ω –∫—Ä–µ–¥–∏—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û –í–ê–õ–ò–î–ù–´–ô JSON –ë–ï–ó –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û–ì–û –¢–ï–ö–°–¢–ê!
–ù–∏–∫–∞–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ JSON!
–¢–æ–ª—å–∫–æ —á–∏—Å—Ç—ã–π JSON —Ñ–æ—Ä–º–∞—Ç!

–í–ï–†–ù–ò –¢–û–õ–¨–ö–û JSON!"""

                try:
                    print(f"      –û–±—Ä–∞–±–æ—Ç–∫–∞ GPT-4o ({len(pages)} —Å—Ç—Ä.)...", end=" ", flush=True)
                    response_text, error_code = self.process_images_with_gpt(page_images, credit_prompt)
                    cleaned = self.clean_json_response(response_text)
                    extracted_data = json.loads(cleaned) if cleaned else {}
                    print("OK")
                except Exception as e:
                    print(f"ERROR ({str(e)[:50]})")
                    extracted_data = {}
                    error = str(e)
            
            # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
            for tmp_path in page_images:
                try:
                    os.unlink(tmp_path)
                except:
                    pass

            elapsed = time.time() - start_time
            total_pages = len(pages)

            return DocumentOutput(
                file=pdf_path.name,
                document_type=doc_type,
                pages=total_pages,
                processing_time_seconds=round(elapsed, 2),
                data=extracted_data,
                error=error,
                extracted_text=None,
            )

        # === –û–ë–´–ß–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –î–õ–Ø –û–°–¢–ê–õ–¨–ù–´–• –î–û–ö–£–ú–ï–ù–¢–û–í ===
        # Convert PDF to images using pypdfium2
        print(f"      –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PDF –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...", end=" ", flush=True)
        pdf = pdfium.PdfDocument(str(pdf_path))
        total_pages = len(pdf)
        pages = []
        for i in range(total_pages):
            page = pdf[i]
            bitmap = page.render(scale=2.0)  # scale 2.0 ‚âà 150 DPI
            pil_image = bitmap.to_pil()
            pages.append(pil_image)
        print(f"OK ({total_pages} —Å—Ç—Ä.)")
        saved_page_paths: List[str] = []
        extracted_data: Dict[str, Any] = {}
        error: Optional[str] = None

        try:
            # Save all pages as temporary JPEG files
            print(f"      –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü...", end=" ", flush=True)
            for page in pages:
                with tempfile.NamedTemporaryFile(suffix=".jpg", delete=False) as tmp_file:
                    tmp_path = tmp_file.name
                    page.save(tmp_path, "JPEG", quality=95, optimize=True)
                    saved_page_paths.append(tmp_path)
            print(f"OK")

            # Create multi-page prompt
            multi_page_prompt = f"""{base_prompt}

–≠—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç {len(pages)} —Å—Ç—Ä–∞–Ω–∏—Ü(—ã). –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∏–∂–µ.
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –í–°–ï –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ–∫–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.
–û–±—ä–µ–¥–∏–Ω–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –æ–¥–∏–Ω JSON –æ–±—ä–µ–∫—Ç.
–í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –°–¢–†–û–ì–û –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON."""

            print(f"      –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü GPT-5...", end=" ", flush=True)

            # Process all pages at once with GPT-5 Vision
            response_text, error_code = self.process_images_with_gpt(saved_page_paths, multi_page_prompt)
            cleaned = self.clean_json_response(response_text)

            try:
                extracted_data = json.loads(cleaned)
                if error_code:
                    print(f"WARN - Error {error_code}")
                else:
                    print(f"OK")
            except json.JSONDecodeError as e:
                error = f"JSON decode error: {str(e)}"
                extracted_data = {"raw_response": response_text, "error": error}
                print(f"WARN - JSON error")
        except Exception as exc:
            error = str(exc)
            extracted_data = {"error": str(exc)}
            print(f"ERROR: {str(exc)[:50]}")
        finally:
            # Clean up temporary files
            for tmp_path in saved_page_paths:
                try:
                    os.remove(tmp_path)
                except OSError:
                    continue

        elapsed = time.time() - start_time
        return DocumentOutput(
            file=pdf_path.name,
            document_type=doc_type,
            pages=len(pages),
            processing_time_seconds=round(elapsed, 2),
            data=extracted_data,
            error=error,
            extracted_text=None,
        )

    def process_batch(
        self,
        pdf_paths: Iterable[Path],
        output_json: Optional[Path] = None,
        debtor_id: Optional[str] = None,
        lawyer: Optional[str] = None,
    ) -> tuple[List[DocumentOutput], Dict[str, List[Dict[str, Any]]], List[Path]]:
        results: List[DocumentOutput] = []
        aggregated: Dict[str, List[Dict[str, Any]]] = {}
        pdf_list = list(pdf_paths)  # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

        # –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã: –ø–∞—Å–ø–æ—Ä—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–º, –ø–æ—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ
        def sort_key(path: Path) -> tuple[int, str]:
            filename_lower = path.name.lower()
            if "–ø–∞—Å–ø–æ—Ä—Ç" in filename_lower or "passport" in filename_lower:
                return (0, path.name)  # –ø–∞—Å–ø–æ—Ä—Ç –ø–µ—Ä–≤—ã–º
            elif "–µ–≥—Ä–Ω" in filename_lower or "–≤—ã–ø–∏—Å–∫–∞" in filename_lower:
                return (2, path.name)  # –ï–ì–†–ù –ø–æ—Å–ª–µ –ø–∞—Å–ø–æ—Ä—Ç–∞, –Ω–æ –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏
            else:
                return (1, path.name)  # –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

        sorted_pdf_list = sorted(pdf_list, key=sort_key)

        # –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ (–∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞)
        debtor_fio = ""

        for pdf in sorted_pdf_list:
            try:
                result = self.process_pdf(pdf, debtor_fio=debtor_fio)
            except Exception as exc:  # noqa: BLE001
                result = DocumentOutput(
                    file=pdf.name,
                    document_type="–æ—à–∏–±–∫–∞",
                    pages=0,
                    processing_time_seconds=0.0,
                    data={},
                    error=str(exc),
                )
            results.append(result)
            if not result.error and isinstance(result.data, dict) and "raw_output" not in result.data:
                aggregated.setdefault(result.document_type, []).append(result.data)
                
                # –ò–∑–≤–ª–µ–∫–∞–µ–º –§–ò–û –¥–æ–ª–∂–Ω–∏–∫–∞ –∏–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
                if result.document_type == "–ø–∞—Å–ø–æ—Ä—Ç" and "–§–ò–û" in result.data:
                    debtor_fio = result.data.get("–§–ò–û", "")
                    if debtor_fio:
                        print(f"      [–§–ò–û –î–û–õ–ñ–ù–ò–ö–ê] –ò–∑–≤–ª–µ—á–µ–Ω–æ: {debtor_fio}")

        # –ü–µ—Ä–µ–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
        template_context = self.prepare_template_context(aggregated, pdf_list, client)
        filled_templates = self.generate_all_documents(template_context, debtor_id=debtor_id, lawyer=lawyer)
        if output_json:
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º template_context –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            # –°–Ω–∞—á–∞–ª–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –º–∞—Ä–∫–µ—Ä—ã –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã–µ '\n',
            # –∑–∞—Ç–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º RichText –æ–±—ä–µ–∫—Ç—ã –≤ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            normalized_context = DocumentProcessor._normalize_line_breaks(template_context)
            serializable_context = self._make_json_serializable(normalized_context)
            with open(output_json, "w", encoding="utf-8") as handle:
                json.dump(serializable_context, handle, ensure_ascii=False, indent=2)
        return results, aggregated, filled_templates

    @staticmethod
    def _make_json_serializable(obj: Any) -> Any:
        """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç RichText –æ–±—ä–µ–∫—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –Ω–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–µ —Ç–∏–ø—ã –≤ —Å—Ç—Ä–æ–∫–∏."""
        from docxtpl import RichText
        
        if isinstance(obj, RichText):
            # RichText —Å–æ–¥–µ—Ä–∂–∏—Ç XML-—Ä–∞–∑–º–µ—Ç–∫—É, –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç
            # –ü–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
            rich_text_str = str(obj)
            
            # –£–¥–∞–ª—è–µ–º –≤—Å–µ XML-—Ç–µ–≥–∏, –∏–∑–≤–ª–µ–∫–∞—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
            # –ü–∞—Ç—Ç–µ—Ä–Ω –∏—â–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–µ–∂–¥—É <w:t>...</w:t> –∏–ª–∏ <w:t xml:space="preserve">...</w:t>
            text_content = re.findall(r'<w:t[^>]*>(.*?)</w:t>', rich_text_str)
            
            if text_content:
                # –û–±—ä–µ–¥–∏–Ω—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Ç–µ–∫—Å—Ç–∞
                return ''.join(text_content)
            else:
                # –ï—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–µ –Ω–∞—à–µ–ª –Ω–∏—á–µ–≥–æ, –ø—Ä–æ–±—É–µ–º –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ XML —Ç–µ–≥–∏
                clean_text = re.sub(r'<[^>]+>', '', rich_text_str)
                return clean_text.strip() if clean_text.strip() else ""
        elif isinstance(obj, dict):
            return {key: DocumentProcessor._make_json_serializable(value) for key, value in obj.items()}
        elif isinstance(obj, list):
            return [DocumentProcessor._make_json_serializable(item) for item in obj]
        elif isinstance(obj, (str, int, float, bool, type(None))):
            return obj
        else:
            # –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å—Ç—Ä–æ–∫–µ
            return str(obj)

    @staticmethod
    def _normalize_line_breaks(obj: Any) -> Any:
        """–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∑–∞–º–µ–Ω—è–µ—Ç –º–∞—Ä–∫–µ—Ä—ã –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π '\n' –≤ —Å—Ç—Ä–æ–∫–∞—Ö –ø–µ—Ä–µ–¥ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

        –ó–∞–º–µ–Ω—è–µ–º —à–∞–±–ª–æ–Ω–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤–∏–¥–∞ '{{LINE_BREAK}}', '{{ LINE_BREAK }}', '{LINE_BREAK}'
        –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã 'LINE_BREAK' (–∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ) –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏.
        """
        import re

        if isinstance(obj, dict):
            return {k: DocumentProcessor._normalize_line_breaks(v) for k, v in obj.items()}
        if isinstance(obj, list):
            return [DocumentProcessor._normalize_line_breaks(v) for v in obj]
        if isinstance(obj, str):
            # replace brace variants
            s = re.sub(r"\{\{\s*LINE_BREAK\s*\}\}|\{LINE_BREAK\}", "\n", obj)
            # replace standalone token LINE_BREAK when it's a separate word
            s = re.sub(r"(?<!\w)LINE_BREAK(?!\w)", "\n", s)
            return s
        return obj


__all__ = ["DocumentProcessor", "DocumentOutput", "GPT_MODEL"]


# === CLI Interface ===
def main():
    """–ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏."""
    import sys
    from pathlib import Path

    print("=" * 70)
    print("  PROCESSING BANKRUPTCY DOCUMENTS")
    print("=" * 70)
    print()

    # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–∞–ø–∫—É —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
    if len(sys.argv) > 1:
        input_folder = Path(sys.argv[1])
    else:
        folder_input = input("–í–≤–µ–¥–∏—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏: ").strip().strip('"')
        if not folder_input:
            print("ERROR - –ü—É—Ç—å –Ω–µ —É–∫–∞–∑–∞–Ω!")
            return
        input_folder = Path(folder_input)

    if not input_folder.exists():
        print(f"ERROR - –ü–∞–ø–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: {input_folder}")
        return

    if not input_folder.is_dir():
        print(f"ERROR - –≠—Ç–æ –Ω–µ –ø–∞–ø–∫–∞: {input_folder}")
        return

    # –ò—â–µ–º PDF —Ñ–∞–π–ª—ã
    pdf_files = list(input_folder.glob("*.pdf"))

    if not pdf_files:
        print(f"ERROR - –í –ø–∞–ø–∫–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ PDF —Ñ–∞–π–ª–æ–≤: {input_folder}")
        return

    print(f"OK - –ù–∞–π–¥–µ–Ω–æ {len(pdf_files)} PDF —Ñ–∞–π–ª(–æ–≤):")
    for i, pdf in enumerate(pdf_files, 1):
        print(f"   {i}. {pdf.name}")
    print()

    # –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
    processor = DocumentProcessor()

    # –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
    print("–ù–∞—á–∏–Ω–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤...")
    print()

    output_json = input_folder / "—Ä–µ–∑—É–ª—å—Ç–∞—Ç_–æ–±—Ä–∞–±–æ—Ç–∫–∏.json"

    overall_start = time.time()

    try:
        results, aggregated, filled_template = processor.process_batch(
            pdf_files,
            output_json=output_json
        )

        overall_elapsed = time.time() - overall_start

        print()
        print("=" * 70)
        print("  PROCESSING COMPLETE")
        print("=" * 70)
        print(f"  Total time: {overall_elapsed:.1f} seconds ({overall_elapsed/60:.1f} min)")
        print()

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        for result in results:
            status = "[+]" if not result.error else "[-]"
            print(f"{status} {result.file}")
            print(f"   –¢–∏–ø: {result.document_type}")
            print(f"   –°—Ç—Ä–∞–Ω–∏—Ü: {result.pages}")
            print(f"   –í—Ä–µ–º—è: {result.processing_time_seconds} —Å–µ–∫")
            if result.error:
                print(f"   WARNING - –û—à–∏–±–∫–∞: {result.error}")
            print()

        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
        print("Created files:")
        print(f"   > {output_json.name} - JSON —Å –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏")


        if filled_template:
            for tmpl in filled_template:
                print(f"   > {tmpl.name}")

        print()
        print(f"All files saved to: {input_folder}")
        print()

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        total_docs = len(results)
        successful = sum(1 for r in results if not r.error)
        failed = total_docs - successful

        print("Statistics:")
        print(f"   –í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {total_docs}")
        print(f"   –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ: {successful}")
        if failed > 0:
            print(f"   –° –æ—à–∏–±–∫–∞–º–∏: {failed}")

        print()
        print("Done! Check the filled template.")

    except KeyboardInterrupt:
        print()
        print("WARNING - Processing interrupted by user")
    except Exception as exc:
        print()
        print(f"ERROR - {exc}")
        try:
            import traceback
            traceback.print_exc()
        except Exception as te:
            print(f"[TRACEBACK ERROR] Failed to print traceback: {te}")


if __name__ == "__main__":
    main()

